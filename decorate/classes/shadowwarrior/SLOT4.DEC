actor UziAmountCheck : Boolean {}
actor UziCheck : Boolean {}
actor SamsaraShadowWarriorUziRightAmmoCheckFailed : Boolean {}
actor SamsaraShadowWarriorUziLeftAmmoCheckFailed : Boolean {}

actor SWUzi : Weapon
{
    Weapon.SelectionOrder 400
    Weapon.BobRangeX 0.75
    Weapon.BobRangeY 0.95
    Weapon.BobSpeed 1.1
    Weapon.SlotNumber 4
    Weapon.AmmoType1 "SWUziClip"
    Weapon.AmmoUse1 1
    Weapon.AmmoType2 "Clip"
    Weapon.AmmoGive2 50
    Inventory.PickupSound "Item/pickup"
    Inventory.PickupMessage "You picked up the Uzi!"
    Obituary "%o tasted %k's Uzi."
    Decal "ShadowWarriorBulletChip"
    Tag "Uzi"
    Inventory.RestrictedTo "LoWangPlayer"
    +AMMO_OPTIONAL
    +NOALERT
    States
    {
      Spawn:
        SW40 Z -1
        stop

      // Single
      Ready:
        TNT1 A 0 A_TakeInventory("SWFistYell")
        TNT1 A 0 A_JumpIfInventory("LoWangReady",1,"IntroTaunt")
        TNT1 A 0 A_JumpIfInventory("UziCheck",1,"ReadyDual")
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",0,"ReadyModernReloadable")
      ReadyNonReloadable:
        TNT1 A 0 A_JumpIfInventory("UziAmountCheck",1,2)
        MUZI A 1 A_WeaponReady(WRF_NOSECONDARY)
        goto ReadyAmmoCheck
        MUZI A 1 A_WeaponReady
        goto ReadyAmmoCheck

      ReadyModernReloadable:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",0,"ReadyNonReloadable")
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,2)
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,2)
        TNT1 A 0 A_JumpIfInventory("Clip",1,1)
        goto ReadyNonReloadable
        TNT1 A 0 A_JumpIfInventory("UziAmountCheck",1,2)
        MUZI A 1 A_WeaponReady(WRF_NOSECONDARY|WRF_ALLOWRELOAD)
        goto ReadyAmmoCheck
        MUZI A 1 A_WeaponReady(WRF_ALLOWRELOAD)
        goto ReadyAmmoCheck

      ReadyAmmoCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,1)
        goto Ready
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Ready")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"Ready")
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadSingle")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadSingle")
        goto Ready

      Deselect:
        TNT1 A 0 A_Lower
        TNT1 A 0 A_JumpIfInventory("UziCheck",1,"DeselectDual")
        MUZI A 1 A_Lower
        loop

      Select:
        TNT1 A 0 A_PlaySound("uzi/ready",CHAN_6)
      SelectLoop:
        TNT1 A 0 A_Raise
        TNT1 A 0 A_JumpIfInventory("UziCheck",1,"SelectDual")
        MUZI A 1 A_Raise
        loop

      Fire:
        TNT1 A 0 A_JumpIfInventory("UziCheck",1,"FireDual")
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireReloadable")
      FireNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Fire1A")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"Fire1A")
        goto NoAmmoSwitch

      FireReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Fire1A")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"Fire1A")
      FireReloadableDryCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadSingle")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadSingle")
        goto NoAmmoSwitch

      Fire1A:
        TNT1 A 0 A_PlaySound("uzi/fire",CHAN_WEAPON)
        MUZI C 1 Bright A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_FireCustomMissile("MicroUziTracer",random(-2,2),false,8,3)
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziSingleAttackHandler")
        MUZI C 1 Bright Offset(1,33) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 ACS_NamedExecuteAlways("SW748", 0, 1)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"Fire1BReloadable")
      Fire1BNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Fire1B")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"Fire1B")
        goto NoAmmoSwitch

      Fire1BReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Fire1B")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"Fire1B")
      Fire1BReloadableSwitchCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadSingle")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadSingle")
        goto NoAmmoSwitch

      Fire1B:
        MUZI C 1 Bright Offset(2,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziSingleAttackHandler")
        MUZI C 1 Bright Offset(3,31) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_AlertMonsters

        ////////////////////////////////////////////////////////////////////////////////////
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"Fire1CReloadable")
      Fire1CNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Fire1C")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"Fire1C")
        goto NoAmmoSwitch

      Fire1CReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Fire1C")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"Fire1C")
      Fire1CReloadableSwitchCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadSingle")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadSingle")
        goto NoAmmoSwitch

      Fire1C:
        MUZI B 1 Bright Offset(4,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_FireCustomMissile("MicroUziTracer",random(-2,2),false,8,3)
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziSingleAttackHandler")
        MUZI B 1 Bright Offset(5,33) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 ACS_NamedExecuteAlways("SW748", 0, 1)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"Fire1DReloadable")
      Fire1DNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Fire1D")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"Fire1D")
        goto NoAmmoSwitch

      Fire1DReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Fire1D")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"Fire1D")
      Fire1DReloadableSwitchCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadSingle")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadSingle")
        goto NoAmmoSwitch

      Fire1D:
        MUZI B 1 Bright Offset(6,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 0, "FireEnd4")
        MUZI B 1 Bright Offset(7,31) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        ////////////////////////////////////////////////////////////////////////////////////

//-----------------------Here While, hardcode system--------------------------//
      Fire2Start:
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"Fire2AReloadable")
      Fire2ANonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Fire2A")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"Fire2A")
        goto NoAmmoSwitch

      Fire2AReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Fire2A")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"Fire2A")
      Fire2AReloadableSwitchCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadSingle")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadSingle")
        goto NoAmmoSwitch

      Fire2A:
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziSingleAttackHandler")
        MUZI C 1 Bright Offset(8,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 ACS_NamedExecuteAlways("SW748", 0, 1)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"Fire2BReloadable")
      Fire2BNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Fire2B")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"Fire2B")
        goto NoAmmoSwitch

      Fire2BReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Fire2B")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"Fire2B")
      Fire2BReloadableSwitchCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadSingle")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadSingle")
        goto NoAmmoSwitch

      Fire2B:
        MUZI C 1 Bright Offset(9,33) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 0, "FireEnd2")
        MUZI C 1 Bright Offset(10,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_FireCustomMissile("MicroUziTracer",random(-2,2),false,8,3)

        //////////////////////////////////////////////////////////////////////////////////////////
      Fire3A:
        TNT1 A 0 A_PlaySound("uzi/fire",CHAN_WEAPON)
        MUZI B 1 Bright Offset(11,31) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"Fire3BReloadable")
      Fire3BNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Fire3B")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"Fire3B")
        goto NoAmmoSwitch

      Fire3BReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Fire3B")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"Fire3B")
      Fire3BReloadableSwitchCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadSingle")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadSingle")
        goto NoAmmoSwitch

      Fire3B:
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziSingleAttackHandler")
        MUZI B 1 Bright Offset(11,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 ACS_NamedExecuteAlways("SW748", 0, 1)
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"Fire3CReloadable")
      Fire3CNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Fire3C")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"Fire3C")
        goto NoAmmoSwitch

      Fire3CReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Fire3C")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"Fire3C")
      Fire3CReloadableSwitchCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadSingle")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadSingle")
        goto NoAmmoSwitch

      Fire3C:
        MUZI B 1 Bright Offset(11,33) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 0, "FireEnd1")
        MUZI B 1 Bright Offset(11,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        ///////////////////////////////////////////////////////////////////////////////////////////

      Fire9Start:
        ///////////////////////////////////////////////////////////////////////////////////////////
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"Fire9AReloadable")
      Fire9ANonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Fire9A")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"Fire9A")
        goto NoAmmoSwitch

      Fire9AReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Fire9A")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"Fire9A")
      Fire9AReloadableSwitchCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadSingle")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadSingle")
        goto NoAmmoSwitch

      Fire9A:
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziSingleAttackHandler")
        MUZI C 1 Bright Offset(10,31) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 ACS_NamedExecuteAlways("SW748", 0, 1)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"Fire9BReloadable")
      Fire9BNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Fire9B")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"Fire9B")
        goto NoAmmoSwitch

      Fire9BReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Fire9B")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"Fire9B")
      Fire9BReloadableSwitchCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadSingle")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadSingle")
        goto NoAmmoSwitch

      Fire9B:
        MUZI C 1 Bright Offset(9,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_FireCustomMissile("MicroUziTracer",random(-2,2),false,8,3)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 0, "FireEnd50")
        MUZI C 1 Bright Offset(8,33) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)

        //////////////////////////////////////////////////////////////////////////////////////////
      Fire4A:
        TNT1 A 0 A_PlaySound("uzi/fire",CHAN_WEAPON)
        MUZI B 1 Bright Offset(7,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"Fire4BReloadable")
      Fire4BNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Fire4B")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"Fire4B")
        goto NoAmmoSwitch

      Fire4BReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Fire4B")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"Fire4B")
      Fire4BReloadableSwitchCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadSingle")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadSingle")
        goto NoAmmoSwitch

      Fire4B:
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziSingleAttackHandler")
        MUZI B 1 Bright Offset(5,31) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 ACS_NamedExecuteAlways("SW748", 0, 1)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"Fire4CReloadable")
      Fire4CNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Fire4C")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"Fire4C")
        goto NoAmmoSwitch

      Fire4CReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Fire4C")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"Fire4C")
      Fire4CReloadableSwitchCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadSingle")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadSingle")
        goto NoAmmoSwitch

      Fire4C:
        MUZI B 1 Bright Offset(4,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 0, "FireEnd44")
        MUZI B 1 Bright Offset(2,33) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        ///////////////////////////////////////////////////////////////////////////////////////////

      Fire10Start:
        ///////////////////////////////////////////////////////////////////////////////////////////
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"Fire10AReloadable")
      Fire10ANonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Fire10A")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"Fire10A")
        goto NoAmmoSwitch

      Fire10AReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Fire10A")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"Fire10A")
      Fire10AReloadableSwitchCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadSingle")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadSingle")
        goto NoAmmoSwitch

      Fire10A:
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziSingleAttackHandler")
        MUZI C 1 Bright Offset(1,33) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 ACS_NamedExecuteAlways("SW748", 0, 1)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"Fire10BReloadable")
      Fire10BNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Fire10B")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"Fire10B")
        goto NoAmmoSwitch

      Fire10BReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Fire10B")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"Fire10B")
      Fire10BReloadableSwitchCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadSingle")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadSingle")
        goto NoAmmoSwitch

      Fire10B:
        MUZI C 1 Bright Offset(0,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_FireCustomMissile("MicroUziTracer",random(-2,2),false,8,3)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 0, "FireEnd41")
        MUZI C 1 Bright Offset(-1,31) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        ///////////////////////////////////////////////////////////////////////////////////////////

        ////////////////////////////////////////////////////////////////////////////////////////////
      Fire5A:
        TNT1 A 0 A_PlaySound("uzi/fire",CHAN_WEAPON)
        MUZI B 1 Bright Offset(-2,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"Fire5BReloadable")
      Fire5BNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Fire5B")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"Fire5B")
        goto NoAmmoSwitch

      Fire5BReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Fire5B")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"Fire5B")
      Fire5BReloadableSwitchCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadSingle")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadSingle")
        goto NoAmmoSwitch

      Fire5B:
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziSingleAttackHandler")
        MUZI B 1 Bright Offset(-4,33) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 ACS_NamedExecuteAlways("SW748", 0, 1)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"Fire5CReloadable")
      Fire5CNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Fire5C")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"Fire5C")
        goto NoAmmoSwitch

      Fire5CReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Fire5C")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"Fire5C")
      Fire5CReloadableSwitchCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadSingle")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadSingle")
        goto NoAmmoSwitch

      Fire5C:
        MUZI B 1 Bright Offset(-5,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 0, "FireEnd35")
        MUZI B 1 Bright Offset(-7,31) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        ///////////////////////////////////////////////////////////////////////////////////////////

      Fire11Start:
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"Fire11AReloadable")
      Fire11ANonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Fire11A")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"Fire11A")
        goto NoAmmoSwitch

      Fire11AReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Fire11A")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"Fire11A")
      Fire11AReloadableSwitchCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadSingle")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadSingle")
        goto NoAmmoSwitch

      Fire11A:
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziSingleAttackHandler")
        MUZI C 1 Bright Offset(-8,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"Fire11BReloadable")
      Fire11BNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Fire11B")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"Fire11B")
        goto NoAmmoSwitch

      Fire11BReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Fire11B")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"Fire11B")
      Fire11BReloadableSwitchCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadSingle")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadSingle")
        goto NoAmmoSwitch

      Fire11B:
        MUZI C 1 Bright Offset(-9,33) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_FireCustomMissile("MicroUziTracer",random(-2,2),false,8,3)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 0, "FireEnd32")
        MUZI C 1 Bright Offset(-10,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        /////////////////////////////////////////////////////////////////////////////////////////////

        //////////////////////////////////////////////////////////////////////////////////////////////
      Fire6A:
        TNT1 A 0 A_PlaySound("uzi/fire",CHAN_WEAPON)
        MUZI B 1 Bright Offset(-11,31) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"Fire6BReloadable")
      Fire6BNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Fire6B")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"Fire6B")
        goto NoAmmoSwitch

      Fire6BReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Fire6B")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"Fire6B")
      Fire6BReloadableSwitchCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadSingle")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadSingle")
        goto NoAmmoSwitch

      Fire6B:
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziSingleAttackHandler")
        MUZI B 1 Bright Offset(-11,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 ACS_NamedExecuteAlways("SW748", 0, 1)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"Fire6CReloadable")
      Fire6CNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Fire6C")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"Fire6C")
        goto NoAmmoSwitch

      Fire6CReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Fire6C")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"Fire6C")
      Fire6CReloadableSwitchCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadSingle")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadSingle")
        goto NoAmmoSwitch

      Fire6C:
        MUZI B 1 Bright Offset(-11,33) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 0, "FireEnd31")
        MUZI B 1 Bright Offset(-11,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        ///////////////////////////////////////////////////////////////////////////////////////////////

      Fire12Start:
        ///////////////////////////////////////////////////////////////////////////////////////////
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"Fire12AReloadable")
      Fire12ANonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Fire12A")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"Fire12A")
        goto NoAmmoSwitch

      Fire12AReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Fire12A")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"Fire12A")
      Fire12AReloadableSwitchCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadSingle")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadSingle")
        goto NoAmmoSwitch

      Fire12A:
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziSingleAttackHandler")
        MUZI C 1 Bright Offset(-10,31) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 ACS_NamedExecuteAlways("SW748", 0, 1)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"Fire12BReloadable")
      Fire12BNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Fire12B")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"Fire12B")
        goto NoAmmoSwitch

      Fire12BReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Fire12B")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"Fire12B")
      Fire12BReloadableSwitchCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadSingle")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadSingle")
        goto NoAmmoSwitch

      Fire12B:
        MUZI C 1 Bright Offset(-9,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_FireCustomMissile("MicroUziTracer",random(-2,2),false,8,3)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 0, "FireEnd20")
        MUZI C 1 Bright Offset(-8,33) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        /////////////////////////////////////////////////////////////////////////////////////////////

        //////////////////////////////////////////////////////////////////////////////////////////////
      Fire7A:
        TNT1 A 0 A_PlaySound("uzi/fire",CHAN_WEAPON)
        MUZI B 1 Bright Offset(-7,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"Fire7BReloadable")
      Fire7BNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Fire7B")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"Fire7B")
        goto NoAmmoSwitch

      Fire7BReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Fire7B")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"Fire7B")
      Fire7BReloadableSwitchCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadSingle")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadSingle")
        goto NoAmmoSwitch

      Fire7B:
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziSingleAttackHandler")
        MUZI B 1 Bright Offset(-5,31) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 ACS_NamedExecuteAlways("SW748", 0, 1)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"Fire7CReloadable")
      Fire7CNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Fire7C")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"Fire7C")
        goto NoAmmoSwitch

      Fire7CReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Fire7C")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"Fire7C")
      Fire7CReloadableSwitchCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadSingle")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadSingle")
        goto NoAmmoSwitch

      Fire7C:
        MUZI B 1 Bright Offset(-4,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 0, "FireEnd14")
        MUZI B 1 Bright Offset(-2,33) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        /////////////////////////////////////////////////////////////////////////////////////////////

      Fire13Start:
        ////////////////////////////////////////////////////////////////////////////////////////////
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"Fire13AReloadable")
      Fire13ANonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Fire13A")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"Fire13A")
        goto NoAmmoSwitch

      Fire13AReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Fire13A")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"Fire13A")
      Fire13AReloadableSwitchCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadSingle")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadSingle")
        goto NoAmmoSwitch

      Fire13A:
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziSingleAttackHandler")
        MUZI C 1 Bright Offset(-1,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 ACS_NamedExecuteAlways("SW748", 0, 1)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"Fire13BReloadable")
      Fire13BNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Fire13B")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"Fire13B")
        goto NoAmmoSwitch

      Fire13BReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Fire13B")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"Fire13B")
      Fire13BReloadableSwitchCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadSingle")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadSingle")
        goto NoAmmoSwitch

      Fire13B:
        MUZI C 1 Bright Offset(0,31) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_FireCustomMissile("MicroUziTracer",random(-2,2),false,8,3)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 0, "FireEnd11")
        MUZI C 1 Bright Offset(1,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        /////////////////////////////////////////////////////////////////////////////////////////////

        //////////////////////////////////////////////////////////////////////////////////////////////
      Fire8A:
        TNT1 A 0 A_PlaySound("uzi/fire",CHAN_WEAPON)
        MUZI B 1 Bright Offset(2,33) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"Fire8BReloadable")
      Fire8BNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Fire8B")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"Fire8B")
        goto NoAmmoSwitch

      Fire8BReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Fire8B")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"Fire8B")
      Fire8BReloadableSwitchCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadSingle")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadSingle")
        goto NoAmmoSwitch

      Fire8B:
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziSingleAttackHandler")
        MUZI B 1 Bright Offset(4,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 ACS_NamedExecuteAlways("SW748", 0, 1)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"Fire8CReloadable")
      Fire8CNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Fire8C")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"Fire8C")
        goto NoAmmoSwitch

      Fire8CReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Fire8C")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"Fire8C")
      Fire8CReloadableSwitchCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadSingle")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadSingle")
        goto NoAmmoSwitch

      Fire8C:
        MUZI B 1 Bright Offset(5,31) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 0, "FireEnd5")
        MUZI B 1 Bright Offset(7,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        //////////////////////////////////////////////////////////////////////////////////////////////
        goto Fire2Start

//-----------------------------Hold End Fire----------------------------------//
      FireEnd23:
        MUZI A 1 Offset(-11,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(-10,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 1, "Fire12Pre")
        MUZI A 1 Offset(-9,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
      FireEnd20:
        MUZI A 1 Offset(-8,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 1, "Fire7A")
        MUZI A 1 Offset(-7,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(-6,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(-5,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(-4,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(-3,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
      FireEnd14:
        MUZI A 1 Offset(-2,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(-1,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 1, "Fire13Pre")
        MUZI A 1 Offset(0,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
      FireEnd11:
        MUZI A 1 Offset(1,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(2,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 1, "Fire8A")
        MUZI A 1 Offset(3,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(4,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(5,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(6,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
      FireEnd5:
        MUZI A 1 Offset(7,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
      FireEnd4:
        MUZI A 1 Offset(8,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 1, "Fire2Pre")
        MUZI A 1 Offset(9,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
      FireEnd2:
        MUZI A 1 Offset(10,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
      FireEnd1:
        MUZI A 1 Offset(11,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(10,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 1, "Fire9Pre")
        MUZI A 1 Offset(9,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(8,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(7,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 1, "Fire4A")
        MUZI A 1 Offset(6,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(5,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(4,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(3,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(2,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(1,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        goto Ready

//----------------------------------------------------------------------------//
      FireEnd53:
        MUZI A 1 Offset(11,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(10,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 1, "Fire9Pre")
        MUZI A 1 Offset(9,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
      FireEnd50:
        MUZI A 1 Offset(8,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(7,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 1, "Fire4A")
        MUZI A 1 Offset(6,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(5,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(4,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(3,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
      FireEnd44:
        MUZI A 1 Offset(2,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(1,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 1, "Fire10Pre")
        MUZI A 1 Offset(0,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
      FireEnd41:
        MUZI A 1 Offset(-1,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 1, "Fire5A")
        MUZI A 1 Offset(-2,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(-3,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(-4,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(-5,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(-6,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
      FireEnd35:
        MUZI A 1 Offset(-7,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(-8,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(-9,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
      FireEnd32:
        MUZI A 1 Offset(-10,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
      FireEnd31:
        MUZI A 1 Offset(-11,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(-10,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 1, "Fire12Pre")
        MUZI A 1 Offset(-9,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(-8,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(-7,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 1, "Fire7A")
        MUZI A 1 Offset(-6,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(-5,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(-4,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(-3,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(-2,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZI A 1 Offset(-1,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        goto Ready

//----------------------------------------------------------------------------//
      Fire2Pre:
        TNT1 A 0 A_PlaySound("uzi/fire",CHAN_WEAPON)
        goto Fire2Start

      Fire9Pre:
        TNT1 A 0 A_PlaySound("uzi/fire",CHAN_WEAPON)
        goto Fire9Start

      Fire10Pre:
        TNT1 A 0 A_PlaySound("uzi/fire",CHAN_WEAPON)
        goto Fire10Start

      Fire12Pre:
        TNT1 A 0 A_PlaySound("uzi/fire",CHAN_WEAPON)
        goto Fire12Start

      Fire13Pre:
        TNT1 A 0 A_PlaySound("uzi/fire",CHAN_WEAPON)
        goto Fire13Start

//----------------------------------------------------------------------------//

//-----------------------Reloading Usi----------------------------------------//
      Reload:
        TNT1 A 0 A_JumpIfInventory("UziCheck",1,"ReloadDualBoth")
      ReloadSingle:
        TNT1 A 0 A_ClearReFire
      ReloadSingleStart:
        MUZI A 1 Offset(1,50)
        MUZI A 1 Offset(1,65)
        MUZI A 1 Offset(1,80)
      ReloadSingleContinue:
        MUZI D 1 Offset(1,77)
        MUZI D 1 Offset(1,62)
        MUZI D 1 Offset(1,47)
        MUZI D 1 Offset(1,32)
        MUZI E 1 Offset(1,32) A_PlaySound("uzi/reload")
        MUZI FGHIJKLMNOPQ 1 Offset(1,32)
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"ReloadSingleAmmo")
      ReloadSingleFinish:
        MUZI Q 1 Offset(1,40) A_PlaySound("uzi/reload")
        MUZI Q 1 Offset(1,55)
        MUZI Q 1 Offset(1,60)
        MUZI Q 1 Offset(1,75)
        MUZI Q 1 Offset(1,80)
        MUZI Q 1 Offset(1,95)
        MUZI Q 1 Offset(1,110)
      ReloadSingleRaise:
        TNT1 A 2
        MUZI A 1 Offset(1,91) A_PlaySound("uzi/ready")
        MUZI A 1 Offset(1,73)
        MUZI A 1 Offset(1,64)
        MUZI A 1 Offset(1,55)
        MUZI A 1 Offset(1,37)
        MUZI A 1 Offset(1,32)
        goto Ready

      ReloadSingleAmmo:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",0,"ReloadSingleFinish")
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,2)
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,2)
        TNT1 A 0 A_JumpIfInventory("Clip",1,1)
        goto ReloadSingleFinish
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,2)
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,2)
        TNT1 A 0 A_TakeInventory("Clip",1)
        TNT1 A 0 A_GiveInventory("SWUziClip")
        loop

//----------------------------------------------------------------------------//

      // Dual
      ReadyDual:
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",0,"ReadyDualModernReloadable")
      ReadyDualNonReloadable:
        TNT1 A 0 A_JumpIfInventory("UziAmountCheck",1,2)
        MUZ2 A 1 A_WeaponReady(WRF_NOSECONDARY)
        goto ReadyDualAmmoCheck
        MUZ2 A 1 A_WeaponReady
        goto ReadyDualAmmoCheck

      ReadyDualModernReloadable:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",0,1)
        goto ReadyDualModernReloadableReserve
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",0,"ReadyDualNonReloadable")
      ReadyDualModernReloadableReserve:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,2)
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,2)
        TNT1 A 0 A_JumpIfInventory("Clip",1,1)
        goto ReadyDualNonReloadable
        TNT1 A 0 A_JumpIfInventory("UziAmountCheck",1,2)
        MUZ2 A 1 A_WeaponReady(WRF_NOSECONDARY|WRF_ALLOWRELOAD)
        goto ReadyDualAmmoCheck
        MUZ2 A 1 A_WeaponReady(WRF_ALLOWRELOAD)
        goto ReadyDualAmmoCheck

      ReadyDualAmmoCheck:
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,1)
        goto Ready
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Ready")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,3)
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"Ready")
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual2")
        goto Ready

      DeselectDual:
        MUZ2 A 1 A_Lower
        goto Deselect

      SelectDual:
        MUZ2 A 1 A_Raise
        goto SelectLoop

      FireDual:
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireDualReloadable")
      FireDualNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireDual1A")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"FireDual1A")
        goto NoAmmoSwitch

      FireDualReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireDual1A")
      FireDualReloadable1:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDualReloadable2")
      FireDualReloadableDryCheck1:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual1")
        goto FireDualReloadable2

      FireDualReloadable2:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"FireDual1A")
      FireDualReloadableDryCheck2:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual1A")
        goto NoAmmoSwitch

      FireDual1A:
        TNT1 A 0 A_PlaySound("uzi/fire",CHAN_WEAPON)
        MUZ2 C 1 Bright A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_FireCustomMissile("MicroUziTracer",random(-2,0),false,8,3)
        TNT1 A 0 A_FireCustomMissile("MicroUziTracer",random(0,2),false,-8,3)
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziDualAttackHandler")
        MUZ2 C 1 Bright Offset(1,33) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 ACS_NamedExecuteAlways("SW748", 0, 1)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziLeftAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,-12,29+sin(-pitch)*30)
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireDual1BReloadable")
      FireDual1BNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireDual1B")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"FireDual1B")
        goto NoAmmoSwitch

      FireDual1BReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireDual1B")
      FireDual1BReloadable1:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual1BReloadable2")
      FireDual1BReloadableSwitchCheck1:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual1")
        goto FireDual1BReloadable2

      FireDual1BReloadable2:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"FireDual1B")
      FireDual1BReloadableSwitchCheck2:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual1B")
        goto NoAmmoSwitch

      FireDual1B:
        MUZ2 C 1 Bright Offset(2,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziDualAttackHandler")
        MUZ2 C 1 Bright Offset(3,31) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziLeftAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,-12,29+sin(-pitch)*30)
        TNT1 A 0 A_AlertMonsters

        ////////////////////////////////////////////////////////////////////////////////////
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireDual1CReloadable")
      FireDual1CNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireDual1C")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"FireDual1C")
        goto NoAmmoSwitch

      FireDual1CReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireDual1C")
      FireDual1CReloadable1:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual1CReloadable2")
      FireDual1CReloadableSwitchCheck1:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual1")
        goto FireDual1CReloadable2

      FireDual1CReloadable2:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"FireDual1C")
      FireDual1CReloadableSwitchCheck2:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual1C")
        goto NoAmmoSwitch

      FireDual1C:
        MUZ2 B 1 Bright Offset(4,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_FireCustomMissile("MicroUziTracer",random(-2,0),false,8,3)
        TNT1 A 0 A_FireCustomMissile("MicroUziTracer",random(0,2),false,-8,3)
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziDualAttackHandler")
        MUZ2 B 1 Bright Offset(5,33) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 ACS_NamedExecuteAlways("SW748", 0, 1)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziLeftAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,-12,29+sin(-pitch)*30)
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireDual1DReloadable")
      FireDual1DNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireDual1D")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"FireDual1D")
        goto NoAmmoSwitch

      FireDual1DReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireDual1D")
      FireDual1DReloadable1:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual1DReloadable2")
      FireDual1DReloadableSwitchCheck1:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual1")
        goto FireDual1DReloadable2

      FireDual1DReloadable2:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"FireDual1D")
      FireDual1DReloadableSwitchCheck2:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual1D")
        goto NoAmmoSwitch

      FireDual1D:
        MUZ2 B 1 Bright Offset(6,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 0, "FireDualEnd4")
        MUZ2 B 1 Bright Offset(7,31) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        ////////////////////////////////////////////////////////////////////////////////////

//-----------------------Here While, hardcode system--------------------------//
      FireDual2Start:
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireDual2AReloadable")
      FireDual2ANonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireDual2A")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"FireDual2A")
        goto NoAmmoSwitch

      FireDual2AReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireDual2A")
      FireDual2AReloadable1:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual2AReloadable2")
      FireDual2AReloadableSwitchCheck1:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual1")
        goto FireDual2AReloadable2

      FireDual2AReloadable2:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"FireDual2A")
      FireDual2AReloadableSwitchCheck2:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual2A")
        goto NoAmmoSwitch

      FireDual2A:
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziDualAttackHandler")
        MUZ2 C 1 Bright Offset(8,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 ACS_NamedExecuteAlways("SW748", 0, 1)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziLeftAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,-12,29+sin(-pitch)*30)
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireDual2BReloadable")
      FireDual2BNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireDual2B")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"FireDual2B")
        goto NoAmmoSwitch

      FireDual2BReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireDual2B")
      FireDual2BReloadable1:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual2BReloadable2")
      FireDual2BReloadableSwitchCheck1:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual1")
        goto FireDual2BReloadable2

      FireDual2BReloadable2:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"FireDual2B")
      FireDual2BReloadableSwitchCheck2:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual2B")
        goto NoAmmoSwitch

      FireDual2B:
        MUZ2 C 1 Bright Offset(9,33) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 0, "FireDualEnd2")
        MUZ2 C 1 Bright Offset(10,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_FireCustomMissile("MicroUziTracer",random(-2,0),false,8,3)
        TNT1 A 0 A_FireCustomMissile("MicroUziTracer",random(0,2),false,-8,3)

        //////////////////////////////////////////////////////////////////////////////////////////
      Fire3A:
        TNT1 A 0 A_PlaySound("uzi/fire",CHAN_WEAPON)
        MUZ2 B 1 Bright Offset(11,31) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireDual3BReloadable")
      FireDual3BNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireDual3B")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"FireDual3B")
        goto NoAmmoSwitch

      FireDual3BReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireDual3B")
      FireDual3BReloadable1:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual3BReloadable2")
      FireDual3BReloadableSwitchCheck1:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual1")
        goto FireDual3BReloadable2

      FireDual3BReloadable2:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"FireDual3B")
      FireDual3BReloadableSwitchCheck2:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual3B")
        goto NoAmmoSwitch

      FireDual3B:
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziDualAttackHandler")
        MUZ2 B 1 Bright Offset(11,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 ACS_NamedExecuteAlways("SW748", 0, 1)
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziLeftAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,-12,29+sin(-pitch)*30)
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireDual3CReloadable")
      FireDual3CNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireDual3C")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"FireDual3C")
        goto NoAmmoSwitch

      FireDual3CReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireDual3C")
      FireDual3CReloadable1:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual3CReloadable2")
      FireDual3CReloadableSwitchCheck1:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual1")
        goto FireDual3CReloadable2

      FireDual3CReloadable2:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"FireDual3C")
      FireDual3CReloadableSwitchCheck2:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual3C")
        goto NoAmmoSwitch

      FireDual3C:
        MUZ2 B 1 Bright Offset(11,33) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 0, "FireDualEnd1")
        MUZ2 B 1 Bright Offset(11,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        ///////////////////////////////////////////////////////////////////////////////////////////

      FireDual9Start:
        ///////////////////////////////////////////////////////////////////////////////////////////
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireDual9AReloadable")
      FireDual9ANonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireDual9A")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"FireDual9A")
        goto NoAmmoSwitch

      FireDual9AReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireDual9A")
      FireDual9AReloadable1:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual9AReloadable2")
      FireDual9AReloadableSwitchCheck1:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual1")
        goto FireDual9AReloadable2

      FireDual9AReloadable2:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"FireDual9A")
      FireDual9AReloadableSwitchCheck2:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual9A")
        goto NoAmmoSwitch

      FireDual9A:
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziDualAttackHandler")
        MUZ2 C 1 Bright Offset(10,31) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 ACS_NamedExecuteAlways("SW748", 0, 1)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziLeftAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,-12,29+sin(-pitch)*30)
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireDual9BReloadable")
      FireDual9BNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireDual9B")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"FireDual9B")
        goto NoAmmoSwitch

      FireDual9BReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireDual9B")
      FireDual9BReloadable1:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual9BReloadable2")
      FireDual9BReloadableSwitchCheck1:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual1")
        goto FireDual9BReloadable2

      FireDual9BReloadable2:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"FireDual9B")
      FireDual9BReloadableSwitchCheck2:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual9B")
        goto NoAmmoSwitch

      FireDual9B:
        MUZ2 C 1 Bright Offset(9,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_FireCustomMissile("MicroUziTracer",random(-2,0),false,8,3)
        TNT1 A 0 A_FireCustomMissile("MicroUziTracer",random(0,2),false,-8,3)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 0, "FireDualEnd50")
        MUZ2 C 1 Bright Offset(8,33) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)

        //////////////////////////////////////////////////////////////////////////////////////////
      FireDual4A:
        TNT1 A 0 A_PlaySound("uzi/fire",CHAN_WEAPON)
        MUZ2 B 1 Bright Offset(7,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireDual4BReloadable")
      FireDual4BNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireDual4B")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"FireDual4B")
        goto NoAmmoSwitch

      FireDual4BReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireDual4B")
      FireDual4BReloadable1:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual4BReloadable2")
      FireDual4BReloadableSwitchCheck1:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual1")
        goto FireDual4BReloadable2

      FireDual4BReloadable2:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"FireDual4B")
      FireDual4BReloadableSwitchCheck2:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual4B")
        goto NoAmmoSwitch

      FireDual4B:
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziDualAttackHandler")
        MUZ2 B 1 Bright Offset(5,31) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 ACS_NamedExecuteAlways("SW748", 0, 1)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziLeftAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,-12,29+sin(-pitch)*30)
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireDual4CReloadable")
      FireDual4CNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireDual4C")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"FireDual4C")
        goto NoAmmoSwitch

      FireDual4CReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireDual4C")
      FireDual4CReloadable1:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual4CReloadable2")
      FireDual4CReloadableSwitchCheck1:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual1")
        goto FireDual4CReloadable2

      FireDual4CReloadable2:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"FireDual4C")
      FireDual4CReloadableSwitchCheck2:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual4C")
        goto NoAmmoSwitch

      FireDual4C:
        MUZ2 B 1 Bright Offset(4,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 0, "FireDualEnd44")
        MUZ2 B 1 Bright Offset(2,33) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        ///////////////////////////////////////////////////////////////////////////////////////////

      FireDual10Start:
        ///////////////////////////////////////////////////////////////////////////////////////////
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireDual10AReloadable")
      FireDual10ANonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireDual10A")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"FireDual10A")
        goto NoAmmoSwitch

      FireDual10AReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireDual10A")
      FireDual10AReloadable1:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual10AReloadable2")
      FireDual10AReloadableSwitchCheck1:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual1")
        goto FireDual10AReloadable2

      FireDual10AReloadable2:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"FireDual10A")
      FireDual10AReloadableSwitchCheck2:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual10A")
        goto NoAmmoSwitch

      FireDual10A:
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziDualAttackHandler")
        MUZ2 C 1 Bright Offset(1,33) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 ACS_NamedExecuteAlways("SW748", 0, 1)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziLeftAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,-12,29+sin(-pitch)*30)
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireDual10BReloadable")
      FireDual10BNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireDual10B")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"FireDual10B")
        goto NoAmmoSwitch

      FireDual10BReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireDual10B")
      FireDual10BReloadable1:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual10BReloadable2")
      FireDual10BReloadableSwitchCheck1:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual1")
        goto FireDual10BReloadable2

      FireDual10BReloadable2:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"FireDual10B")
      FireDual10BReloadableSwitchCheck2:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual10B")
        goto NoAmmoSwitch

      FireDual10B:
        MUZ2 C 1 Bright Offset(0,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_FireCustomMissile("MicroUziTracer",random(-2,0),false,8,3)
        TNT1 A 0 A_FireCustomMissile("MicroUziTracer",random(0,2),false,-8,3)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 0, "FireDualEnd41")
        MUZ2 C 1 Bright Offset(-1,31) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        ///////////////////////////////////////////////////////////////////////////////////////////

        ////////////////////////////////////////////////////////////////////////////////////////////
      FireDual5A:
        TNT1 A 0 A_PlaySound("uzi/fire",CHAN_WEAPON)
        MUZ2 B 1 Bright Offset(-2,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireDual5BReloadable")
      FireDual5BNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireDual5B")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"FireDual5B")
        goto NoAmmoSwitch

      FireDual5BReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireDual5B")
      FireDual5BReloadable1:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual5BReloadable2")
      FireDual5BReloadableSwitchCheck1:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual1")
        goto FireDual5BReloadable2

      FireDual5BReloadable2:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"FireDual5B")
      FireDual5BReloadableSwitchCheck2:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual5B")
        goto NoAmmoSwitch

      FireDual5B:
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziDualAttackHandler")
        MUZ2 B 1 Bright Offset(-4,33) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 ACS_NamedExecuteAlways("SW748", 0, 1)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziLeftAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,-12,29+sin(-pitch)*30)
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireDual5CReloadable")
      FireDual5CNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireDual5C")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"FireDual5C")
        goto NoAmmoSwitch

      FireDual5CReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireDual5C")
      FireDual5CReloadable1:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual5CReloadable2")
      FireDual5CReloadableSwitchCheck1:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual1")
        goto FireDual5CReloadable2

      FireDual5CReloadable2:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"FireDual5C")
      FireDual5CReloadableSwitchCheck2:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual5C")
        goto NoAmmoSwitch

      FireDual5C:
        MUZ2 B 1 Bright Offset(-5,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 0, "FireDualEnd35")
        MUZ2 B 1 Bright Offset(-7,31) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        ///////////////////////////////////////////////////////////////////////////////////////////

      FireDual11Start:
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireDual11AReloadable")
      FireDual11ANonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireDual11A")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"FireDual11A")
        goto NoAmmoSwitch

      FireDual11AReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireDual11A")
      FireDual11AReloadable1:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual11AReloadable2")
      FireDual11AReloadableSwitchCheck1:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual1")
        goto FireDual11AReloadable2

      FireDual11AReloadable2:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"FireDual11A")
      FireDual11AReloadableSwitchCheck2:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual11A")
        goto NoAmmoSwitch

      FireDual11A:
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziDualAttackHandler")
        MUZ2 C 1 Bright Offset(-8,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziLeftAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,-12,29+sin(-pitch)*30)
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireDual11BReloadable")
      FireDual11BNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireDual11B")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"FireDual11B")
        goto NoAmmoSwitch

      FireDual11BReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireDual11B")
      FireDual11BReloadable1:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual11BReloadable2")
      FireDual11BReloadableSwitchCheck1:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual1")
        goto FireDual11BReloadable2

      FireDual11BReloadable2:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"FireDual11B")
      FireDual11BReloadableSwitchCheck2:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual11B")
        goto NoAmmoSwitch

      FireDual11B:
        MUZ2 C 1 Bright Offset(-9,33) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_FireCustomMissile("MicroUziTracer",random(-2,0),false,8,3)
        TNT1 A 0 A_FireCustomMissile("MicroUziTracer",random(0,2),false,-8,3)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 0, "FireDualEnd32")
        MUZ2 C 1 Bright Offset(-10,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        /////////////////////////////////////////////////////////////////////////////////////////////

        //////////////////////////////////////////////////////////////////////////////////////////////
      FireDual6A:
        TNT1 A 0 A_PlaySound("uzi/fire",CHAN_WEAPON)
        MUZ2 B 1 Bright Offset(-11,31) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireDual6BReloadable")
      FireDual6BNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireDual6B")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"FireDual6B")
        goto NoAmmoSwitch

      FireDual6BReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireDual6B")
      FireDual6BReloadable1:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual6BReloadable2")
      FireDual6BReloadableSwitchCheck1:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual1")
        goto FireDual6BReloadable2

      FireDual6BReloadable2:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"FireDual6B")
      FireDual6BReloadableSwitchCheck2:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual6B")
        goto NoAmmoSwitch

      FireDual6B:
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziDualAttackHandler")
        MUZ2 B 1 Bright Offset(-11,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 ACS_NamedExecuteAlways("SW748", 0, 1)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziLeftAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,-12,29+sin(-pitch)*30)
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireDual6CReloadable")
      FireDual6CNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireDual6C")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"FireDual6C")
        goto NoAmmoSwitch

      FireDual6CReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireDual6C")
      FireDual6CReloadable1:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual6CReloadable2")
      FireDual6CReloadableSwitchCheck1:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual1")
        goto FireDual6CReloadable2

      FireDual6CReloadable2:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"FireDual6C")
      FireDual6CReloadableSwitchCheck2:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual6C")
        goto NoAmmoSwitch

      FireDual6C:
        MUZ2 B 1 Bright Offset(-11,33) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 0, "FireDualEnd31")
        MUZ2 B 1 Bright Offset(-11,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        ///////////////////////////////////////////////////////////////////////////////////////////////

      FireDual12Start:
        ///////////////////////////////////////////////////////////////////////////////////////////
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireDual12AReloadable")
      FireDual12ANonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireDual12A")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"FireDual12A")
        goto NoAmmoSwitch

      FireDual12AReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireDual12A")
      FireDual12AReloadable1:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual12AReloadable2")
      FireDual12AReloadableSwitchCheck1:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual1")
        goto FireDual12AReloadable2

      FireDual12AReloadable2:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"FireDual12A")
      FireDual12AReloadableSwitchCheck2:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual12A")
        goto NoAmmoSwitch

      FireDual12A:
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziDualAttackHandler")
        MUZ2 C 1 Bright Offset(-10,31) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 ACS_NamedExecuteAlways("SW748", 0, 1)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziLeftAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,-12,29+sin(-pitch)*30)
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireDual12BReloadable")
      FireDual12BNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireDual12B")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"FireDual12B")
        goto NoAmmoSwitch

      FireDual12BReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireDual12B")
      FireDual12BReloadable1:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual12BReloadable2")
      FireDual12BReloadableSwitchCheck1:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual1")
        goto FireDual12BReloadable2

      FireDual12BReloadable2:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"FireDual12B")
      FireDual12BReloadableSwitchCheck2:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual12B")
        goto NoAmmoSwitch

      FireDual12B:
        MUZ2 C 1 Bright Offset(-9,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_FireCustomMissile("MicroUziTracer",random(-2,0),false,8,3)
        TNT1 A 0 A_FireCustomMissile("MicroUziTracer",random(0,2),false,-8,3)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 0, "FireDualEnd20")
        MUZ2 C 1 Bright Offset(-8,33) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        /////////////////////////////////////////////////////////////////////////////////////////////

        //////////////////////////////////////////////////////////////////////////////////////////////
      FireDual7A:
        TNT1 A 0 A_PlaySound("uzi/fire",CHAN_WEAPON)
        MUZ2 B 1 Bright Offset(-7,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireDual7BReloadable")
      FireDual7BNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireDual7B")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"FireDual7B")
        goto NoAmmoSwitch

      FireDual7BReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireDual7B")
      FireDual7BReloadable1:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual7BReloadable2")
      FireDual7BReloadableSwitchCheck1:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual1")
        goto FireDual7BReloadable2

      FireDual7BReloadable2:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"FireDual7B")
      FireDual7BReloadableSwitchCheck2:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual7B")
        goto NoAmmoSwitch

      FireDual7B:
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziDualAttackHandler")
        MUZ2 B 1 Bright Offset(-5,31) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 ACS_NamedExecuteAlways("SW748", 0, 1)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziLeftAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,-12,29+sin(-pitch)*30)
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireDual7CReloadable")
      FireDual7CNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireDual7C")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"FireDual7C")
        goto NoAmmoSwitch

      FireDual7CReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireDual7C")
      FireDual7CReloadable1:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual7CReloadable2")
      FireDual7CReloadableSwitchCheck1:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual1")
        goto FireDual7CReloadable2

      FireDual7CReloadable2:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"FireDual7C")
      FireDual7CReloadableSwitchCheck2:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual7C")
        goto NoAmmoSwitch

      FireDual7C:
        MUZ2 B 1 Bright Offset(-4,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 0, "FireDualEnd14")
        MUZ2 B 1 Bright Offset(-2,33) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        /////////////////////////////////////////////////////////////////////////////////////////////

      FireDual13Start:
        ////////////////////////////////////////////////////////////////////////////////////////////
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireDual13AReloadable")
      FireDual13ANonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireDual13A")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"FireDual13A")
        goto NoAmmoSwitch

      FireDual13AReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireDual13A")
      FireDual13AReloadable1:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual13AReloadable2")
      FireDual13AReloadableSwitchCheck1:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual1")
        goto FireDual13AReloadable2

      FireDual13AReloadable2:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"FireDual13A")
      FireDual13AReloadableSwitchCheck2:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual13A")
        goto NoAmmoSwitch

      FireDual13A:
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziDualAttackHandler")
        MUZ2 C 1 Bright Offset(-1,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 ACS_NamedExecuteAlways("SW748", 0, 1)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziLeftAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,-12,29+sin(-pitch)*30)
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireDual13BReloadable")
      FireDual13BNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireDual13B")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"FireDual13B")
        goto NoAmmoSwitch

      FireDual13BReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireDual13B")
      FireDual13BReloadable1:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual13BReloadable2")
      FireDual13BReloadableSwitchCheck1:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual1")
        goto FireDual13BReloadable2

      FireDual13BReloadable2:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"FireDual13B")
      FireDual13BReloadableSwitchCheck2:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual13B")
        goto NoAmmoSwitch

      FireDual13B:
        MUZ2 C 1 Bright Offset(0,31) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_FireCustomMissile("MicroUziTracer",random(-2,0),false,8,3)
        TNT1 A 0 A_FireCustomMissile("MicroUziTracer",random(0,2),false,-8,3)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 0, "FireDualEnd11")
        MUZ2 C 1 Bright Offset(1,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        /////////////////////////////////////////////////////////////////////////////////////////////

        //////////////////////////////////////////////////////////////////////////////////////////////
      FireDual8A:
        TNT1 A 0 A_PlaySound("uzi/fire",CHAN_WEAPON)
        MUZ2 B 1 Bright Offset(2,33) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireDual8BReloadable")
      FireDual8BNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireDual8B")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"FireDual8B")
        goto NoAmmoSwitch

      FireDual8BReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireDual8B")
      FireDual8BReloadable1:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual8BReloadable2")
      FireDual8BReloadableSwitchCheck1:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual1")
        goto FireDual8BReloadable2

      FireDual8BReloadable2:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"FireDual8B")
      FireDual8BReloadableSwitchCheck2:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual8B")
        goto NoAmmoSwitch

      FireDual8B:
        TNT1 A 0 A_GiveInventory("SamsaraLoWangUziDualAttackHandler")
        MUZ2 B 1 Bright Offset(4,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 ACS_NamedExecuteAlways("SW748", 0, 1)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,15,28+sin(-pitch)*30)
        TNT1 A 0 A_JumpIfInventory("SamsaraShadowWarriorUziLeftAmmoCheckFailed",1,2)
        TNT1 A 0 A_SpawnItemEx("SWBulletCasingSpawner",cos(-pitch)*30,-12,29+sin(-pitch)*30)
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireDual8CReloadable")
      FireDual8CNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireDual8C")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"FireDual8C")
        goto NoAmmoSwitch

      FireDual8CReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireDual8C")
      FireDual8CReloadable1:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual8CReloadable2")
      FireDual8CReloadableSwitchCheck1:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual1")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual1")
        goto FireDual8CReloadable2

      FireDual8CReloadable2:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"FireDual8C")
      FireDual8CReloadableSwitchCheck2:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("Clip",1,"ReloadDual2")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"FireDual8C")
        goto NoAmmoSwitch

      FireDual8C:
        MUZ2 B 1 Bright Offset(5,31) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 0, "FireDualEnd5")
        MUZ2 B 1 Bright Offset(7,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        //////////////////////////////////////////////////////////////////////////////////////////////
        goto FireDual2Start

//-----------------------------Hold End FireDual----------------------------------//
      FireDualEnd23:
        MUZ2 A 1 Offset(-11,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(-10,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 1, "FireDual12Pre")
        MUZ2 A 1 Offset(-9,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
      FireDualEnd20:
        MUZ2 A 1 Offset(-8,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 1, "FireDual7A")
        MUZ2 A 1 Offset(-7,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(-6,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(-5,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(-4,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(-3,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
      FireDualEnd14:
        MUZ2 A 1 Offset(-2,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(-1,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 1, "FireDual13Pre")
        MUZ2 A 1 Offset(0,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
      FireDualEnd11:
        MUZ2 A 1 Offset(1,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(2,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 1, "FireDual8A")
        MUZ2 A 1 Offset(3,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(4,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(5,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(6,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
      FireDualEnd5:
        MUZ2 A 1 Offset(7,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
      FireDualEnd4:
        MUZ2 A 1 Offset(8,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 1, "FireDual2Pre")
        MUZ2 A 1 Offset(9,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
      FireDualEnd2:
        MUZ2 A 1 Offset(10,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
      FireDualEnd1:
        MUZ2 A 1 Offset(11,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(10,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 1, "FireDual9Pre")
        MUZ2 A 1 Offset(9,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(8,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(7,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 1, "FireDual4A")
        MUZ2 A 1 Offset(6,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(5,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(4,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(3,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(2,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(1,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        goto Ready

//----------------------------------------------------------------------------//
    FireDualEnd53:
        MUZ2 A 1 Offset(11,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(10,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 1, "FireDual9Pre")
        MUZ2 A 1 Offset(9,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
    FireDualEnd50:
        MUZ2 A 1 Offset(8,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(7,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 1, "FireDual4A")
        MUZ2 A 1 Offset(6,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(5,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(4,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(3,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
    FireDualEnd44:
        MUZ2 A 1 Offset(2,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(1,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 1, "FireDual10Pre")
        MUZ2 A 1 Offset(0,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
    FireDualEnd41:
        MUZ2 A 1 Offset(-1,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 1, "FireDual5A")
        MUZ2 A 1 Offset(-2,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(-3,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(-4,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(-5,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(-6,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
    FireDualEnd35:
        MUZ2 A 1 Offset(-7,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(-8,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(-9,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
    FireDualEnd32:
        MUZ2 A 1 Offset(-10,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
    FireDualEnd31:
        MUZ2 A 1 Offset(-11,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(-10,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 1, "FireDual12Pre")
        MUZ2 A 1 Offset(-9,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(-8,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(-7,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SW741", 0,0,0) == 1, "FireDual7A")
        MUZ2 A 1 Offset(-6,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(-5,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(-4,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(-3,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(-2,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        MUZ2 A 1 Offset(-1,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        goto Ready

//----------------------------------------------------------------------------//
      FireDual2Pre:
        TNT1 A 0 A_PlaySound("uzi/fire",CHAN_WEAPON)
        goto FireDual2Start

      FireDual9Pre:
        TNT1 A 0 A_PlaySound("uzi/fire",CHAN_WEAPON)
        goto FireDual9Start

      FireDual10Pre:
        TNT1 A 0 A_PlaySound("uzi/fire",CHAN_WEAPON)
        goto FireDual10Start

      FireDual12Pre:
        TNT1 A 0 A_PlaySound("uzi/fire",CHAN_WEAPON)
        goto FireDual12Start

      FireDual13Pre:
        TNT1 A 0 A_PlaySound("uzi/fire",CHAN_WEAPON)
        goto FireDual13Start

//----------------------------------------------------------------------------//

//---------------------Reload Double Usi--------------------------------------//
      // Individual magazines
      ReloadDual1:
        TNT1 A 0 A_ClearReFire
      ReloadDual1Start:
        MUZI A 1 Offset(1,50)
        MUZI A 1 Offset(1,65)
        MUZI A 1 Offset(1,80)
      ReloadDual1Continue:
        MUZI D 1 Offset(1,77)
        MUZI D 1 Offset(1,62)
        MUZI D 1 Offset(1,47)
        MUZI D 1 Offset(1,32)
        MUZI E 1 Offset(1,32) A_PlaySound("uzi/reload")
        MUZI FGHIJKLMNOPQ 1 Offset(1,32)
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"ReloadDual1Ammo")
      ReloadDual1Finish:
        MUZI Q 1 Offset(1,40) A_PlaySound("uzi/reload")
        MUZI Q 1 Offset(1,55)
        MUZI Q 1 Offset(1,60)
        MUZI Q 1 Offset(1,75)
        MUZI Q 1 Offset(1,80)
        MUZI Q 1 Offset(1,95)
        MUZI Q 1 Offset(1,110)
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"ReloadDual1Cycle")
      ReloadDual1Raise:
        TNT1 A 2
        MUZ2 A 1 Offset(1,91) A_PlaySound("uzi/ready")
        MUZ2 A 1 Offset(1,73)
        MUZ2 A 1 Offset(1,64)
        MUZ2 A 1 Offset(1,55)
        MUZ2 A 1 Offset(1,37)
        MUZ2 A 1 Offset(1,32)
        goto Ready

      ReloadDual1Ammo:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",0,"ReloadDual1Finish")
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,2)
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,2)
        TNT1 A 0 A_JumpIfInventory("Clip",1,1)
        goto ReloadDual1Finish
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,2)
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,2)
        TNT1 A 0 A_TakeInventory("Clip",1)
        TNT1 A 0 A_GiveInventory("SWUziClip")
        loop

      ReloadDual1Cycle:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,"ReloadDual1Raise")
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,2)
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,2)
        TNT1 A 0 A_JumpIfInventory("Clip",1,1)
        goto ReloadDual1Raise
        TNT1 A 5
        MUZ4 A 1 Offset(1,97)
        MUZ4 A 1 Offset(1,81)
        MUZ4 A 1 Offset(1,51)
        MUZ4 A 1 Offset(1,36)
        MUZ4 A 1 Offset(1,32)
        MUZ4 A 1 Offset(1,62)
        MUZ4 A 1 Offset(1,77)
        MUZ4 A 1 Offset(1,84)
        goto ReloadDual2Continue

      ReloadDual2:
        TNT1 A 0 A_ClearReFire
      ReloadDual2Start:
        MUZ4 A 1 Offset(1,50)
        MUZ4 A 1 Offset(1,65)
        MUZ4 A 1 Offset(1,80)
      ReloadDual2Continue:
        MUZ2 D 1 Offset(1,77)
        MUZ2 D 1 Offset(1,62)
        MUZ2 D 1 Offset(1,47)
        MUZ2 D 1 Offset(1,32)
        MUZ2 E 1 Offset(1,32) A_PlaySound("uzi/reload")
        MUZ2 FGHIJKLMNOPQ 1 Offset(1,32)
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"ReloadDual2Ammo")
      ReloadDual2Finish:
        MUZ2 Q 1 Offset(1,40) A_PlaySound("uzi/reload")
        MUZ2 Q 1 Offset(1,55)
        MUZ2 Q 1 Offset(1,60)
        MUZ2 Q 1 Offset(1,75)
        MUZ2 Q 1 Offset(1,80)
        MUZ2 Q 1 Offset(1,95)
        MUZ2 Q 1 Offset(1,110)
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"ReloadDual2Cycle")
      ReloadDual2Raise:
        TNT1 A 2
        MUZ2 A 1 Offset(1,91) A_PlaySound("uzi/ready")
        MUZ2 A 1 Offset(1,73)
        MUZ2 A 1 Offset(1,64)
        MUZ2 A 1 Offset(1,55)
        MUZ2 A 1 Offset(1,37)
        MUZ2 A 1 Offset(1,32)
        goto Ready

      ReloadDual2Ammo:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",0,"ReloadDual2Finish")
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,2)
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,2)
        TNT1 A 0 A_JumpIfInventory("Clip",1,1)
        goto ReloadDual2Finish
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,2)
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,2)
        TNT1 A 0 A_TakeInventory("Clip",1)
        TNT1 A 0 A_GiveInventory("SWUziClipDual")
        loop

      ReloadDual2Cycle:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,"ReloadDual2Raise")
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,2)
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,2)
        TNT1 A 0 A_JumpIfInventory("Clip",1,1)
        goto ReloadDual2Raise
        TNT1 A 5
        MUZI A 1 Offset(1,97)
        MUZI A 1 Offset(1,81)
        MUZI A 1 Offset(1,51)
        MUZI A 1 Offset(1,36)
        MUZI A 1 Offset(1,32)
        MUZI A 1 Offset(1,62)
        MUZI A 1 Offset(1,77)
        MUZI A 1 Offset(1,84)
        goto ReloadDual1Continue

      // Both magazines
      ReloadDualBoth:
        TNT1 A 0 A_ClearReFire
        TNT1 A 0 A_JumpIfInventory("SWUziClip",0,"ReloadDualBoth2Start")
      ReloadDualBoth1Start:
        MUZI A 1 Offset(1,50)
        MUZI A 1 Offset(1,65)
        MUZI A 1 Offset(1,80)
      ReloadDualBoth1Continue:
        MUZI D 1 Offset(1,77)
        MUZI D 1 Offset(1,62)
        MUZI D 1 Offset(1,47)
        MUZI D 1 Offset(1,32)
        MUZI E 1 Offset(1,32) A_PlaySound("uzi/reload")
        MUZI FGHIJKLMNOPQ 1 Offset(1,32)
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"ReloadDualBoth1Ammo")
      ReloadDualBoth1Finish:
        MUZI Q 1 Offset(1,40) A_PlaySound("uzi/reload")
        MUZI Q 1 Offset(1,55)
        MUZI Q 1 Offset(1,60)
        MUZI Q 1 Offset(1,75)
        MUZI Q 1 Offset(1,80)
        MUZI Q 1 Offset(1,95)
        MUZI Q 1 Offset(1,110)
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"ReloadDualBoth1Cycle")
      ReloadDualBoth1Raise:
        TNT1 A 2
        MUZ2 A 1 Offset(1,91) A_PlaySound("uzi/ready")
        MUZ2 A 1 Offset(1,73)
        MUZ2 A 1 Offset(1,64)
        MUZ2 A 1 Offset(1,55)
        MUZ2 A 1 Offset(1,37)
        MUZ2 A 1 Offset(1,32)
        goto Ready

      ReloadDualBoth1Ammo:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",0,"ReloadDualBoth1Finish")
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,2)
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,2)
        TNT1 A 0 A_JumpIfInventory("Clip",1,1)
        goto ReloadDualBoth1Finish
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,2)
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,2)
        TNT1 A 0 A_TakeInventory("Clip",1)
        TNT1 A 0 A_GiveInventory("SWUziClip")
        loop

      ReloadDualBoth1Cycle:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",0,"ReloadDualBoth1Raise")
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,2)
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,2)
        TNT1 A 0 A_JumpIfInventory("Clip",1,1)
        goto ReloadDualBoth1Raise
        TNT1 A 5
        MUZ4 A 1 Offset(1,97)
        MUZ4 A 1 Offset(1,81)
        MUZ4 A 1 Offset(1,51)
        MUZ4 A 1 Offset(1,36)
        MUZ4 A 1 Offset(1,32)
        MUZ4 A 1 Offset(1,62)
        MUZ4 A 1 Offset(1,77)
        MUZ4 A 1 Offset(1,84)
        goto ReloadDualBoth2Continue

      ReloadDualBoth2Start:
        MUZ4 A 1 Offset(1,50)
        MUZ4 A 1 Offset(1,65)
        MUZ4 A 1 Offset(1,80)
      ReloadDualBoth2Continue:
        MUZ2 D 1 Offset(1,77)
        MUZ2 D 1 Offset(1,62)
        MUZ2 D 1 Offset(1,47)
        MUZ2 D 1 Offset(1,32)
        MUZ2 E 1 Offset(1,32) A_PlaySound("uzi/reload")
        MUZ2 FGHIJKLMNOPQ 1 Offset(1,32)
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"ReloadDualBoth2Ammo")
      ReloadDualBoth2Finish:
        MUZ2 Q 1 Offset(1,40) A_PlaySound("uzi/reload")
        MUZ2 Q 1 Offset(1,55)
        MUZ2 Q 1 Offset(1,60)
        MUZ2 Q 1 Offset(1,75)
        MUZ2 Q 1 Offset(1,80)
        MUZ2 Q 1 Offset(1,95)
        MUZ2 Q 1 Offset(1,110)
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"ReloadDualBoth2Cycle")
      ReloadDualBoth2Raise:
        TNT1 A 2
        MUZ2 A 1 Offset(1,91) A_PlaySound("uzi/ready")
        MUZ2 A 1 Offset(1,73)
        MUZ2 A 1 Offset(1,64)
        MUZ2 A 1 Offset(1,55)
        MUZ2 A 1 Offset(1,37)
        MUZ2 A 1 Offset(1,32)
        goto Ready

      ReloadDualBoth2Ammo:
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",0,"ReloadDualBoth2Finish")
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,2)
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,2)
        TNT1 A 0 A_JumpIfInventory("Clip",1,1)
        goto ReloadDualBoth2Finish
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,2)
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,2)
        TNT1 A 0 A_TakeInventory("Clip",1)
        TNT1 A 0 A_GiveInventory("SWUziClipDual")
        loop

      ReloadDualBoth2Cycle:
        TNT1 A 0 A_JumpIfInventory("SWUziClip",0,"ReloadDualBoth2Raise")
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,2)
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,2)
        TNT1 A 0 A_JumpIfInventory("Clip",1,1)
        goto ReloadDualBoth2Raise
        TNT1 A 5
        MUZI A 1 Offset(1,97)
        MUZI A 1 Offset(1,81)
        MUZI A 1 Offset(1,51)
        MUZI A 1 Offset(1,36)
        MUZI A 1 Offset(1,32)
        MUZI A 1 Offset(1,62)
        MUZI A 1 Offset(1,77)
        MUZI A 1 Offset(1,84)
        goto ReloadDualBoth1Continue

//----------------------------------------------------------------------------//

//-------------------Uzi Fire Mode--------------------------------------------//
      AltFire:
        TNT1 A 0 A_JumpIfInventory("UziCheck",1,"AltFireDualLower")
      AltFireDualRaise:
        MUZ3 A 1 A_GiveInventory("UziCheck")
        MUZ3 BCDEF 1
        MUZ2 A 1
        goto Ready

      AltFireDualLower:
        MUZ3 F 1 A_TakeInventory("UziCheck")
        MUZ3 EDCBA 1
        MUZI A 1
        goto Ready

      IntroTaunt:
        TNT1 A 0 A_JumpIfInventory("SamsaraBallgag",1,2)
        TNT1 A 0 A_PlaySoundEx("LoWang/Enter", "SoundSlot7", 0, 0)
        TNT1 A 0 A_TakeInventory("LoWangReady", 1)
        TNT1 A 0 A_GiveInventory("LoWangTauntCooldown",5)
        TNT1 A 0 ACS_NamedExecuteAlways("LoWangTauntCooldown", 0)
        goto Ready

      // "No ammo" switch
      NoAmmoSwitch:
        TNT1 A 0 A_ClearReFire
        TNT1 A 0 A_SelectWeapon("SWShuriken")
        goto Deselect
    }
}

actor SamsaraLoWangUziSingleAttackHandler : Trigger
{
    States
    {
      // Ammo checking/taking stuff
      Pickup:
        TNT1 A 0 A_TakeInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed")
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"PickupReloadable")
      PickupNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"PickupAttack")
        TNT1 A 0 A_JumpIfInventory("Clip",1,1)
        goto PickupAmmoCheckFailed
        TNT1 A 0 A_TakeInventory("Clip",1)
        goto PickupAttack

      PickupReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"PickupAttack")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,1)
        goto PickupAmmoCheckFailed
        TNT1 A 0 A_TakeInventory("SWUziClip",1)
        goto PickupAttack

      // Ammo checking failure stuff
      PickupAmmoCheckFailed:
        TNT1 A 0 A_GiveInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed")
        stop

      // Attack stuff
      PickupAttack:
        //TNT1 A 0 A_FireCustomMissile("MicroUziTracer",random(-2,2),false,8,3)
        TNT1 A 0 A_JumpIfInventory("SPModeOn",1,"PickupAttackCoop")
        TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"PickupAttackCoop")
      PickupAttackDM:
        TNT1 A 0 A_FireBullets(4.2,2.8,-1,random(7,9),"BulletPuffSWThruGhost",FBF_NORANDOM|FBF_NOFLASH)
        stop

      PickupAttackCoop:
        TNT1 A 0 A_FireBullets(4.2,2.8,-1,random(7,9),"BulletPuffSWThruGhostCoop",FBF_NORANDOM|FBF_NOFLASH)
        stop
    }
}

actor SamsaraLoWangUziDualAttackHandler : Trigger
{
    States
    {
      Pickup:
        TNT1 A 0 A_TakeInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed")
        TNT1 A 0 A_TakeInventory("SamsaraShadowWarriorUziLeftAmmoCheckFailed")
      // Ammo checking/taking stuff (right)
      Pickup1:
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"Pickup1Reloadable")
      Pickup1NonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Pickup1Attack")
        TNT1 A 0 A_JumpIfInventory("Clip",1,1)
        goto Pickup1AmmoCheckFailed
        TNT1 A 0 A_TakeInventory("Clip",1)
        goto Pickup1Attack

      Pickup1Reloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Pickup1Attack")
        TNT1 A 0 A_JumpIfInventory("SWUziClip",1,1)
        goto Pickup1AmmoCheckFailed
        TNT1 A 0 A_TakeInventory("SWUziClip",1)
        goto Pickup1Attack

      // Ammo checking failure stuff (right)
      Pickup1AmmoCheckFailed:
        TNT1 A 0 A_GiveInventory("SamsaraShadowWarriorUziRightAmmoCheckFailed")
        goto Pickup2

      // Attack stuff (right)
      Pickup1Attack:
        //TNT1 A 0 A_FireCustomMissile("MicroUziTracer",random(0,2),false,8,3)
        TNT1 A 0 A_JumpIfInventory("SPModeOn",1,"Pickup1AttackCoop")
        TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"Pickup1AttackCoop")
      Pickup1AttackDM:
        TNT1 A 0 A_FireBullets(5.4,4.3,-1,random(7,9),"BulletPuffSWThruGhost",FBF_NORANDOM|FBF_NOFLASH)
        goto Pickup2

      Pickup1AttackCoop:
        TNT1 A 0 A_FireBullets(5.4,4.3,-1,random(7,9),"BulletPuffSWThruGhostCoop",FBF_NORANDOM|FBF_NOFLASH)
        goto Pickup2

      // Ammo checking/taking stuff (left)
      Pickup2:
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"Pickup2Reloadable")
      Pickup2NonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"Pickup2Attack")
        TNT1 A 0 A_JumpIfInventory("Clip",1,1)
        goto Pickup2AmmoCheckFailed
        TNT1 A 0 A_TakeInventory("Clip",1)
        goto Pickup2Attack

      Pickup2Reloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"Pickup2Attack")
        TNT1 A 0 A_JumpIfInventory("SWUziClipDual",1,1)
        goto Pickup2AmmoCheckFailed
        TNT1 A 0 A_TakeInventory("SWUziClipDual",1)
        goto Pickup2Attack

      // Ammo checking failure stuff (left)
      Pickup2AmmoCheckFailed:
        TNT1 A 0 A_GiveInventory("SamsaraShadowWarriorUziLeftAmmoCheckFailed")
        stop

      // Attack stuff (left)
      Pickup2Attack:
        //TNT1 A 0 A_FireCustomMissile("MicroUziTracer",random(-2,0),false,-8,3)
        TNT1 A 0 A_JumpIfInventory("SPModeOn",1,"Pickup2AttackCoop")
        TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"Pickup2AttackCoop")
      Pickup2AttackDM:
        TNT1 A 0 A_FireBullets(5.4,4.3,-1,random(7,9),"BulletPuffSWThruGhost",FBF_NORANDOM|FBF_NOFLASH)
        stop

      Pickup2AttackCoop:
        TNT1 A 0 A_FireBullets(5.4,4.3,-1,random(7,9),"BulletPuffSWThruGhostCoop",FBF_NORANDOM|FBF_NOFLASH)
        stop
    }
}

actor SWUziClip : Ammo
{
    Inventory.MaxAmount 50
    Tag "Uzi Magazine (Right)"
    +IGNORESKILL
}

actor SWUziClipDual : Ammo
{
    Inventory.MaxAmount 50
    Tag "Uzi Magazine (Left)"
    +IGNORESKILL
}

actor MicroUziTracer : FastProjectile
{
    Speed 100
    Scale 0.15
    +NOINTERACTION
    States
    {
      Spawn:
        MUCA G -1 Bright
        stop

      Death:
        TNT1 A 1
        stop
    }
}

actor SWUziBullet : SWRiotBullet { Damage (random(7,9)) Decal "BulletChip" }

actor SWUziPickedUpX : MapCoordinate {}
actor SWUziPickedUpY : MapCoordinate {}
actor SWUziPickedUpZ : MapCoordinate {}
actor SWUziLastPickupTime : Counter { Inventory.InterHubAmount 0 }
actor SWUziLevelLimiter : Boolean {}

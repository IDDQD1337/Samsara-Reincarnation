actor DukePlayer : SamsaraPlayerPawnNormalColoredBlood
{
	Player.DisplayName "Duke"
	Player.Face "DKN"
	Player.StartItem "Glock 17", 1
	Player.StartItem "Mighty Boot", 1
	Player.StartItem "DukeClass", 1
	Player.StartItem "IsSamsaraClass", 1
	Player.StartItem "Clip", 50
	Player.StartItem "TauntButton", 1
	Player.Soundclass "DukePlayer"
	Player.ForwardMove 0.95, 0.925
	Player.SideMove 0.95, 0.925
	Player.JumpZ 10//Default is 8
	Player.CrouchSprite "DUKC"
	Scale 0.725
	DamageFactor "RebelMissile", 0
	DamageFactor "DynamiteCoop", 0.0
	DamageFactor "SWFlameCoop", 0.0
	DamageFactor "CMDMGSHIT", 0.0
	DamageFactor "SWStickyCoop", 0.0
	DamageFactor "PoisonCloud", 1.9
	DamageFactor "Wraithverge", 1.1
	DamageFactor "CorvusCrossbow", 1.2
	DamageFactor "DragonClaw", 1.2
	DamageFactor "PoisonCloud", 1.1
	DamageFactor "Pistol", 1.049
	DamageFactor "DoomFist", 1.078
	DamageFactor "ZorchPistol", 1.1
	DamageFactor "BFG", 1.1
	DamageFactor "BFGSpray", 1.1
	DamageFactor "Normal", 1.055
	DamageFactor "Zorch", 1.1
	DamageFactor "ZorchKamikaze", 1.1
	DamageFactor "PhasingZorch", 1.1
	DamageFactor "Ice", 1.048
	DamageFactor "Fire", 1.62
	DamageFactor "Slime", 1.054
	DamageFactor "Disintegrate", 1.1
	DamageFactor "Poison", 1.033
	DamageFactor "WolfenFlamethrower", 1.1
	DamageFactor "DukeDamage", 1.1
	DamageFactor "DukeExplosive", 1.1
	DamageFactor "DukeSpectral", 1.1
	DamageFactor "MightyBoot", 1.6
	DamageFactor "DukeIce", 1.1
	DamageFactor "DukePistol", 1.1
	DamageFactor "MarathonPistol", 1.1
	DamageFactor "Explosive", 1.076
	DamageFactor "DoomPlasma", 1.1
	DamageFactor "MarathonFusion", 1.1
	DamageFactor "Mace", 1.1
	DamageFactor "CorvusHellstaff", 1.1
	DamageFactor "CorvusHellstaffTomed", 1.1
	DamageFactor "MarathonPlasma", 1.1
	DamageFactor "BJSpear", 1.1
	DamageFactor "DoomCacodemon", 1.1
	DamageFactor "DoomHellNoble", 1.1
	DamageFactor "DoomSpiderPlasma", 1.1
	DamageFactor "DoomTheseGuysAreTheBest", 1.1
	DamageFactor "HereNitrogolem", 1.1
	DamageFactor "HereAxeGreen", 1.1
	DamageFactor "HereAxeRed", 1.1
	DamageFactor "Wizard", 1.090
	DamageFactor "HereLichWind", 1.070
	DamageFactor "HereDsparil", 1.080
	DamageFactor "HexBishop", 1.085
	DamageFactor "HexSlaughtaur", 1.090
	DamageFactor "HexGreenFire", 1.1
	DamageFactor "HexStalkerShot", 1.1
	DamageFactor "HexHeresiarchPurple", 1.080
	DamageFactor "WMCBeam", 0.85
	DamageFactor "WMCNade", 0.85
	DamageFactor "QuakePistol", 1.1
	DamageFactor "NotQuadded", 1.1
	DamageFactor "SpectralNoQuad", 1.1
	DamageFactor "FireExplosive", 1.1
	DamageFactor "QuakeFire", 1.1
	DamageFactor "EnemyInfightDamage", 0.0
	DamageFactor "PunchDagger", 1.1
	DamageFactor "StrifePistol", 1.1
	DamageFactor "ElectricBolt", 1.1
	DamageFactor "PoisonBolt", 1.030
	DamageFactor "MiniExplosive", 1.1
	DamageFactor "StrifeExplosive", 1.070
	DamageFactor "StrifeRebelBullet", 1.060
	DamageFactor "PhosFireCoop", 0.0
	DamageFactor "EradCoopExplosive2", 0.0
	DamageFactor "C7MineBoom", 0.0
	DamageFactor "EradCoopGreenFire", 0.0
	DamageFactor "BCannonProj", 0.78
	DamageFactor "RMR-BigPlasma", 0.95
	DamageFactor "SWNukeCoop", 0.0
	DamageFactor "SWRailgunCoop", 0.0
	DamageFactor "SWFlame2Coop", 0.0
	BloodType "DukeBlood"
	BloodColor "ff 40 00" // Needed for various functions dependent on blood color
	RadiusDamageFactor 0.9
	+NOBLOODDECALS
	Player.ColorRange 112, 127
	var int user_scalex;
	var int user_scaley;
	States
	{
		Spawn:
			DUKE A 0 A_JumpIf(waterlevel > 2, "Swimming")
			DUKE A 0 A_JumpIfInventory("DukeFlying", 1, "Flying")
			DUKE A 0 A_JumpIfInventory("DukeClassMode", 2, 2)
			DUKE A 0 A_JumpIfInventory("DukeClassMode", 1, 55)
			DUKE AAAAA 1 A_JumpIf(momz >> 0, "Jumping")
			DUKE A 0 A_JumpIf(waterlevel > 2, "Swimming")
			DUKE A 0 A_JumpIfInventory("DukeFlying", 1, "Flying")
			DUKE A 0 A_JumpIfInventory("DukeClassMode", 1, 47)
			DUKE AAAAA 1 A_JumpIf(momz >> 0, "Jumping")
			DUKE A 0 A_JumpIf(waterlevel > 2, "Swimming")
			DUKE A 0 A_JumpIfInventory("DukeFlying", 1, "Flying")
			DUKE A 0 A_JumpIfInventory("DukeClassMode", 1, 39)
			DUKE AAAAA 1 A_JumpIf(momz >> 0, "Jumping")
			DUKE A 0 A_JumpIf(waterlevel > 2, "Swimming")
			DUKE A 0 A_JumpIfInventory("DukeFlying", 1, "Flying")
			DUKE A 0 A_JumpIfInventory("DukeClassMode", 1, 31)
			DUKE AAAAA 1 A_JumpIf(momz >> 0, "Jumping")
			DUKE A 0 A_JumpIf(waterlevel > 2, "Swimming")
			DUKE A 0 A_JumpIfInventory("DukeFlying", 1, "Flying")
			DUKE A 0 A_JumpIfInventory("DukeClassMode", 1, 23)
			DUKE AAAAA 1 A_JumpIf(momz >> 0, "Jumping")
			DUKE A 0 A_JumpIf(waterlevel > 2, "Swimming")
			DUKE A 0 A_JumpIfInventory("DukeFlying", 1, "Flying")
			DUKE A 0 A_JumpIfInventory("DukeClassMode", 1, 15)
			DUKE AAAAA 1 A_JumpIf(momz >> 0, "Jumping")
			DUKE A 0 A_JumpIf(waterlevel > 2, "Swimming")
			DUKE A 0 A_JumpIfInventory("DukeFlying", 1, "Flying")
			DUKE A 0 A_JumpIfInventory("DukeClassMode", 1, 7)
			DUKE AAAAA 1 A_JumpIf(momz >> 0, "Jumping")
			DUKE A -1 A_Jump(256, 61)
			DUKE I 0 A_JumpIf(waterlevel > 2, "Swimming")
			DUKE IIIII 1 A_JumpIf(momz >> 0, "Jumping")
			DUKE I 0 A_JumpIf(waterlevel > 2, "Swimming")
			DUKE A 0 A_JumpIfInventory("DukeFlying", 1, "Flying")
			DUKE A 0 A_JumpIfInventory("DukeClassMode", 2, "Spawn")
			DUKE I 0 A_JumpIfInventory("DukeClassMode", 1, 2)
			DUKE I -1 A_Jump(256,"Spawn")
			DUKE IIIII 1 A_JumpIf(momz >> 0, "Jumping")
			DUKE I 0 A_JumpIf(waterlevel > 2, "Swimming")
			DUKE A 0 A_JumpIfInventory("DukeFlying", 1, "Flying")
			DUKE A 0 A_JumpIfInventory("DukeClassMode", 2, "Spawn")
			DUKE I 0 A_JumpIfInventory("DukeClassMode", 1, 2)
			DUKE I -1 A_Jump(256,"Spawn")
			DUKE IIIII 1 A_JumpIf(momz >> 0, "Jumping")
			DUKE I 0 A_JumpIf(waterlevel > 2, "Swimming")
			DUKE A 0 A_JumpIfInventory("DukeFlying", 1, "Flying")
			DUKE A 0 A_JumpIfInventory("DukeClassMode", 2, "Spawn")
			DUKE I 0 A_JumpIfInventory("DukeClassMode", 1, 2)
			DUKE I -1 A_Jump(256,"Spawn")
			DUKE IIIII 1 A_JumpIf(momz >> 0, "Jumping")
			DUKE I 0 A_JumpIf(waterlevel > 2, "Swimming")
			DUKE A 0 A_JumpIfInventory("DukeFlying", 1, "Flying")
			DUKE A 0 A_JumpIfInventory("DukeClassMode", 2, "Spawn")
			DUKE I 0 A_JumpIfInventory("DukeClassMode", 1, 2)
			DUKE I -1 A_Jump(256,"Spawn")
			DUKE IIIII 1 A_JumpIf(momz >> 0, "Jumping")
			DUKE I 0 A_JumpIf(waterlevel > 2, "Swimming")
			DUKE A 0 A_JumpIfInventory("DukeFlying", 1, "Flying")
			DUKE A 0 A_JumpIfInventory("DukeClassMode", 2, "Spawn")
			DUKE I 0 A_JumpIfInventory("DukeClassMode", 1, 2)
			DUKE I -1 A_Jump(256,"Spawn")
			DUKE IIIII 1 A_JumpIf(momz >> 0, "Jumping")
			DUKE I 0 A_JumpIf(waterlevel > 2, "Swimming")
			DUKE A 0 A_JumpIfInventory("DukeFlying", 1, "Flying")
			DUKE A 0 A_JumpIfInventory("DukeClassMode", 2, "Spawn")
			DUKE I 0 A_JumpIfInventory("DukeClassMode", 1, 2)
			DUKE I -1 A_Jump(256,"Spawn")
			DUKE IIIII 1 A_JumpIf(momz >> 0, "Jumping")
			TNT1 A 0 A_JumpIfInventory("DukeWaiting",15,"WaitingTooLong")
			TNT1 A 0 A_GiveInventory("DukeWaiting",1)
			Loop
		WaitingTooLong:
			DUKE A 0 A_JumpIf(waterlevel > 2, "Swimming")
			DUKE A 0 A_JumpIfInventory("DukeFlying", 1, "Flying")
			DUKE A 0 A_JumpIfInventory("DukeClassMode", 2, 2)
			DUKE A 0 A_JumpIfInventory("DukeClassMode", 1, 5)
			DUKE A 1 //A_GiveInventory("KnuckleCrack2",1)
			DUKE A 1 //A_SelectWeapon("KnuckleCrack2")
			DUKE A 1 A_TakeInventory("DukeWaiting",15)
			DUKE A 0 A_Jump(256,"Spawn")
			DUKE I 1 //A_GiveInventory("KnuckleCrack2",1)
			DUKE I 1 //A_SelectWeapon("KnuckleCrack2")
			DUKE I 1 A_TakeInventory("DukeWaiting",15)
			goto Spawn
		See:
			DUKE A 0 A_TakeInventory("DukeWaiting",15)
			DUKE A 0 A_JumpIf(waterlevel > 2, "Swimming")
			DUKE A 0 A_JumpIfInventory("DukeFlying", 1, "Flying")
			DUKE A 0 A_JumpIfInventory("DukeClassMode", 2, 2)
			DUKE A 0 A_JumpIfInventory("DukeClassMode", 1, 25)
			DUKE AAAA 1 A_JumpIf(momz >> 0, "Jumping") 
			DUKE A 0 A_JumpIf(waterlevel > 2, "Swimming")
			DUKE A 0 A_JumpIfInventory("DukeFlying", 1, "Flying")
			DUKE BBBB 1 A_JumpIf(momz >> 0, "Jumping") 
			DUKE A 0 A_JumpIf(waterlevel > 2, "Swimming")
			DUKE A 0 A_JumpIfInventory("DukeFlying", 1, "Flying")
			DUKE CCCC 1 A_JumpIf(momz >> 0, "Jumping") 
			DUKE A 0 A_JumpIf(waterlevel > 2, "Swimming")
			DUKE A 0 A_JumpIfInventory("DukeFlying", 1, "Flying")
			DUKE DDDD 1 A_JumpIf(momz >> 0, "Jumping") 
			DUKE D -1 A_Jump(256,23)
			DUKE IIII 1 A_JumpIf(momz >> 0, "Jumping")
			DUKE A 0 A_JumpIf(waterlevel > 2, "Swimming")
			DUKE A 0 A_JumpIfInventory("DukeFlying", 1, "Flying")
			DUKE JJJJ 1 A_JumpIf(momz >> 0, "Jumping")
			DUKE A 0 A_JumpIf(waterlevel > 2, "Swimming")
			DUKE A 0 A_JumpIfInventory("DukeFlying", 1, "Flying")
			DUKE KKKK 1 A_JumpIf(momz >> 0, "Jumping")
			DUKE A 0 A_JumpIf(waterlevel > 2, "Swimming")
			DUKE A 0 A_JumpIfInventory("DukeFlying", 1, "Flying")
			DUKE LLLL 1 A_JumpIf(momz >> 0, "Jumping")
			DUKE L 0
			Loop
		Melee:
		Missile:
			DUKE A 0 A_JumpIf(waterlevel > 2, "Swimming")
			DUKE A 0 A_JumpIfInventory("DukeFlying", 1, "Flying")
			TNT1 A 0 A_JumpIfInventory("DukeKicking",1,"Kicking")
			TNT1 A 0 A_TakeInventory("DukeWaiting",999)
			DUKE E 0 A_JumpIfInventory("DukeClassMode", 2, 2)
			DUKE E 1 A_JumpIfInventory("DukeClassMode", 1, 12)
			DUKE EEEEEFFFFFF 1 A_JumpIfInventory("DukeKicking",1,"Kicking")
			Goto Spawn
			DUKE M 1
			DUKE MMMMMNNNNNN 1 A_JumpIfInventory("DukeKicking",1,"Kicking")
			DUKE M 0 A_JumpIfInventory("DukeKicking",1,"Kicking")
			Goto Spawn
		Kicking:
			DUKE A 0 A_TakeInventory("DukeKicking",9)
			DUKE A 0 A_JumpIfInventory("DukeClassMode", 2, 2)
			TNT1 A 0 A_JumpIfInventory("DukeClassMode", 1, 4)
			DUKE GH 4
			DUKE G 2
			goto Spawn
			DUKE OP 4
			DUKE O 2
			goto Spawn
		Jumping:
			DUKE A 0 A_JumpIf(waterlevel > 2, "Swimming")
			DUKE A 0 A_JumpIfInventory("DukeFlying", 1, "Flying")
			DUKE A 0 A_JumpIfInventory("DukeClassMode", 2, 2)
			TNT1 A 0 A_JumpIfInventory("DukeClassMode", 1, 7)
			DUK2 GGG 1
			DUK2 G 1 A_JumpIf(momz >> 0, "Jumping")
			DUK2 HH 1
			goto Spawn
			DUK2 TTT 1
			DUK2 T 1 A_JumpIf(momz >> 0, "Jumping")
			DUK2 UU 1
			goto Spawn
		Flying:
			TNT1 A 0 A_JumpIfInventory("DukeClassMode", 2, 2)
			TNT1 A 0 A_JumpIfInventory("DukeClassMode", 1, 5)
			DUK2 MMM 1
			DUK2 M 1 A_JumpIfInventory("DukeFlying", 1, "Flying")
			Goto Spawn
			DUK2 ZZZ 1
			DUK2 Z 1 A_JumpIfInventory("DukeFlying", 1, "Flying")
			Goto Spawn
		Swimming:
			TNT1 A 0 A_JumpIfInventory("DukeClassMode", 2, 2)
			TNT1 A 0 A_JumpIfInventory("DukeClassMode", 1, 17)
			DUK2 IIII 1 A_JumpIf(waterlevel < 3, "See")
			DUK2 JJJJ 1 A_JumpIf(waterlevel < 3, "See")
			DUK2 KKKK 1 A_JumpIf(waterlevel < 3, "See")
			DUK2 LLLL 1 A_JumpIf(waterlevel < 3, "See")
			goto Spawn
			DUK2 VVVV 1 A_JumpIf(waterlevel < 3, "See")
			DUK2 WWWW 1 A_JumpIf(waterlevel < 3, "See")
			DUK2 XXXX 1 A_JumpIf(waterlevel < 3, "See")
			DUK2 YYYY 1 A_JumpIf(waterlevel < 3, "See")
			goto Spawn
		Pain: 
			DUKE A 0 A_JumpIf(waterlevel > 2, "Swimming")
			DUKE A 0 A_JumpIfInventory("DukeFlying", 1, "Flying")
			TNT1 A 0 A_JumpIfInventory("DukeClassMode", 2, 2)
			TNT1 A 0 A_JumpIfInventory("DukeClassMode", 1, 3)
			DUKE A 1 A_Pain
			TNT1 A 0 A_Jump(256,"Spawn")
			DUKE I 1 A_Pain
			Goto Spawn
		Pain.Shock:
		Pain.Tesla:
			CBGS H 4 A_Pain
			CBGS H 4
			Goto See
		Death:
			TNT1 A 0 A_TakeInventory("DukeVision", 1)
			TNT1 A 0 A_TakeInventory("PowerLightAmp", 1)
			TNT1 A 0 A_TakeInventory("DukeFlying", 1)
			TNT1 A 0 A_TakeInventory("DukePetjack", 1)
			TNT1 A 0 A_TakeInventory("DukeKaboom",1)	
			TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			DUKE A 0 A_JumpIfInventory("DukeClassMode", 2, 2)
			TNT1 A 0 A_JumpIfInventory("DukeClassMode", 1, "DeathBeach")
			DUK2 A 10
			DUK2 B 10 A_PlayerScream
			TNT1 A 0 ACS_NamedExecuteAlways("SamsaraDecorate", 0, 16)
			DUK2 C 10 A_NoBlocking
			DUK2 DE 10
			DUK2 F -1
			stop
		DeathBeach:
			DUK2 N 10
			DUK2 O 10 A_PlayerScream
			TNT1 A 0 ACS_NamedExecuteAlways("SamsaraDecorate", 0, 16)
			DUK2 P 10 A_NoBlocking
			DUK2 QR 10
			DUK2 S -1
			Stop
		Death.CalebFire:
		Death.LifeLeech:
			TNT1 A 0 A_TakeInventory("DukeVision", 1)
			TNT1 A 0 A_TakeInventory("PowerLightAmp", 1)
			TNT1 A 0 A_TakeInventory("DukeFlying", 1)
			TNT1 A 0 A_TakeInventory("DukePetjack", 1)
			TNT1 A 0 A_TakeInventory("DukeKaboom",1)
			TNT1 A 0 ACS_NamedExecuteAlways("SamsaraDecorate", 0, 16)
			TNT1 A 0 A_Jump(218, 2)
			TNT1 A 0 A_PlayerScream
			TNT1 A 0 A_GiveToTarget("CalebDMTaunt1", 1)
			TNT1 A 0 A_PlaySoundEx("*burndeath",CHAN_VOICE,0,0)
			TNT1 A 0 A_SpawnItemEx("BloodBurningCorpse_Silent_Duke", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_SETMASTER)
			TNT1 A 0 A_UnsetSolid
			TNT1 A -1
			Stop
		Death.DukeDamage:
		Death.DukePistol:
			"####" A 0 A_Jump(218,"Death")
			"####" A 0 A_GiveToTarget("DukeDMTauntDuke",1)
			"####" A -1 A_Jump(256,"Death")
			wait
		Death.MightyBoot:
			"####" A 0 A_PlaySoundEx("duke/kickhit","body",0,0)
			"####" A 0 A_Jump(64,"Death")
			"####" A 0 A_GiveToTarget("DukeDMTauntDuke",1)
			"####" A -1 A_Jump(256,"Death")
			wait
		Death.DukeExplosive:
			"####" A 0 A_JumpIfHealthLower(-3,"DukeGibStart")
		DukeGibStart:
			"####" A 0 A_Jump(96,"XDeath")
			"####" A 0 A_GiveToTarget("DukeDMTauntDuke",1)
			"####" A -1 A_Jump(256,"XDeath")
			wait
		Death.DukePlasma:
			"####" "#" 0 A_TakeInventory("DukeVision", 1)
			"####" "#" 0 A_TakeInventory("PowerLightAmp", 1)
			"####" "#" 0 A_TakeInventory("DukeFlying", 1)
			"####" "#" 0 A_TakeInventory("DukePetjack", 1)
			"####" "#" 0 A_TakeInventory("DukeKaboom",1)
			"####" "#" 0 ACS_NamedExecuteAlways("SamsaraDecorate", 0, 16)
			"####" "#" 0 A_Stop
            "####" "#" 1 A_NoBlocking
            "####" "#" 0 A_Jump(218,2)
            "####" "#" 0 A_GiveToTarget("DukeDMTauntDuke",1)
            "####" "#" 0 ACS_NamedExecuteAlways("DN64PlasmaDeath")
            "####" "#" 3 A_SpawnItem("Duke64PlasmaEffectSmall")
            "####" "#" 0 A_GiveInventory("EnemyZorched",1)
            "####" "#" 27 A_PlayerScream
			TNT1 A 1 A_SetTranslucent(1,0)
            TNT1 A -1
            Stop
		XDeath:
			TNT1 A 0 A_TakeInventory("DukeVision", 1)
			TNT1 A 0 A_TakeInventory("PowerLightAmp", 1)
			TNT1 A 0 A_TakeInventory("DukeFlying", 1)
			TNT1 A 0 A_TakeInventory("DukePetjack", 1)
			TNT1 A 0 A_TakeInventory("DukeKaboom",1)
			TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			DUKE A 0 A_JumpIfInventory("DukeClassMode", 2, 2)
			TNT1 A 0 A_JumpIfInventory("DukeClassMode", 1, "XDeathBeach")
			DUKE A 5
			TNT1 A 0 A_XScream
			TNT1 AA 0 A_SpawnItemEx("DukeJibs1",random(-2,2),random(-2,2),random(24,45),random(-3,3),random(-3,3),random(3,10),random(-180,180),32)
			TNT1 AA 0 A_SpawnItemEx("DukeJibs2",random(-2,2),random(-2,2),random(24,45),random(-3,3),random(-3,3),random(3,10),random(-180,180),32)
			TNT1 AAAA 0 A_SpawnItemEx("DukeJibs3",random(-2,2),random(-2,2),random(24,45),random(-3,3),random(-3,3),random(3,10),random(-180,180),32)
			TNT1 AA 0 A_SpawnItemEx("DukeJibs4",random(-2,2),random(-2,2),random(24,45),random(-3,3),random(-3,3),random(3,10),random(-180,180),32)
			TNT1 AA 0 A_SpawnItemEx("DukeJibs5",random(-2,2),random(-2,2),random(24,45),random(-3,3),random(-3,3),random(3,10),random(-180,180),32)
			TNT1 AAAAAAA 0 A_SpawnItemEx("DukeJibs6",random(-2,2),random(-2,2),random(24,45),random(-3,3),random(-3,3),random(3,10),random(-180,180),32)
			TNT1 A 0 A_Jump(128,2)
			TNT1 A 0 A_SpawnItemEx("DukeBloodPool_Duke",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			TNT1 A 0 A_PlaySound("duke/enemygib")
			ACLO E 0 ACS_NamedExecuteAlways("SamsaraDecorate", 0, 16)
			ACLO E 5 A_NoBlocking
			ACLO E -1
			Stop
		XDeathBeach:
			DUKE I 5
			TNT1 A 0 A_XScream
			TNT1 AA 0 A_SpawnItemEx("DukeJibs1",random(-2,2),random(-2,2),random(24,45),random(-3,3),random(-3,3),random(3,10),random(-180,180),32)
			TNT1 AA 0 A_SpawnItemEx("DukeJibs2",random(-2,2),random(-2,2),random(24,45),random(-3,3),random(-3,3),random(3,10),random(-180,180),32)
			TNT1 AAAA 0 A_SpawnItemEx("DukeJibs3",random(-2,2),random(-2,2),random(24,45),random(-3,3),random(-3,3),random(3,10),random(-180,180),32)
			TNT1 AA 0 A_SpawnItemEx("DukeJibs4",random(-2,2),random(-2,2),random(24,45),random(-3,3),random(-3,3),random(3,10),random(-180,180),32)
			TNT1 AA 0 A_SpawnItemEx("DukeJibs5",random(-2,2),random(-2,2),random(24,45),random(-3,3),random(-3,3),random(3,10),random(-180,180),32)
			TNT1 AAAAAAA 0 A_SpawnItemEx("DukeJibs6",random(-2,2),random(-2,2),random(24,45),random(-3,3),random(-3,3),random(3,10),random(-180,180),32)
			TNT1 A 0 A_Jump(128,2)
			TNT1 A 0 A_SpawnItemEx("DukeBloodPool_Duke",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			TNT1 A 0 A_PlaySound("duke/enemygib")
			ACLO E 0 ACS_NamedExecuteAlways("SamsaraDecorate", 0, 16)
			ACLO E 5 A_NoBlocking
			ACLO E -1
			Stop
		Burn:
			TNT1 A 0 A_TakeInventory("DukeVision", 1)
			TNT1 A 0 A_TakeInventory("PowerLightAmp", 1)
			TNT1 A 0 A_TakeInventory("DukeFlying", 1)
			TNT1 A 0 A_TakeInventory("DukePetjack", 1)
			TNT1 A 0 A_TakeInventory("DukeKaboom",1)
			TNT1 A 0 ACS_NamedExecuteAlways("SamsaraDecorate", 0, 16)
			TNT1 A 0 A_Fall
			ACLO E 0 A_SpawnItem("BurnDeathDuke")
			ACLO E 5 A_PlaySound("*burndeath")
			ACLO E -1
			stop
		Death.DukeIce:
			"####" "#" 0 A_Jump(218,"Ice")
			"####" "#" 0 A_GiveToTarget("DukeDMTauntDuke",1)
			goto Ice
		Ice:
		Death.HexenIce:
		Death.WTMeleeIce:
		Death.WTRangedIce:
		Death.DoomDamageTypeIce:
		Death.Ice:
			"####" "#" 0 A_TakeInventory("DukeVision", 1)
			"####" "#" 0 A_TakeInventory("PowerLightAmp", 1)
			"####" "#" 0 A_TakeInventory("DukeFlying", 1)
			"####" "#" 0 A_TakeInventory("DukePetjack", 1)
			"####" "#" 0 A_TakeInventory("DukeKaboom",1)
			"####" "#" 0 ACS_NamedExecuteAlways("SamsaraDecorate", 0, 16)
			Goto Super::Ice
		Disintegrate:
			"####" "#" 0 A_TakeInventory("DukeVision", 1)
			"####" "#" 0 A_TakeInventory("PowerLightAmp", 1)
			"####" "#" 0 A_TakeInventory("DukeFlying", 1)
			"####" "#" 0 A_TakeInventory("DukePetjack", 1)
			"####" "#" 0 A_TakeInventory("DukeKaboom",1)
			"####" "#" 0 ACS_NamedExecuteAlways("SamsaraDecorate", 0, 16)
			Goto Super::Disintegrate
		Death.RottDisintegrate:
			"####" "#" 0 A_TakeInventory("DukeVision", 1)
			"####" "#" 0 A_TakeInventory("PowerLightAmp", 1)
			"####" "#" 0 A_TakeInventory("DukeFlying", 1)
			"####" "#" 0 A_TakeInventory("DukePetjack", 1)
			"####" "#" 0 A_TakeInventory("DukeKaboom",1)
			"####" "#" 0 ACS_NamedExecuteAlways("SamsaraDecorate", 0, 16)
			Goto Super::Death.RottDisintegrate
		Death.Nuke:
			"####" "#" 0 A_TakeInventory("DukeVision", 1)
			"####" "#" 0 A_TakeInventory("PowerLightAmp", 1)
			"####" "#" 0 A_TakeInventory("DukeFlying", 1)
			"####" "#" 0 A_TakeInventory("DukePetjack", 1)
			"####" "#" 0 A_TakeInventory("DukeKaboom",1)
			"####" "#" 0 ACS_NamedExecuteAlways("SamsaraDecorate", 0, 16)
			Goto Super::Death.Nuke
		Death.ZorchPistol:
		Death.Zorch:
		Death.ZorchKamikaze:
		Death.PhasingZorch:
		Death.ZorchSpectral:
			"####" "#" 0 A_TakeInventory("DukeVision", 1)
			"####" "#" 0 A_TakeInventory("PowerLightAmp", 1)
			"####" "#" 0 A_TakeInventory("DukeFlying", 1)
			"####" "#" 0 A_TakeInventory("DukePetjack", 1)
			"####" "#" 0 A_TakeInventory("DukeKaboom",1)
			"####" "#" 0 ACS_NamedExecuteAlways("SamsaraDecorate", 0, 16)
			Goto Super::Death.ZorchSpectral
		Death.TotenkopfFire:
			"####" "#" 0 A_TakeInventory("DukeVision", 1)
			"####" "#" 0 A_TakeInventory("PowerLightAmp", 1)
			"####" "#" 0 A_TakeInventory("DukeFlying", 1)
			"####" "#" 0 A_TakeInventory("DukePetjack", 1)
			"####" "#" 0 A_TakeInventory("DukeKaboom",1)
			"####" "#" 0 ACS_NamedExecuteAlways("SamsaraDecorate", 0, 16)
			Goto Super::Death.TotenkopfFire
		Death.RottFire:
			"####" "#" 0 A_TakeInventory("DukeVision", 1)
			"####" "#" 0 A_TakeInventory("PowerLightAmp", 1)
			"####" "#" 0 A_TakeInventory("DukeFlying", 1)
			"####" "#" 0 A_TakeInventory("DukePetjack", 1)
			"####" "#" 0 A_TakeInventory("DukeKaboom",1)
			"####" "#" 0 ACS_NamedExecuteAlways("SamsaraDecorate", 0, 16)
			Goto Super::Death.RottFire
		XDeathForRanger:
			"####" "#" 0 A_TakeInventory("DukeVision", 1)
			"####" "#" 0 A_TakeInventory("PowerLightAmp", 1)
			"####" "#" 0 A_TakeInventory("DukeFlying", 1)
			"####" "#" 0 A_TakeInventory("DukePetjack", 1)
			"####" "#" 0 A_TakeInventory("DukeKaboom",1)
			"####" "#" 0 ACS_NamedExecuteAlways("SamsaraDecorate", 0, 16)
			Goto Super::XDeathForRanger
		Death.Nuke:
			"####" "#" 0 A_TakeInventory("DukeVision", 1)
			"####" "#" 0 A_TakeInventory("PowerLightAmp", 1)
			"####" "#" 0 A_TakeInventory("DukeFlying", 1)
			"####" "#" 0 A_TakeInventory("DukePetjack", 1)
			"####" "#" 0 A_TakeInventory("DukeKaboom",1)
			"####" "#" 0 ACS_NamedExecuteAlways("SamsaraDecorate", 0, 16)
			Goto Super::Death.Nuke
		Death.RottExplosive:
			"####" "#" 0 A_TakeInventory("DukeVision", 1)
			"####" "#" 0 A_TakeInventory("PowerLightAmp", 1)
			"####" "#" 0 A_TakeInventory("DukeFlying", 1)
			"####" "#" 0 A_TakeInventory("DukePetjack", 1)
			"####" "#" 0 A_TakeInventory("DukeKaboom",1)
			"####" "#" 0 ACS_NamedExecuteAlways("SamsaraDecorate", 0, 16)
			Goto Super::Death.RottExplosive
		Death.FreemanGibs:
			"####" "#" 0 A_TakeInventory("DukeVision", 1)
			"####" "#" 0 A_TakeInventory("PowerLightAmp", 1)
			"####" "#" 0 A_TakeInventory("DukeFlying", 1)
			"####" "#" 0 A_TakeInventory("DukePetjack", 1)
			"####" "#" 0 A_TakeInventory("DukeKaboom",1)
			"####" "#" 0 ACS_NamedExecuteAlways("SamsaraDecorate", 0, 16)
			Goto Super::Death.FreemanGibs
		XDeathForBitterman:
			"####" "#" 0 A_TakeInventory("DukeVision", 1)
			"####" "#" 0 A_TakeInventory("PowerLightAmp", 1)
			"####" "#" 0 A_TakeInventory("DukeFlying", 1)
			"####" "#" 0 A_TakeInventory("DukePetjack", 1)
			"####" "#" 0 A_TakeInventory("DukeKaboom",1)
			"####" "#" 0 ACS_NamedExecuteAlways("SamsaraDecorate", 0, 16)
			Goto Super::XDeathForBitterman
		XDeathForDemoness:
			"####" "#" 0 A_TakeInventory("DukeVision", 1)
			"####" "#" 0 A_TakeInventory("PowerLightAmp", 1)
			"####" "#" 0 A_TakeInventory("DukeFlying", 1)
			"####" "#" 0 A_TakeInventory("DukePetjack", 1)
			"####" "#" 0 A_TakeInventory("DukeKaboom",1)
			"####" "#" 0 ACS_NamedExecuteAlways("SamsaraDecorate", 0, 16)
			Goto Super::XDeathForDemoness
		UnrealXDeath:
			"####" "#" 0 A_TakeInventory("DukeVision", 1)
			"####" "#" 0 A_TakeInventory("PowerLightAmp", 1)
			"####" "#" 0 A_TakeInventory("DukeFlying", 1)
			"####" "#" 0 A_TakeInventory("DukePetjack", 1)
			"####" "#" 0 A_TakeInventory("DukeKaboom",1)
			"####" "#" 0 ACS_NamedExecuteAlways("SamsaraDecorate", 0, 16)
			Goto Super::UnrealXDeath
		RTCWXDeath2:
			"####" "#" 0 A_TakeInventory("DukeVision", 1)
			"####" "#" 0 A_TakeInventory("PowerLightAmp", 1)
			"####" "#" 0 A_TakeInventory("DukeFlying", 1)
			"####" "#" 0 A_TakeInventory("DukePetjack", 1)
			"####" "#" 0 A_TakeInventory("DukeKaboom",1)
			"####" "#" 0 ACS_NamedExecuteAlways("SamsaraDecorate", 0, 16)
			Goto Super::RTCWXDeath2
		XDeath.Q3Energy:
			"####" "#" 0 A_TakeInventory("DukeVision", 1)
			"####" "#" 0 A_TakeInventory("PowerLightAmp", 1)
			"####" "#" 0 A_TakeInventory("DukeFlying", 1)
			"####" "#" 0 A_TakeInventory("DukePetjack", 1)
			"####" "#" 0 A_TakeInventory("DukeKaboom",1)
			"####" "#" 0 ACS_NamedExecuteAlways("SamsaraDecorate", 0, 16)
			Goto Super::XDeath.Q3Energy
		Death.ExpanderDMG:
		XDeath.ExpanderDMG:
			"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
			"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 0 A_PlaySound("duke/expand")
			Goto ExpanderLoop
		ExpanderLoop:
			"####" "#" 1 A_SetScale(1.1*(user_scalex/65536.0)+((0.01*(user_scalex/65536.0))*CallACS("Samsara_Expander",1))+((0.01*(user_scalex/65536.0))*(CallACS("Samsara_Expander",1)-CallACS("Samsara_Expander",2)))*(CallACS("Samsara_Expander",3)*2),1.1*(user_scaley/65536.0)+((0.01*(user_scaley/65536.0))*CallACS("Samsara_Expander",2)))
			"####" "#" 0 A_GiveInventory("ExpanderGrowthX", 1)
			"####" "#" 0 A_JumpIf(ceilingz - (z + height + CallACS("Samsara_Expander",1) + 32) <= 0, 2)
			"####" "#" 0 A_GiveInventory("ExpanderGrowthY", 1)
			"####" "#" 0 A_GiveInventory("ExpanderDoubleX", 1)
			"####" "#" 0 A_JumpIfInventory("ExpanderGrowthX", 40, "ExpanderPop")
			loop
		ExpanderPop:
			"####" "#" 10
			"####" A 0 A_SpawnItemEx("ExpanderExplosion_Basic",0,0,height*2,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
			"####" A 0 A_PlaySound("duke/explosion", 6, 1.0)
			"####" A 1 ACS_NamedExecuteWithResult("SamsaraDecorate",36,2)
			"####" A 0 A_Jump(96,2)
			"####" A 0 A_GiveToTarget("DukeDMTauntDuke", 1)
			"####" A 0 A_SetScale (1.0, 1.0)
			"####" A 0 A_UnsetSolid
			"####" A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			"####" A 0 A_SpawnItemEx("DukeGibPopSpawner_Duke", 0, 0, height*2, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
			"####" A 0 A_GiveToTarget("DukeDMTauntDuke",1)
			TNT1 A -1 A_UnsetSolid
			Stop
		Death.ExpanderDMGCoop:
		XDeath.ExpanderDMGCoop:
			"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
			"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 0 A_PlaySound("duke/expand")
			Goto ExpanderLoopCoop
		ExpanderLoopCoop:
			"####" "#" 1 A_SetScale(1.1*(user_scalex/65536.0)+((0.01*(user_scalex/65536.0))*CallACS("Samsara_Expander",1))+((0.01*(user_scalex/65536.0))*(CallACS("Samsara_Expander",1)-CallACS("Samsara_Expander",2)))*(CallACS("Samsara_Expander",3)*2),1.1*(user_scaley/65536.0)+((0.01*(user_scaley/65536.0))*CallACS("Samsara_Expander",2)))
			"####" "#" 0 A_GiveInventory("ExpanderGrowthX", 1)
			"####" "#" 0 A_JumpIf(ceilingz - (z + height + CallACS("Samsara_Expander",1) + 32) <= 0, 2)
			"####" "#" 0 A_GiveInventory("ExpanderGrowthY", 1)
			"####" "#" 0 A_GiveInventory("ExpanderDoubleX", 1)
			"####" "#" 0 A_JumpIfInventory("ExpanderGrowthX", 40, "ExpanderPopCoop")
			loop
		ExpanderPopCoop:
			"####" "#" 10
			"####" A 0 A_SpawnItemEx("ExpanderExplosion_Coop",0,0,height*2,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
			"####" A 0 A_PlaySound("duke/explosion", 6, 1.0)
			"####" A 1 ACS_NamedExecuteWithResult("SamsaraDecorate",36,2)
			"####" A 0 A_Jump(96,2)
			"####" A 0 A_GiveToTarget("DukeDMTauntDuke", 1)
			"####" A 0 A_SetScale (1.0, 1.0)
			"####" A 0 A_UnsetSolid
			"####" A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			"####" A 0 A_SpawnItemEx("DukeGibPopSpawner_Duke", 0, 0, height*2, 0, 0, 0, 0, SXF_NOCHECKPOSITION)
			"####" A 0 A_GiveToTarget("DukeDMTauntDuke",1)
			TNT1 A -1 A_UnsetSolid
			Stop
		Pain.ShrinkerDMG:
			TNT1 A 0 A_ChangeFlag("NOPAIN",true)
			TNT1 A 0 A_ChangeFlag("NODAMAGE",true)
			TNT1 A 0 A_JumpIfInventory("DukeClassMode",1,"ShrinkBeach")
			DUKE A 0 ACS_NamedExecuteAlways("Samsara_PlayerShrinker")
			"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
			"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 0 A_PlaySound("duke/shrink")
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("DukePlayer_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("DukePlayer_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("DukePlayer_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("DukePlayer_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("DukePlayer_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("DukePlayer_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("DukePlayer_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 4 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			TNT1 A 0 A_ChangeFlag("NOPAIN",false)
			TNT1 A 0 A_ChangeFlag("NODAMAGE",false)
			Goto Spawn
		ShrinkBeach:
			DUKE I 0 ACS_NamedExecuteAlways("Samsara_PlayerShrinker")
			"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
			"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 0 A_PlaySound("duke/shrink")
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("DukeBeach_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("DukeBeach_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("DukeBeach_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("DukeBeach_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("DukeBeach_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("DukeBeach_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("DukeBeach_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 4 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			TNT1 A 0 A_ChangeFlag("NODAMAGE",false)
			Goto Spawn
	}
}

Actor DukePlayer_Shrink : DukePlayer
{
	Player.ForwardMove 0.25
	Player.SideMove 0.25
	Player.MorphWeapon "ShrunkWeapon"
	Player.ViewHeight 8
	DamageFactor "ZorchPistol", 0.0
	DamageFactor "Zorch", 0.0
	DamageFactor "ZorchKamikaze", 0.0
	DamageFactor "PhasingZorch", 0.0
	DamageFactor "ZorchSpectral", 0.0
	MaxStepHeight 2
	Height 8
	Radius 4
	-SOLID
	+NOPAIN
	States
	{
		Spawn:
			DUKE A 0 A_JumpIfInventory("DukeClassMode", 2, 2)
			DUKE A 0 A_JumpIfInventory("DukeClassMode", 1, 3)
			DUKE A 1
			TNT1 A -1 A_Jump(256,"Spawn")
			DUKE I 1
			Loop
		See:
			DUKE A 0 A_JumpIfInventory("DukeClassMode", 2, 2)
			DUKE A 0 A_JumpIfInventory("DukeClassMode", 1, 6)
			DUKE ABCD 4
			TNT1 A -1 A_Jump(256,"Spawn")
			DUKE IJKL 4
			Loop
		Death.PhosFireCoop:
		Death.HexGreenFire:
		Death.QuakeFire:
		Death.FireExplosive:
		Death.PGFire:
		Death.WTRangedFire:
		Death.WolfenFlamethrower:
		Death.MarathonPlasma:
		Burn:
		Death.TotenkopfFire:
		Death.DukeDamage:
		Death.DukePistol:
		Death.MightyBoot:
		Death.DukeExplosive:
		Death.DukeIce:
		Ice:
		Death.HexenIce:
		Death.Ice:
		Death.ExpanderDMG:
		XDeath.ExpanderDMG:
		Death.ExpanderDMGCoop:
		XDeath.ExpanderDMGCoop:
		Death.QuakeElectric:
		Death.NotQuadded:
		Death.QuakeExplosive:
		XDeath.QuakeElectric:
		XDeath.NotQuadded:
		XDeath.QuakeExplosive:
		Death.RottExplosive:
		Death.RottFire:
		Death.RottDisintegrate:
		Death.CalebFire:
		Death.LifeLeech:
		Death.CalebNapalm:
		Death.Vodoo:
		Death.VoodooPuff:
		Death.DynamiteCoop:
		Death.Dynamite:
		Death.Shock:
		Death.Tesla:
		Death.CalebBullet:
		Disintegrate:
		Death.EradExplosive:
		Death.EradNova:
		Death.EradShock:
		Death.EradExplosive2:
		Death.EradDisc:
		Death.EradPiercingDart:
		Death.EradGreenFire:
		Death.EradCoopGreenFire:
		Death.Nuke:
		Death.HLLaser:
		Death.HLExplosive:
		Death.HLRPGExplosive:
		Death.HLEgon:
		Death.FreemanGibs:
		Death.SWFist:
		Death.SWKatana:
		Death.SWShuriken:
		Death.SWSticky:
		Death.SWStickyCoop:
		Death.SWGrenade:
		Death.SWNuke:
		Death.SWRocket:
		Death.SWRailgun:
		Death.SWRailgunCoop:
		Death.SWNukeCoop:
		Death.SWFlame:
		Death.SWFlame2:
		Death.SWFlame2Coop:
		Death.SWFlame3:	
		Death.SWBullet:
		Death.PSRAPower:
		Death.PSRAPowerCoop:
		Death.PSExplosive:
		Death.PSExplosiveCoop:
		Death.PSBullet:
		Death.PSFire:
		Death.PSFire:
		Death.LeonardDamage2:
		Death.LeonardDamage3:
		Death.LeonardDamage0:
		Death.LeonardDamage1:
		Death.BittermanDamage:
		Death.Hexen2Damage:
		Death.Hexen2Fire:
		Death.Hexen2Electric:
		Death.Hexen2Extreme:
		Death.Hexen2ElectricExtreme:
		Death.Painkiller:
		Death.PainkillerBullet:
		Death.PainkillerElectro:
		Death.PainkillerExplosive:
		Death.PainkillerShuriken:
		Death.PainkillerDemon:
		Death.PainkillerStake:
		Death.PainkillerFire:
		PainkillerGib:
		Death.UnrealDamage:
		Death.UnrealPlasma:
		Death.UnrealSludge:
		Death.ASMDShockTrace:
		Death.UnrealExplosive:
		Death.UnrealRazor:
		Death.UnrealExtreme:
		Death.UnrealRedeemer:
		Death.UnrealShredded:
		UnrealXDeath:
		Death.RTCWVenomBullet:
		Death.RTCWExplosive:
		RTCWXDeath:
		RTCWXDeath2:
		Death.Q3Explosive:
		Death.Q3Energy:
		Death.Q3BFG:
		XDeath.Q3Explosive:
		XDeath.Q3Energy:
		Death.DeusExPistolFire:
		Death.DeusExFlamed:
		Death.DeusExLAM:
		Death.DeusExRifleExploded:
		Death.DeusExSabotPistol:
		Death.DeusExSabot:
		Death.DeusExBurned:
		Death.DeusExExploded:
		DeusXDeath:
		Death:
		XDeath:
		Death.Squish:
		XDeath.Squish:
			TNT1 A 0 A_PlaySound("duke/enemygib", CHAN_BODY)
			TNT1 A 1 A_SpawnItemEx("DukeBloodPool_Duke",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
			TNT1 A -1
			stop
		Death.DukeSquish:
		XDeath.DukeSquish:
			TNT1 A 0 A_JumpIfInventory("DukeClassMode",1,"SquishBeach")
			TNT1 A 0 A_GiveToTarget("DukeStomp", 1)
			TNT1 A 0 SetPlayerProperty(0,1,PROP_TOTALLYFROZEN)
			DUKE A 15
			TNT1 A 0 A_Jump(64,2)
			TNT1 A 0 A_GiveToTarget("DukeBootTaunt",1)
			TNT1 A 0 SetPlayerProperty(0,0,PROP_TOTALLYFROZEN)
			TNT1 A 0 A_PlaySound("duke/enemygib", CHAN_BODY)
			TNT1 A 1 A_SpawnItemEx("DukeBloodPool_Duke",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
			TNT1 A -1
			stop
		SquishBeach:
			TNT1 A 0 A_GiveToTarget("DukeStomp", 1)
			TNT1 A 0 SetPlayerProperty(0,1,PROP_TOTALLYFROZEN)
			DUKE I 15
			TNT1 A 0 A_Jump(64,2)
			TNT1 A 0 A_GiveToTarget("DukeBootTaunt",1)
			TNT1 A 0 SetPlayerProperty(0,0,PROP_TOTALLYFROZEN)
			TNT1 A 0 A_PlaySound("duke/enemygib", CHAN_BODY)
			TNT1 A 1 A_SpawnItemEx("DukeBloodPool_Duke",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
			TNT1 A -1
			stop
	}
}

actor DukePlayer_ShrinkEffect : DukePlayer
{
	-ISMONSTER
	-COUNTKILL
	-SHOOTABLE
	-SOLID
	+NOINTERACTION
	-NOGRAVITY
	+CLIENTSIDEONLY
	Renderstyle Translucent
	Alpha 0.4
	States
	{
		Spawn:
			DUKE A 0
			DUKE A 0 A_SetUserVar("user_scalex", scalex*65536.0)
			DUKE A 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			Stop
	}
}

actor DukeBeach_ShrinkEffect : DukePlayer
{
	-ISMONSTER
	-COUNTKILL
	-SHOOTABLE
	-SOLID
	+NOINTERACTION
	-NOGRAVITY
	+CLIENTSIDEONLY
	Renderstyle Translucent
	Alpha 0.4
	States
	{
		Spawn:
			DUKE I 0
			DUKE I 0 A_SetUserVar("user_scalex", scalex*65536.0)
			DUKE I 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			Stop
	}
}

actor BurnDeathDuke
{
	Radius 12
	Height 56
	Speed 8
	+FLOORCLIP
	+LOOKALLAROUND
	-SOLID
	-SHOOTABLE
	//RenderStyle Add
	//Alpha 1.0
	scale 0.475
	States
	{
	  Spawn:
		DKBR A 0
		DKBR DDDDDD 1 Bright A_Look
		Goto See
	  See:
		DKBR A 0 A_PlaySound("duke/burndeath")
		TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
		TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		DKBR AAA 1 Bright A_Wander
		TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
		TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		DKBR AAA 1 Bright A_Wander
		TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
		TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		DKBR BBB 1 Bright A_Wander
		TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
		TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		DKBR BBB 1 Bright A_Wander
		DKBR C 0 A_PlaySound("duke/burndeath")
		TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
		TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		DKBR CCC 1 Bright A_Wander
		TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
		TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		DKBR CCC 1 Bright A_Wander
		TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
		TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		DKBR DDD 1 Bright A_Wander
		TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
		TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		DKBR DDD 1 Bright A_Wander
		DKBR A 0 A_PlaySound("duke/burndeath")
		TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
		TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		DKBR EEE 1 Bright A_Wander
		TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
		TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		DKBR EEE 1 Bright A_Wander
		TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
		TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		DKBR FFF 1 Bright A_Wander
		TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
		TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		DKBR FFF 1 Bright A_Wander
		TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
		TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		DKBR C 0 A_PlaySound("duke/burndeath")
		DKBR AAA 1 Bright A_Wander
		TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
		TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		DKBR AAA 1 Bright A_Wander
		TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
		TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		DKBR BBB 1 Bright A_Wander
		TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
		TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		DKBR BBB 1 Bright A_Wander
		DKBR A 0 A_PlaySound("duke/burndeath")
		TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
		TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		DKBR CCC 1 Bright A_Wander
		TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
		TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		DKBR CCC 1 Bright A_Wander
		TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
		TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		DKBR DDD 1 Bright A_Wander
		TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
		TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		DKBR DDD 1 Bright A_Wander
		TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
		TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		DKBR C 0 A_PlaySound("duke/burndeath")
		DKBR EEE 1 Bright A_Wander
		TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
		TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		DKBR EEE 1 Bright A_Wander
		TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
		TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		DKBR FFF 1 Bright A_Wander
		TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
		TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		DKBR FFF 1 Bright A_Wander
		DKBR A 0 A_PlaySound("duke/burndeath")
		TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
		TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		DKBR AAA 1 Bright A_Wander
		TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
		TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		DKBR AAA 1 Bright A_Wander
		TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
		TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		DKBR BBB 1 Bright A_Wander
		TNT1 A 0 A_SpawnItemEx("Firetrail",0,0,40,random(-2,2),random(-2,2),-0)
		TNT1 A 0 A_SpawnItemEx("Firetrail2",0,0,50,random(-2,2),random(-2,2),0)
		DKBR BBB 1 Bright A_Wander
		Goto Death
	  Death:
		TNT1 E 0 A_PlaySound("duke/burndeath2")
		TNT1 A 0 A_SpawnDebris("Firetrail3",0)
		TNT1 A 0 A_SpawnDebris("Firetrail4",0)
		DKBR EEFFGG 3 Bright
		TNT1 A 0 A_Stop
		TNT1 A 0 A_SpawnDebris("Firetrail3",0)
		TNT1 A 0 A_SpawnDebris("Firetrail4",0)
		DKBR HHIIJJ 3 Bright
		TNT1 A 0 A_SpawnItem("BurnedDuke",1,0,0)
		TNT1 A 0 A_SpawnDebris("Firetrail3",0)
		TNT1 A 0 A_SpawnDebris("Firetrail4",0)
		DKBR KKLLMM 3 Bright
		DKBR N 7 Bright
		DKBR O 8 Bright
		TNT1 AAA 0 A_SpawnDebris("Firetrail3",0)
		TNT1 AAA 0 A_SpawnDebris("Firetrail4",0)
		DKBR P 8 Bright
		DKBR Q 8 Bright
		Stop
	}
}

actor BurnedDuke
{
	Radius 12
	Height 12
	Alpha 0.1
	RenderStyle Translucent
	+CLIENTSIDEONLY
	-SOLID
	+FLOORCLIP
	Scale 0.7//25
	States
	{
	  Spawn:
		DKBR RRRRRRRRRRRRRRRRRRRR 4 A_FadeIn(0.5)
		DKBR R -1
		Stop
	}
}

actor Firetrail
{
	Health 5
	Scale 0.25
	Damage (0)
	Speed 1
	Radius 4
	Projectile
	+EXPLODEONWATER
	+BRIGHT
	+NOBLOCKMAP
	-NOGRAVITY
	+LOWGRAVITY
	-NOTELEPORT
	+DOOMBOUNCE
	+BRIGHT
	+CLIENTSIDEONLY
	+NOINTERACTION
	States
	{
	  Spawn:
		TNT1 A 0 
		NZFR Q 2 A_FadeOut(0.2)
		NZFR R 2 A_SpawnItemEx("Firetrail2",0,0,0,random(0,2),random(0,-2),0)
		NZFR S 2
		NZFR T 2 A_SpawnItemEx("Firetrail2",0,0,0,random(0,2),random(0,-2),0)
		NZFR U 2 A_FadeOut(0.2)
		NZFR V 2 A_SpawnItemEx("Firetrail2",0,0,0,random(0,2),random(0,-2),0)
		NZFR W 2
		NZFR X 2 A_SpawnItemEx("Firetrail2",0,0,0,random(0,2),random(0,-2),0)
		loop

	  Death:
		NZFR QRSTUVWX 1
		stop
	}
}

actor Firetrail2
{
	Health 5
	Scale 0.25
	Speed 1
	Radius 2
	Projectile
	+NOBLOCKMAP
	-NOGRAVITY
	+LOWGRAVITY
	-NOTELEPORT
	+EXPLODEONWATER
	+BRIGHT
	+DOOMBOUNCE
	+CLIENTSIDEONLY
	+NOINTERACTION
	States
	{
	  Spawn:
		NZFR ABCDE 5 BRIGHT A_FadeOut(0.2)
		stop
	}
}

actor Firetrail3 : Firetrail { +CLIENTSIDEONLY -LowGravity Speed 4 }
actor Firetrail4 : Firetrail2 { +CLIENTSIDEONLY -LowGravity Speed 4 }
actor DukeClass : Inventory { -INVBAR +INVENTORY.UNDROPPABLE Inventory.MaxAmount 1 }

actor DukeBulletPuff : BulletPuff
{
	Alpha 1
	DamageType "DukeDamage"
	Scale 0.55
	VSpeed 0
	-SOLID
	+PUFFONACTORS
	Decal DukeBulletChip
	States
	{
	  Spawn:
		TNT1 A 0
		TNT1 A 0 A_Jump(224,2)
		TNT1 A 0 A_PlaySound("duke/bulletricochet")
		TNT1 A 1 A_SpawnItemEx("DukeBootPuff",0,0,0,0,0,1,0,32)
		DKPF EFGH 3 BRIGHT
		Stop
	}
}

actor DukeBulletPuffCoop : DukeBulletPuff
{
	Species "Player"
	+THRUSPECIES
	+MTHRUSPECIES
}

actor DukeBulletPuffBeach : DukeBulletPuff
{
	Decal DukeBeachSquirt
	States
	{
	  Spawn:
		TNT1 A 0
		TNT1 A 1 A_SpawnItemEx("DukeBootPuffBeach",0,0,0,0,0,1,0,32)
		//DKPF EFGH 3 BRIGHT
		Stop
	}
}

Actor DukeBulletPuffBeachCoop : DukeBulletPuffBeach
{
	Species "Player"
	+THRUSPECIES
	+MTHRUSPECIES
}

ACTOR DukeGiveMoney : Inventory
{
	Inventory.Amount 1
	Inventory.MaxAmount 1
	-INVBAR 
	+INVENTORY.UNDROPPABLE
}

actor DukeClassMode : Counter { Inventory.MaxAmount 2 }

Actor Duke3dStripperDollar 
{
	Radius 1
	Height 1
	Speed 0
	Projectile
	-NOGRAVITY
	-SOLID
	+MOVEWITHSECTOR
	+CLIENTSIDEONLY
	+NOBLOCKMAP
	+NOTELEPORT
	Gravity 0.2
	Health 8
	scale 0.2
	States
	{
	  Spawn:
		DNBC QRS 5
		loop

	  Death:
		DNBC R 2100 A_Gravity
		DNBC R 10 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "Death")
		stop
	}
}

Actor DukeNukemTeleport
{
	+NOINTERACTION
	+NOBLOCKMAP
	RenderStyle Add
	scale 0.5
	States
	{
		Spawn:
			TNT1 A 0
			FRZX D 2 Bright A_Playsound("Duke/Teleport", CHAN_5)
			FRZX EFGHI 2 Bright
			Stop
	}
}

Actor Duke64FireRing
{
	+NOINTERACTION
    +CLIENTSIDEONLY
	Renderstyle Add
	Scale 0.1
	States
	{
		Spawn:
			TNT1 A 0 NoDelay A_JumpIf(Mass==1,"MissileExp")
			TNT1 A 0 A_JumpIf(Mass==2,"PlasmaExpHuge")
			TNT1 A 0 A_JumpIf(Mass==3,"SmokeExp")
			D6FR ABCDEF 10
			Loop
		
		MissileExp:
			D6FR A 2 BRIGHT
			D6FR AAAAAAAAAA 2 BRIGHT A_SetScale(scalex+0.167)
			TNT1 A 0 A_SetTranslucent(0.9,0)
			D6FR A 2 BRIGHT A_SetScale(scalex+0.167)
			TNT1 A 0 A_SetTranslucent(0.8,0)
			D6FR A 2 BRIGHT A_SetScale(scalex+0.167)
			TNT1 A 0 A_SetTranslucent(0.7,0)
			D6FR A 2 BRIGHT A_SetScale(scalex+0.167)
			TNT1 A 0 A_SetTranslucent(0.6,0)
			D6FR A 2 BRIGHT A_SetScale(scalex+0.167)
			TNT1 A 0 A_SetTranslucent(0.5,0)
			D6FR A 2 BRIGHT A_SetScale(scalex+0.167)
			TNT1 A 0 A_SetTranslucent(0.4,0)
			D6FR A 2 BRIGHT A_SetScale(scalex+0.167)
			TNT1 A 0 A_SetTranslucent(0.3,0)
			D6FR A 2 BRIGHT A_SetScale(scalex+0.167)
			TNT1 A 0 A_SetTranslucent(0.2,0)
			D6FR A 2 BRIGHT A_SetScale(scalex+0.167)
			TNT1 A 0 A_SetTranslucent(0.1,0)
			D6FR A 2 BRIGHT A_SetScale(scalex+0.167)
			Stop
		PlasmaExpHuge:
			D6FR A 1 BRIGHT
			D6FR AAAAAAAAAA 1 BRIGHT A_SetScale(scalex+2.0)
			TNT1 A 0 A_SetTranslucent(0.9,0)
			D6FR A 1 BRIGHT A_SetScale(scalex+2.0)
			TNT1 A 0 A_SetTranslucent(0.8,0)
			D6FR A 1 BRIGHT A_SetScale(scalex+2.0)
			TNT1 A 0 A_SetTranslucent(0.7,0)
			D6FR A 1 BRIGHT A_SetScale(scalex+2.0)
			TNT1 A 0 A_SetTranslucent(0.6,0)
			D6FR A 1 BRIGHT A_SetScale(scalex+2.0)
			TNT1 A 0 A_SetTranslucent(0.5,0)
			D6FR A 1 BRIGHT A_SetScale(scalex+2.0)
			TNT1 A 0 A_SetTranslucent(0.4,0)
			D6FR A 1 BRIGHT A_SetScale(scalex+2.0)
			TNT1 A 0 A_SetTranslucent(0.3,0)
			D6FR A 1 BRIGHT A_SetScale(scalex+2.0)
			TNT1 A 0 A_SetTranslucent(0.2,0)
			D6FR A 1 BRIGHT A_SetScale(scalex+2.0)
			TNT1 A 0 A_SetTranslucent(0.1,0)
			D6FR A 1 BRIGHT A_SetScale(scalex+2.0)
			Stop
		SmokeExp:
			D6FR A 2
			D6FR AAAAAAAAAA 2 A_SetScale(scalex+0.11)
			TNT1 A 0 A_SetTranslucent(0.9,0)
			D6FR A 2 A_SetScale(scalex+0.11)
			TNT1 A 0 A_SetTranslucent(0.8,0)
			D6FR A 2 A_SetScale(scalex+0.11)
			TNT1 A 0 A_SetTranslucent(0.7,0)
			D6FR A 2 A_SetScale(scalex+0.11)
			TNT1 A 0 A_SetTranslucent(0.6,0)
			D6FR A 2 A_SetScale(scalex+0.11)
			TNT1 A 0 A_SetTranslucent(0.5,0)
			D6FR A 2 A_SetScale(scalex+0.11)
			TNT1 A 0 A_SetTranslucent(0.4,0)
			D6FR A 2 A_SetScale(scalex+0.11)
			TNT1 A 0 A_SetTranslucent(0.3,0)
			D6FR A 2 A_SetScale(scalex+0.11)
			TNT1 A 0 A_SetTranslucent(0.2,0)
			D6FR A 2 A_SetScale(scalex+0.11)
			TNT1 A 0 A_SetTranslucent(0.1,0)
			D6FR A 2 A_SetScale(scalex+0.11)
			Stop
	}
}

Actor Duke64Fireball
{
	+NOINTERACTION
    +CLIENTSIDEONLY
	+NOGRAVITY
	Renderstyle Add
	Scale 0.1
	States
	{
		Spawn:
			TNT1 A 0 NoDelay A_JumpIf(Mass==1,"MissileExp")
			TNT1 A 0 A_JumpIf(Mass==2,"PlasmaExpHuge")
			TNT1 A 0 A_JumpIf(Mass==3,"SmokeExp")
			D6FB ABCDE 10
			Loop
		
		MissileExp:
			D6FB A 2 BRIGHT
			D6FB AAAAAAAAAA 2 BRIGHT A_SetScale(scalex+0.1)
			TNT1 A 0 A_SetTranslucent(0.9,0)
			D6FB A 2 BRIGHT A_SetScale(scalex+0.1)
			TNT1 A 0 A_SetTranslucent(0.8,0)
			D6FB A 2 BRIGHT A_SetScale(scalex+0.1)
			TNT1 A 0 A_SetTranslucent(0.7,0)
			D6FB A 2 BRIGHT A_SetScale(scalex+0.1)
			TNT1 A 0 A_SetTranslucent(0.6,0)
			D6FB A 2 BRIGHT A_SetScale(scalex+0.1)
			TNT1 A 0 A_SetTranslucent(0.5,0)
			D6FB A 2 BRIGHT A_SetScale(scalex+0.1)
			TNT1 A 0 A_SetTranslucent(0.4,0)
			D6FB A 2 BRIGHT A_SetScale(scalex+0.1)
			TNT1 A 0 A_SetTranslucent(0.3,0)
			D6FB A 2 BRIGHT A_SetScale(scalex+0.1)
			TNT1 A 0 A_SetTranslucent(0.2,0)
			D6FB A 2 BRIGHT A_SetScale(scalex+0.1)
			TNT1 A 0 A_SetTranslucent(0.1,0)
			D6FB A 2 BRIGHT A_SetScale(scalex+0.1)
			Stop
		PlasmaExpHuge:
			D6FB A 2 BRIGHT
			D6FB AAAAAAAAAA 2 BRIGHT A_SetScale(scalex+0.5)
			TNT1 A 0 A_SetTranslucent(0.9,0)
			D6FB A 2 BRIGHT A_SetScale(scalex+0.5)
			TNT1 A 0 A_SetTranslucent(0.8,0)
			D6FB A 2 BRIGHT A_SetScale(scalex+0.5)
			TNT1 A 0 A_SetTranslucent(0.7,0)
			D6FB A 2 BRIGHT A_SetScale(scalex+0.5)
			TNT1 A 0 A_SetTranslucent(0.6,0)
			D6FB A 2 BRIGHT A_SetScale(scalex+0.5)
			TNT1 A 0 A_SetTranslucent(0.5,0)
			D6FB A 2 BRIGHT A_SetScale(scalex+0.5)
			TNT1 A 0 A_SetTranslucent(0.4,0)
			D6FB A 2 BRIGHT A_SetScale(scalex+0.5)
			TNT1 A 0 A_SetTranslucent(0.3,0)
			D6FB A 2 BRIGHT A_SetScale(scalex+0.5)
			TNT1 A 0 A_SetTranslucent(0.2,0)
			D6FB A 2 BRIGHT A_SetScale(scalex+0.5)
			TNT1 A 0 A_SetTranslucent(0.1,0)
			D6FB A 2 BRIGHT A_SetScale(scalex+0.5)
			Stop
		SmokeExp:
			D6FB A 2
			D6FB AAAAAAAAAA 2 A_SetScale(scalex+0.1)
			TNT1 A 0 A_SetTranslucent(0.9,0)
			D6FB A 2 A_SetScale(scalex+0.1)
			TNT1 A 0 A_SetTranslucent(0.8,0)
			D6FB A 2 A_SetScale(scalex+0.1)
			TNT1 A 0 A_SetTranslucent(0.7,0)
			D6FB A 2 A_SetScale(scalex+0.1)
			TNT1 A 0 A_SetTranslucent(0.6,0)
			D6FB A 2 A_SetScale(scalex+0.1)
			TNT1 A 0 A_SetTranslucent(0.5,0)
			D6FB A 2 A_SetScale(scalex+0.1)
			TNT1 A 0 A_SetTranslucent(0.4,0)
			D6FB A 2 A_SetScale(scalex+0.1)
			TNT1 A 0 A_SetTranslucent(0.3,0)
			D6FB A 2 A_SetScale(scalex+0.1)
			TNT1 A 0 A_SetTranslucent(0.2,0)
			D6FB A 2 A_SetScale(scalex-0.1)
			TNT1 A 0 A_SetTranslucent(0.1,0)
			D6FB A 2 A_SetScale(scalex-0.1)
			Stop
	}
}
actor "   Revolver   " : Weapon
{
	obituary "%o was shot by %k's revolver."
	attacksound "weapons/bloodpistol"
	weapon.selectionorder 1900
	weapon.bobstyle Smooth
	weapon.bobrangeX 0.2
	weapon.bobrangeY 0.4
	weapon.bobspeed 0.5
	weapon.kickback 100
	Weapon.AmmoUse 0
	Weapon.AmmoGive 0
	Weapon.AmmoType ""
	inventory.pickupsound "PICKWEAP"
	Weapon.SlotNumber 1
	+NOALERT
	+WEAPON.WIMPY_WEAPON
	Decal ZBloodBulletChip1
	Inventory.RestrictedTo "Caleb"
	Tag "Revolver"
	states
	{
	Spawn:
		TNT1 A 1
		Stop
	Ready:
		TNT1 A 0 A_TakeInventory("UsingPitchfork", 1)
		TNT1 A 0 A_JumpIfInventory("GunsAkimboP", 1, "AkimboReady")
		TNT1 A 0 A_JumpIfInventory("CalebReady",1,"IntroTaunt")
		TNT1 A 0 A_JumpIfInventory("CalebWaiting",60,"WaitingTaunt")
		BLRV A 1 A_WeaponReady
		Goto Ready+1
	AkimboReady:
		TNT1 A 0 A_JumpIfInventory("CalebReady",1,"IntroTaunt")
		TNT1 A 0 A_JumpIfInventory("CalebWaiting",60,"WaitingTaunt")
		BLRV L 1 A_WeaponReady
		Goto Ready
	Deselect:
		TNT1 A 0 A_JumpIfInventory("GunsAkimboP", 1, "AkimboDeselect")
	DeselectLoop:
		BLRV AA 0 A_Lower
		BLRV A 1 A_Lower
		loop
	AkimboDeselect:
		BLRV LL 0 A_Lower
		BLRV L 1 A_Lower
		loop
	Select:
		TNT1 A 0 A_JumpIfInventory("GunsAkimboP", 1, "AkimboSelect")
	SelectLoop:
		BLRV AA 0 A_Raise
		BLRV A 1 A_Raise
		loop
	AkimboSelect:
		BLRV LL 0 A_Raise
		BLRV L 1 A_Raise
		loop
	Fire:
		TNT1 A 0 A_JumpIfInventory("GunsAkimboP", 1, "AkimboFire")
		TNT1 A 0 A_JumpIfInventory("PistolModeOn",1,"CheckForAmmo")
	KeepFiring:
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,2)
		TNT1 A 0 A_FireBullets (5, 5, 1, 12,"ZBBulletPuff", FBF_NORANDOM|FBF_USEAMMO)
		Goto KeepFiringEnd
		TNT1 A 0 A_FireBullets (5, 5, 1, 12,"ZBBulletPuffCoop", FBF_NORANDOM|FBF_USEAMMO)
		Goto KeepFiringEnd
	KeepFiringEnd:
		BLRV I 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		BLRV JK 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 5 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_Refire
		Goto Ready
	AkimboFire:
		TNT1 A 0 A_JumpIfInventory("PistolModeOn",1,"TakeAmmoCheckAkimbo")
		Goto KeepFiringAkimbo
	KeepFiringAkimbo:
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,2)
		TNT1 A 0 A_FireBullets(5, 5, 1, 12,"ZBBulletPuff", FBF_NORANDOM|FBF_USEAMMO)
		Goto KeepFiringAkimboEnd
		TNT1 A 0 A_FireBullets(5, 5, 1, 12,"ZBBulletPuffCoop", FBF_NORANDOM|FBF_USEAMMO)
		Goto KeepFiringAkimboEnd
	KeepFiringAkimboEnd:
		BLRV I 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		BLRV JK 1 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 4 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_JumpIfInventory("PistolModeOn",1,"AkimboSecondFire")
		Goto KeepFiringAkimbo2
	KeepFiringAkimbo2:
		TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,2)
		TNT1 A 0 A_FireBullets(5, 5, 1, 12,"ZBBulletPuff", FBF_NORANDOM|FBF_USEAMMO)
		Goto KeepFiringAkimbo2End
		TNT1 A 0 A_FireBullets(5, 5, 1, 12,"ZBBulletPuffCoop", FBF_NORANDOM|FBF_USEAMMO)
		Goto KeepFiringAkimbo2End
	KeepFiringAkimbo2End:
		BLRV "[" 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		BLRV "\]" 1 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 4 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_Refire
		Goto Ready
	Flash:
		TNT1 A 0 A_JumpIfInventory("GunsAkimboP", 1, "AkimboFlash")
		TNT1 A 0 A_Light2
		BLRV B 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_Light1
		BLRV C 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_Light0
		BLRV D 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		BLRV EFG 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		BLRV H 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		stop
	AkimboFlash:
		TNT1 A 0 A_Light2
		BLRV M 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_Light1
		BLRV N 1 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_Light0
		BLRV O 1 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		BLRV PQRS 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_JumpIfInventory("PistolModeOn",1,"ForceThisCheck")
	KeepFlashing:
		TNT1 A 0 A_Light2
		BLRV T 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_Light1
		BLRV U 1 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_Light0
		BLRV V 1 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		BLRV WXYZ 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		stop
	IntroTaunt:
		TNT1 A 0 A_JumpIfInventory("CalebBallgag",1,2)
		TNT1 A 0 A_PlaySound("Caleb/Enter", CHAN_7)
		TNT1 A 0 A_TakeInventory("CalebReady", 1)
		TNT1 A 0 A_GiveInventory("CalebTauntCooldown",5)
		TNT1 A 0 ACS_NamedExecuteAlways("CalebTauntCooldown", 0)
		Goto Ready
	WaitingTaunt:
		TNT1 A 0 A_JumpIfInventory("CalebIdleBallgag",1,"IdleBallgagStuff")
		TNT1 A 0 A_JumpIfInventory("CalebBallgag",1,2)
		TNT1 A 0 A_PlaySound("Caleb/Bored", CHAN_7)
		TNT1 A 0 A_TakeInventory("CalebWaiting", 525)
		TNT1 A 0 A_GiveInventory("CalebTauntCooldown",5)
		TNT1 A 0 ACS_NamedExecuteAlways("CalebTauntCooldown", 0)
		Goto Ready
	IdleBallgagStuff:
		TNT1 A 0 A_TakeInventory("CalebWaiting",525)
		goto Ready
	CheckForAmmo:
		TNT1 A 0 A_JumpIfInventory("Clip",1,2)
		TNT1 A 0 A_SelectWeapon("Pitchfork")
		goto Deselect
		TNT1 A 0 A_TakeInventory("Clip",1)
		Goto KeepFiring
	TakeAmmoCheckAkimbo:
		TNT1 A 0 A_JumpIfInventory("Clip",1,2)
		TNT1 A 0 A_SelectWeapon("Pitchfork")
		goto Deselect
		TNT1 A 0 A_TakeInventory("Clip",1)
		Goto KeepFiringAkimbo
	AkimboSecondFire:
		TNT1 A 0 A_JumpIfInventory("Clip",1,2)
		TNT1 A 0 A_SelectWeapon("Pitchfork")
		goto Deselect
		TNT1 A 0 A_TakeInventory("Clip",1)
		Goto KeepFiringAkimbo2
	ForceThisCheck:
		TNT1 A 0 A_JumpIfNoAmmo("LightDone")
		Goto KeepFlashing
	}
}

actor ZBBullet2 : FastProjectile
{
	Damage (12)
	Radius 1
	Height 1
	Speed 300
	Projectile
	DamageType "CalebBullet"
	Renderstyle "Normal"
	Species "Player"
	+BLOODSPLATTER
	+NOTIMEFREEZE
	+THRUSPECIES
	+SKYEXPLODE
	Alpha 1.0
	Decal ZBloodBulletChip1
	States
	{
		Spawn:
			TNT1 A 1
			loop
		Crash:
		Death:
			TNT1 A 0 A_Jump(128,1)
			TNT1 A 0 A_PlaySound("Shoot/BloodBullet")
			TNT1 A 1 A_SpawnItemEx("ZBBulletPuff",0,0,0,0,0,1,0,0)
			stop
		XDeath:
			TNT1 A 1
			stop
	}
}
Actor BloodFlamethrower : CalebWeapon
{
	Inventory.PickupMessage "You got the Flamethrower!"
	Inventory.PickupSound "Caleb/Weaponup"
	Obituary "%k barbequed %o."
	Weapon.SelectionOrder 450
	Weapon.AmmoType1 "Cell"
	Weapon.AmmoType2 "Cell"
	Weapon.AmmoUse1 1
	Weapon.AmmoUse2 10
	Weapon.AmmoGive 40
	Weapon.SlotNumber 6
	+WEAPON.NOALERT
	Tag "Flamethrower"
	States
	{
	Spawn:
		BLFP A -1
		Stop
	ReadyStart:
		TNT1 A 0 A_PlaySound("BloodFlamethrower/Select", CHAN_6)
		BLFT BC 3 A_WeaponReady(WRF_NOFIRE)
		BLFT D 3 A_WeaponReady
		Goto ReadyLoop
	Ready:
		TNT1 A 0 A_TakeInventory("UsingPitchfork", 1)
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"ReadyUnderwater")
		Goto ReadyLoop
	ReadyLoop:
		TNT1 A 0 A_JumpIfInventory("CalebReady",1,"IntroTaunt")
		TNT1 A 0 A_JumpIfInventory("CalebWaiting",60,"WaitingTaunt")
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"ReadyUnderwaterStart")
		BLFT E 3 A_WeaponReady
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"ReadyUnderwaterStart")
		BLFT F 3 A_WeaponReady
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"ReadyUnderwaterStart")
		BLFT G 3 A_WeaponReady
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"ReadyUnderwaterStart")
		BLFT H 3 A_WeaponReady
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"ReadyUnderwaterStart")
		BLFT I 3 A_WeaponReady
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"ReadyUnderwaterStart")
		BLFT J 3 A_WeaponReady
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"ReadyUnderwaterStart")
		BLFT K 3 A_WeaponReady
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"ReadyUnderwaterStart")
		BLFT F 3 A_WeaponReady
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"ReadyUnderwaterStart")
		BLFT L 3 A_WeaponReady
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"ReadyUnderwaterStart")
		BLFT M 3 A_WeaponReady
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"ReadyUnderwaterStart")
		BLFT N 3 A_WeaponReady
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"ReadyUnderwaterStart")
		BLFT J 3 A_WeaponReady
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"ReadyUnderwaterStart")
		BLFT O 3 A_WeaponReady
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"ReadyUnderwaterStart")
		BLFT F 3 A_WeaponReady
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"ReadyUnderwaterStart")
		BLFT P 3 A_WeaponReady
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"ReadyUnderwaterStart")
		BLFT Q 3 A_WeaponReady
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"ReadyUnderwaterStart")
		BLFT I 3 A_WeaponReady
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"ReadyUnderwaterStart")
		BLFT J 3 A_WeaponReady
		Loop
	ReadyUnderwaterStart:
		TNT1 A 0 A_PlaySound("BloodFlamethrower/Deselect", CHAN_6)
		BLFT DCB 3 A_WeaponReady(WRF_NOFIRE)
		Goto ReadyUnderwater
	ReadyUnderwater:
		BLFT A 3 A_WeaponReady(WRF_NOFIRE)
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"ReadyUnderwater")
		Goto ReadyStart
	Select:
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"SelectUnderwater")
		TNT1 A 0 A_PlaySound("BloodFlamethrower/Select", CHAN_6)
		TNT1 AA 0 A_Raise
		BLFT A 1 A_Raise
		TNT1 AA 0 A_Raise
		BLFT B 1 A_Raise
		TNT1 AA 0 A_Raise
		BLFT C 1 A_Raise
		BLFT D 0
		Goto Super::SelectLoop
	SelectUnderwater:
		BLFT A 0
		Goto Super::SelectLoop
	Deselect:
		TNT1 A 0 A_StopSound(CHAN_WEAPON)
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"DeselectUnderwater")
		TNT1 A 0 A_PlaySound("BloodFlamethrower/Deselect", CHAN_6)
		TNT1 AA 0 A_Lower
		BLFT D 1 A_Lower
		TNT1 AA 0 A_Lower
		BLFT C 1 A_Lower
		TNT1 AA 0 A_Lower
		BLFT B 1 A_Lower
		BLFT A 0
		Goto Super::DeselectLoop
	DeselectUnderwater:
		BLFT A 0
		Goto Super::DeselectLoop
	Fire:
		TNT1 A 0 A_JumpIfNoAmmo("FireEnd")
		TNT1 A 0 A_PlaySound("Napalm/Act2", CHAN_WEAPON, 1.0, true)
		Goto Hold+2
	Hold:
		TNT1 A 0 A_JumpIfNoAmmo("FireEnd")
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"FireEnd")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_GunFlash("Flash1", GFF_NOEXTCHANGE)
		TNT1 A 0 A_GiveInventory("SamsaraBloodFlamethrowerAttackHandler")
		BLFI A 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_JumpIfNoAmmo("FireEnd")
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"FireEnd")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_GiveInventory("SamsaraBloodFlamethrowerAttackHandler")
		BLFI B 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_JumpIfNoAmmo("FireEnd")
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"FireEnd")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_GiveInventory("SamsaraBloodFlamethrowerAttackHandler")
		BLFI C 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_ReFire("Hold2")
		Goto FireEnd
	Hold2:
		TNT1 A 0 A_JumpIfNoAmmo("FireEnd")
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"FireEnd")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_GunFlash("Flash2", GFF_NOEXTCHANGE)
		TNT1 A 0 A_GiveInventory("SamsaraBloodFlamethrowerAttackHandler")
		BLFI D 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_JumpIfNoAmmo("FireEnd")
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"FireEnd")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_GiveInventory("SamsaraBloodFlamethrowerAttackHandler")
		BLFI E 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_JumpIfNoAmmo("FireEnd")
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"FireEnd")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_GiveInventory("SamsaraBloodFlamethrowerAttackHandler")
		BLFI F 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_ReFire("Hold3")
		Goto FireEnd
	Hold3:
		TNT1 A 0 A_JumpIfNoAmmo("FireEnd")
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"FireEnd")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_GunFlash("Flash3", GFF_NOEXTCHANGE)
		TNT1 A 0 A_GiveInventory("SamsaraBloodFlamethrowerAttackHandler")
		BLFI G 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_JumpIfNoAmmo("FireEnd")
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"FireEnd")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_GiveInventory("SamsaraBloodFlamethrowerAttackHandler")
		BLFI H 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_JumpIfNoAmmo("FireEnd")
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"FireEnd")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_GiveInventory("SamsaraBloodFlamethrowerAttackHandler")
		BLFI I 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_ReFire("Hold4")
		Goto FireEnd
	Hold4:
		TNT1 A 0 A_JumpIfNoAmmo("FireEnd")
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"FireEnd")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_GunFlash("Flash4", GFF_NOEXTCHANGE)
		TNT1 A 0 A_GiveInventory("SamsaraBloodFlamethrowerAttackHandler")
		BLFI J 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_JumpIfNoAmmo("FireEnd")
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"FireEnd")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_GiveInventory("SamsaraBloodFlamethrowerAttackHandler")
		BLFI K 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_JumpIfNoAmmo("FireEnd")
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"FireEnd")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_GiveInventory("SamsaraBloodFlamethrowerAttackHandler")
		BLFI L 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_ReFire("Hold5")
		Goto FireEnd
	Hold5:
		TNT1 A 0 A_JumpIfNoAmmo("FireEnd")
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"FireEnd")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_GunFlash("Flash5", GFF_NOEXTCHANGE)
		TNT1 A 0 A_GiveInventory("SamsaraBloodFlamethrowerAttackHandler")
		BLFI M 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_JumpIfNoAmmo("FireEnd")
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"FireEnd")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_GiveInventory("SamsaraBloodFlamethrowerAttackHandler")
		BLFI N 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_JumpIfNoAmmo("FireEnd")
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"FireEnd")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_GiveInventory("SamsaraBloodFlamethrowerAttackHandler")
		BLFI B 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_ReFire("Hold6")
		Goto FireEnd
	Hold6:
		TNT1 A 0 A_JumpIfNoAmmo("FireEnd")
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"FireEnd")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_GunFlash("Flash6", GFF_NOEXTCHANGE)
		TNT1 A 0 A_GiveInventory("SamsaraBloodFlamethrowerAttackHandler")
		BLFI O 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_JumpIfNoAmmo("FireEnd")
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"FireEnd")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_GiveInventory("SamsaraBloodFlamethrowerAttackHandler")
		BLFI P 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_JumpIfNoAmmo("FireEnd")
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"FireEnd")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_GiveInventory("SamsaraBloodFlamethrowerAttackHandler")
		BLFI Q 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_ReFire("Hold7")
		Goto FireEnd
	Hold7:
		TNT1 A 0 A_JumpIfNoAmmo("FireEnd")
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"FireEnd")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_GunFlash("Flash7", GFF_NOEXTCHANGE)
		TNT1 A 0 A_GiveInventory("SamsaraBloodFlamethrowerAttackHandler")
		BLFI F 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_JumpIfNoAmmo("FireEnd")
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"FireEnd")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_GiveInventory("SamsaraBloodFlamethrowerAttackHandler")
		BLFI R 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_JumpIfNoAmmo("FireEnd")
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"FireEnd")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_GiveInventory("SamsaraBloodFlamethrowerAttackHandler")
		BLFI S 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_ReFire
		Goto FireEnd
	FireEnd:
		TNT1 A 0 A_ClearReFire
		TNT1 A 0 A_StopSound(CHAN_WEAPON)
		TNT1 A 0 A_GunFlash("LightDone", GFF_NOEXTCHANGE)
		Goto ReadyLoop
	Flash1:
		BLFT R 2 A_Light1
		BLFT S 2
		BLFT T 2 A_Light2
		Stop
	Flash2:
		BLFT U 2
		BLFT T 2 A_Light1
		BLFT V 2
		Stop
	Flash3:
		BLFT W 2 A_Light2
		BLFT X 2
		BLFT Y 2 A_Light1
		Stop
	Flash4:
		BLFT U 2
		BLFT T 2 A_Light2
		BLFT V 2
		Stop
	Flash5:
		BLFT W 2 A_Light1
		BLFT X 2
		BLFT W 2 A_Light2
		Stop
	Flash6:
		BLFT V 2
		BLFT T 2 A_Light1
		BLFT U 2
		Stop
	Flash7:
		BLFT T 2 A_Light2
		BLFT V 2
		BLFT W 2 A_Light1
		Stop
	AltFire:
		BLFT R 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_PlaySound("Napalm/Fire",CHAN_WEAPON)
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_JumpIfInventory("DMModeOn", 1, "AltFireDM")
		TNT1 A 0 A_JumpIfInventory("CoopModeOn", 1, "AltFireCoop")
		TNT1 A 0 A_FireCustomMissile("BloodFlamethrowerNapalmBall")
		Goto AltFireEnd
	AltFireDM:
		TNT1 A 0 A_FireCustomMissile("BloodFlamethrowerNapalmBallDM")
		Goto AltFireEnd
	AltFireCoop:
		TNT1 A 0 A_FireCustomMissile("BloodFlamethrowerNapalmBallCoop")
		Goto AltFireEnd
	AltFireEnd:
		NLFL ABCDEFG 2 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		BLFT X 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"AltFireUnderwater")
		TNT1 A 0 A_ReFire
		Goto ReadyLoop
	AltFireUnderwater:
		TNT1 A 0 A_ClearReFire
		Goto ReadyUnderwater
	AltFlash:
		BLFT Z 2 A_Light2
		BLFT "[]" 2
		BLF2 A 2 A_Light1
		BLF2 BC 2
		BLF2 D 2 A_Light0
		Stop
	}
}

Actor SamsaraBloodFlamethrowerAttackHandler : Trigger
{
	States
	{
	Pickup:
		TNT1 A 0
		TNT1 A 0 A_TakeInventory("Cell", 1, TIF_NOTAKEINFINITE)
		TNT1 A 0 A_JumpIfInventory("CoopModeOn", 1, "PickupAttackCoop")
		TNT1 A 0 A_FireCustomMissile("BloodFlamethrowerFire",frandom(-1.0,1.0),0,frandom(-1.0,1.0),4+frandom(-1.0,1.0))
		Stop
	PickupAttackCoop:
		TNT1 A 0 A_FireCustomMissile("BloodFlamethrowerFireCoop",frandom(-1.0,1.0),0,frandom(-1.0,1.0),4+frandom(-1.0,1.0))
		Stop
	}
}

Actor BloodFlamethrowerFire : SprayCanFire
{
	Speed 18
	Damage (2 * random(8,12))
	-RIPPER
	-BLOODLESSIMPACT
}

actor BloodFlamethrowerFireCoop : BloodFlamethrowerFire { +THRUSPECIES +DONTHARMCLASS +DONTHARMSPECIES +MTHRUSPECIES Species "Player" }

actor BloodFlamethrowerNapalmBall : BloodNapalmRocket
{
	Speed 65
	Gravity 0.36
	Damage (5 * random(12,16))
	-WINDTHRUST
	+FORCERADIUSDMG
	States
	{
	Spawn:
		NAPP A 0
		TNT1 A 0 A_LoopActiveSound
		Goto Fire
	Fire:
		TNT1 A 0 A_JumpIf(waterlevel > 0,4)
		TNT1 A 0 A_SpawnItemEx("BFireTrail2",8+random[Incinerator](-5,5),random[Incinerator](-5,5),0,0,0,1,0,SXF_CLIENTSIDE)
		NAPP AA 1 A_SpawnItemEx("BSmokeTrail",0,0,0,0,0,0,0,SXF_CLIENTSIDE)
		Goto Fire+6
		NAPP AA 1 A_SpawnItemEx("BloodSmokeTrailSmall",0,0,0,0,0,0,0,SXF_CLIENTSIDE)
		TNT1 A 0 A_ChangeFlag("NOGRAVITY",0)
		TNT1 A 0 A_JumpIf(waterlevel > 0,4)
		TNT1 A 0 A_SpawnItemEx("BFireTrail",8+random[Incinerator](-5,5),random[Incinerator](-5,5),0,0,0,1,0,SXF_CLIENTSIDE)
		NAPP BB 1 A_SpawnItemEx("BSmokeTrail",0,0,0,0,0,0,0,SXF_CLIENTSIDE)
		Goto Fire+13
		NAPP BB 1 A_SpawnItemEx("BloodSmokeTrailSmall",0,0,0,0,0,0,0,SXF_CLIENTSIDE)
		TNT1 A 0 A_JumpIf(waterlevel > 0,4)
		TNT1 A 0 A_SpawnItemEx("BFireTrail2",8+random[Incinerator](-5,5),random[Incinerator](-5,5),0,0,0,1,0,SXF_CLIENTSIDE)
		NAPP CC 1 A_SpawnItemEx("BSmokeTrail",0,0,0,0,0,0,0,SXF_CLIENTSIDE)
		Goto Fire+19
		NAPP CC 1 A_SpawnItemEx("BloodSmokeTrailSmall",0,0,0,0,0,0,0,SXF_CLIENTSIDE)
		TNT1 A 0 A_JumpIf(waterlevel > 0,4)
		TNT1 A 0 A_SpawnItemEx("BFireTrail",8+random[Incinerator](-5,5),random[Incinerator](-5,5),0,0,0,1,0,SXF_CLIENTSIDE)
		NAPP DD 1 A_SpawnItemEx("BSmokeTrail",0,0,0,0,0,0,0,SXF_CLIENTSIDE)
		Goto Fire+25
		NAPP DD 1 A_SpawnItemEx("BloodSmokeTrailSmall",0,0,0,0,0,0,0,SXF_CLIENTSIDE)
		TNT1 A 0 A_JumpIf(waterlevel > 0,4)
		TNT1 A 0 A_SpawnItemEx("BFireTrail2",8+random[Incinerator](-5,5),random[Incinerator](-5,5),0,0,0,1,0,SXF_CLIENTSIDE)
		NAPP EE 1 A_SpawnItemEx("BSmokeTrail",0,0,0,0,0,0,0,SXF_CLIENTSIDE)
		Goto Fire+31
		NAPP EE 1 A_SpawnItemEx("BloodSmokeTrailSmall",0,0,0,0,0,0,0,SXF_CLIENTSIDE)
		TNT1 A 0 A_JumpIf(waterlevel > 0,4)
		TNT1 A 0 A_SpawnItemEx("BFireTrail",8+random[Incinerator](-5,5),random[Incinerator](-5,5),0,0,0,1,0,SXF_CLIENTSIDE)
		NAPP FF 1 A_SpawnItemEx("BSmokeTrail",0,0,0,0,0,0,0,SXF_CLIENTSIDE)
		Loop
		NAPP FF 1 A_SpawnItemEx("BloodSmokeTrailSmall",0,0,0,0,0,0,0,SXF_CLIENTSIDE)
		Loop
	Death:
		NAPP F 1 A_NoGravity
		TNT1 A 0 A_Explode(80, 100)
		TNT1 A 0 A_JumpIf(z >= ceilingz - 12, "DeathCeiling")
		TNT1 A 0 A_CustomMissile("BloodFlamethrowerNapalmBomb",0,0,random(-18,18),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(40,55))
		TNT1 A 0 A_CustomMissile("BloodFlamethrowerNapalmBomb",0,0,random(54,90),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(40,55))
		TNT1 A 0 A_CustomMissile("BloodFlamethrowerNapalmBomb",0,0,random(126,162),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(40,55))
		TNT1 A 0 A_CustomMissile("BloodFlamethrowerNapalmBomb",0,0,random(198,234),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(40,55))
		TNT1 A 0 A_CustomMissile("BloodFlamethrowerNapalmBomb",0,0,random(270,306),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(40,55))
		Goto DeathExplosion
	DeathCeiling:
		TNT1 A 0 A_CustomMissile("BloodFlamethrowerNapalmBomb",-9,0,random(-18,18),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(40,55))
		TNT1 A 0 A_CustomMissile("BloodFlamethrowerNapalmBomb",-9,0,random(54,90),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(40,55))
		TNT1 A 0 A_CustomMissile("BloodFlamethrowerNapalmBomb",-9,0,random(126,162),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(40,55))
		TNT1 A 0 A_CustomMissile("BloodFlamethrowerNapalmBomb",-9,0,random(198,234),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(40,55))
		TNT1 A 0 A_CustomMissile("BloodFlamethrowerNapalmBomb",-9,0,random(270,306),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(40,55))
		Goto DeathExplosion
	DeathExplosion:
		TNT1 A 0 A_SpawnItemEx("NapalmKaboom",random(-2,2),random(-2,2),0,0,0,1,0,SXF_NOCHECKPOSITION|SXF_CLIENTSIDE)
		Stop
	}
}

Actor BloodFlamethrowerNapalmBallCoop : BloodFlamethrowerNapalmBall
{
	Species "Player"
	+THRUSPECIES
	States
	{
	Death:
		NAPP F 1 A_NoGravity
		TNT1 A 0 A_Explode(80, 100)
		TNT1 A 0 A_JumpIf(z >= ceilingz - 12, "DeathCeiling")
		TNT1 A 0 A_CustomMissile("BloodFlamethrowerNapalmBombCoop",0,0,random(-18,18),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(40,55))
		TNT1 A 0 A_CustomMissile("BloodFlamethrowerNapalmBombCoop",0,0,random(54,90),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(40,55))
		TNT1 A 0 A_CustomMissile("BloodFlamethrowerNapalmBombCoop",0,0,random(126,162),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(40,55))
		TNT1 A 0 A_CustomMissile("BloodFlamethrowerNapalmBombCoop",0,0,random(198,234),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(40,55))
		TNT1 A 0 A_CustomMissile("BloodFlamethrowerNapalmBombCoop",0,0,random(270,306),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(40,55))
		Goto Super::DeathExplosion
	DeathCeiling:
		TNT1 A 0 A_CustomMissile("BloodFlamethrowerNapalmBombCoop",-9,0,random(-18,18),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(40,55))
		TNT1 A 0 A_CustomMissile("BloodFlamethrowerNapalmBombCoop",-9,0,random(54,90),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(40,55))
		TNT1 A 0 A_CustomMissile("BloodFlamethrowerNapalmBombCoop",-9,0,random(126,162),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(40,55))
		TNT1 A 0 A_CustomMissile("BloodFlamethrowerNapalmBombCoop",-9,0,random(198,234),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(40,55))
		TNT1 A 0 A_CustomMissile("BloodFlamethrowerNapalmBombCoop",-9,0,random(270,306),CMF_AIMDIRECTION|CMF_TRACKOWNER,random(40,55))
		Goto Super::DeathExplosion
	}
}

Actor BloodFlamethrowerNapalmBallDM : BloodFlamethrowerNapalmBall
{
	Speed 50
	States
	{
	Death:
		NAPP F 1 A_NoGravity
		TNT1 A 0 A_Explode(40, 100)
		Goto Super::Death+2
	}
}

actor BloodFlamethrowerNapalmBomb : BloodNapalmRocket
{
	Speed 9
	ReactionTime 5
	BounceType "Doom"
	Damage 0
	DeathSound ""
	ActiveSound ""
	-NOGRAVITY
	-WINDTHRUST
	-BOUNCEONFLOORS
	+SKYEXPLODE
	+NOBOUNCESOUND
	+EXPLODEONWATER
	+FORCERADIUSDMG
	+BOUNCEONACTORS
	States
	{
	Spawn:
		NAPP A 1
		TNT1 A 0 A_PlaySound("Napalm/Act2", CHAN_VOICE, 0.5, true)
		Goto FireStart
	FireStart:
		TNT1 A 0 A_JumpIf(waterlevel > 0,"AltFireStart")
		NAPP A 2 A_SpawnItemEx("BFireTrail2",5+random[Incinerator](-5,5),random[Incinerator](-5,5),0,0,0,1,0,SXF_CLIENTSIDE)
		TNT1 A 0 A_ChangeFlag("BOUNCEONACTORS", 0)
		TNT1 A 0 A_ChangeFlag("ALLOWBOUNCEONACTORS", 0)
		Goto Fire+2
	Fire:
		TNT1 A 0 A_JumpIf(waterlevel > 0,"AltFire")
		NAPP A 2 A_SpawnItemEx("BFireTrail2",5+random[Incinerator](-5,5),random[Incinerator](-5,5),0,0,0,1,0,SXF_CLIENTSIDE)
		NAPP B 1
		NAPP B 1 A_SpawnItemEx("BFireTrail",5+random[Incinerator](-5,5),random[Incinerator](-5,5),0,0,0,1,0,SXF_CLIENTSIDE)
		NAPP C 2
		NAPP D 2 A_SpawnItemEx("BFireTrail2",5+random[Incinerator](-5,5),random[Incinerator](-5,5),0,0,0,1,0,SXF_CLIENTSIDE)
		NAPP E 1
		NAPP E 1 A_SpawnItemEx("BFireTrail",5+random[Incinerator](-5,5),random[Incinerator](-5,5),0,0,0,1,0,SXF_CLIENTSIDE)
		NAPP F 2
		Loop
	AltFireStart:
		TNT1 A 0 A_ChangeFlag("BOUNCEONACTORS", 0)
		TNT1 A 0 A_ChangeFlag("ALLOWBOUNCEONACTORS", 0)
		Goto AltFire
	AltFire:
		NAPP ABCDEF 2
		TNT1 A 0 A_Countdown
		Goto Fire
	Death:
		TNT1 A 0 A_JumpIf(waterlevel == 0 && z <= floorz, "DeathFire")
		Goto XDeath
	DeathFire:
		NAPP F 1
		TNT1 A 0 A_SpawnItemEx("BloodFlamethrowerGroundFire",0,0,0,random(-4,-2),random(-1,1),0,0,SXF_NOCHECKPOSITION)
		TNT1 A 0 A_SpawnItemEx("BloodFlamethrowerGroundFire",0,0,0,random(2,4),random(-4,-2),0,0,SXF_NOCHECKPOSITION)
		TNT1 A 0 A_SpawnItemEx("BloodFlamethrowerGroundFire",0,0,0,random(2,4),random(2,4),0,0,SXF_NOCHECKPOSITION)
		Stop
	XDeath:
	Crash:
		NAPP F 1 A_PlaySound("Napalm/Explode", CHAN_VOICE, 0.5)
		TNT1 A 0 A_Explode(40, 100)
		TNT1 A 0 A_SpawnItemEx("NapalmKaboom",random(-2,2),random(-2,2),0,0,0,1,0,SXF_NOCHECKPOSITION|SXF_CLIENTSIDE)
		Stop
	}
}

actor BloodFlamethrowerNapalmBombCoop : BloodFlamethrowerNapalmBomb { Species "Player" +THRUSPECIES }

actor BloodFlamethrowerGroundFire
{
	Alpha 0.9
	RenderStyle Add
	Args 6
	DamageType "CalebFire"
	ActiveSound "BloodFlamethrower/GroundFire"
	+BRIGHT
	+DROPOFF
	+DONTBLAST
	+DONTSPLASH
	+NOTELEPORT
	+NOBLOCKMAP
	+NOBLOCKMONST
	+NODAMAGETHRUST
	States
	{
	Spawn:
		BF00 A 0
		BF00 A 2 A_ActiveSound
		Goto SpawnLoop
	SpawnLoop:
		BF00 B 2 A_Explode(3, 48)
		BF00 C 2
		BF00 D 1 A_Explode(3, 48)
		BF00 D 1 A_SpawnItemEx("BFireTrail2",random[Incinerator](-7,7),random[Incinerator](-7,7),25,0,0,1,0,SXF_CLIENTSIDE,128)
		BF00 E 2
		BF00 F 2 A_Explode(3, 48)
		BF00 G 2
		BF00 H 2 A_Explode(3, 48)
		BF00 I 2
		BF00 J 2 A_Explode(3, 48)
		BF00 K 1
		BF00 K 1 A_SpawnItemEx("BFireTrail",random[Incinerator](-7,7),random[Incinerator](-7,7),25,0,0,1,0,SXF_CLIENTSIDE,128)
		BF00 L 2 A_Explode(3, 48)
		BF00 M 2
		BF00 N 2 A_Explode(3, 48)
		TNT1 A 0 A_Jump(136,2)
		TNT1 AA 0 A_CountdownArg(0)
		BF00 A 2
		BF00 B 2 A_Explode(3, 48)
		BF00 C 2
		BF00 D 1 A_Explode(3, 48)
		BF00 D 1 A_SpawnItemEx("BFireTrail2",random[Incinerator](-7,7),random[Incinerator](-7,7),25,0,0,1,0,SXF_CLIENTSIDE,128)
		BF00 E 2
		BF00 F 2 A_Explode(3, 48)
		BF00 G 2
		BF00 H 2 A_Explode(3, 48)
		BF00 I 2
		BF00 J 2 A_Explode(3, 48)
		BF00 K 1
		BF00 K 1 A_SpawnItemEx("BFireTrail",random[Incinerator](-7,7),random[Incinerator](-7,7),25,0,0,1,0,SXF_CLIENTSIDE,128)
		BF00 L 2 A_Explode(3, 48)
		BF00 M 2
		BF00 N 2 A_Explode(3, 48)
		TNT1 A 0 A_Jump(136,2)
		TNT1 AA 0 A_CountdownArg(0)
		BF00 A 2
		BF00 B 2 A_Explode(3, 48)
		BF00 C 2
		BF00 D 1 A_Explode(3, 48)
		BF00 D 1 A_SpawnItemEx("BFireTrail2",random[Incinerator](-7,7),random[Incinerator](-7,7),25,0,0,1,0,SXF_CLIENTSIDE,128)
		BF00 E 2
		BF00 F 2 A_Explode(3, 48)
		BF00 G 2
		BF00 H 2 A_Explode(3, 48)
		BF00 I 2
		BF00 J 2 A_Explode(3, 48)
		BF00 K 1
		BF00 K 1 A_SpawnItemEx("BFireTrail",random[Incinerator](-7,7),random[Incinerator](-7,7),25,0,0,1,0,SXF_CLIENTSIDE,128)
		BF00 L 2 A_Explode(3, 48)
		BF00 M 2
		BF00 N 2 A_Explode(3, 48)
		TNT1 A 0 A_Jump(136,2)
		TNT1 AA 0 A_CountdownArg(0)
		BF00 A 2
		BF00 B 2 A_Explode(3, 48)
		BF00 C 2
		BF00 D 1 A_Explode(3, 48)
		BF00 D 1 A_SpawnItemEx("BFireTrail2",random[Incinerator](-7,7),random[Incinerator](-7,7),25,0,0,1,0,SXF_CLIENTSIDE,128)
		BF00 E 2
		BF00 F 2 A_Explode(3, 48)
		BF00 G 2
		BF00 H 2 A_Explode(3, 48)
		BF00 I 2
		BF00 J 2 A_Explode(3, 48)
		BF00 K 1
		BF00 K 1 A_SpawnItemEx("BFireTrail",random[Incinerator](-7,7),random[Incinerator](-7,7),25,0,0,1,0,SXF_CLIENTSIDE,128)
		BF00 L 2 A_Explode(3, 48)
		BF00 M 2
		BF00 N 2 A_Explode(3, 48)
		TNT1 A 0 A_Jump(136,2)
		TNT1 AA 0 A_CountdownArg(0)
		BF00 A 2
		BF00 B 2 A_Explode(3, 48)
		BF00 C 2
		BF00 D 1 A_Explode(3, 48)
		BF00 D 1 A_SpawnItemEx("BFireTrail2",random[Incinerator](-7,7),random[Incinerator](-7,7),25,0,0,1,0,SXF_CLIENTSIDE,128)
		BF00 E 2
		BF00 F 2 A_Explode(3, 48)
		BF00 G 2
		BF00 H 2 A_Explode(3, 48)
		BF00 I 2
		BF00 J 2 A_Explode(3, 48)
		BF00 K 1
		BF00 K 1 A_SpawnItemEx("BFireTrail",random[Incinerator](-7,7),random[Incinerator](-7,7),25,0,0,1,0,SXF_CLIENTSIDE,128)
		BF00 L 2 A_Explode(3, 48)
		BF00 M 2
		BF00 N 2 A_Explode(3, 48)
		TNT1 A 0 A_Jump(136,2)
		TNT1 AA 0 A_CountdownArg(0)
		BF00 A 1
		BF00 A 1 A_ActiveSound
		Loop
	Death:
		TNT1 A 1 A_StopSound(CHAN_VOICE)
		Stop
	}
}

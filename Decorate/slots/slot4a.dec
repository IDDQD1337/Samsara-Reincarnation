actor SamsaraSlotFourPickup2: SamsaraSlotFourPickup replaces SamsaraSlotFourPickup
{
    States
    {
		Rott:     		PM40 A 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		Blake:	  		BWP4 A 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		Caleb:	  		TOMP A 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		Strifeguy:		SGRF A 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop		
        Doom64:   		64CG Z 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		Erad:     		DZ8P A 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop		
        C7: 	  		7DU2 A 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
        RMR: 	  		RM7T E 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		Katarn:         IREP A 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		POGreed:  		GW40 Z 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		Disruptor:     	SQ72 U 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		Witchaven: 		PWHD A 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		HalfLife: 		HW40 Z 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
        SW:				SW40 Z 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		CM:				CMMG F 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		Jon:			WM60 A 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		RR:				R_SR J 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		Bitterman:      Q2WP A 35 A_ChangeFlag("FLOATBOB", 0) 	goto SpawnLoop
		LostWolfguy: 	WCHP B 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		BeachDukeGuy:	CHGP B 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		Shephard: 		HW40 Z 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop

        RottFull:      PWE4 B 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		BlakeFull:	   PWE4 B 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		CalebFull:     PWE4 B 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		StrifeFull:    SWP4 B 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
        Doom64Full:    PDCH D 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		EradFull:	   PWE4 B 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
        C7Full: 	   7DU2 C 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
        RMRFull: 	   RMZ6 H 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		KatarnFull:    PDF4 B 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
        POGreedFull:   PPG4 B 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
        DisruptorFull: PWE4 B 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
        WitchavenFull: PWH4 B 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		HalfLifeFull:  PHL4 B 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		SWFull:		   PSW4 B 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		CMFull:		   CMPK H 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		JonFull:	   PSPK H 35 Bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop	
		RRFull:	       RRPK G 35 Bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop	
        BittermanFull: Q2WP C 35 Bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		LostWolfFull:  WCHP D 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		BeachDukeFull: PRPR D 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		ShephardFull:  PHL4 B 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop

        RottEmpty:      PWE4 A 35 Bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		BlakeEmpty:	    BWP4 B 35 Bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		CalebEmpty:	    CWP4 A 35 Bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		StrifeEmpty:    SWP4 A 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
        Doom64Empty:    PDCH C 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
        EradEmpty:      ERPS G 35 Bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop		
        C7Empty: 	    7DU2 B 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
        RMREmpty: 	    RMZ6 I 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		KatarnEmpty:    PDF4 A 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
        POGreedEmpty:   PPG4 A 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop		
		DisruptorEmpty:	SQ73 D 35 Bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
        WitchavenEmpty: PWH4 A 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		HalfLifeEmpty:  PHL4 A 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop		
		SWEmpty:		PSW4 A 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop	
		CMEmpty:		CMPK I 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop	
		JonEmpty:	   	PSPK I 35 Bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop	
		RREmpty:	    RRPK H 35 Bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop	
		BittermanEmpty: Q2WP B 35 Bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		LostWolfEmpty:  WCHP C 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		BeachDukeEmpty: PRPR C 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
		ShephardEmpty:  PHL4 A 35 bright A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop		

      Pickup:
		TNT1 A 0 A_JumpIfInventory("HalfLifeClass", 1, "CheckHL")	 
  	    TNT1 A 0 A_JumpIfInventory("StrifeClass", 1, "CheckStrife")	  
        TNT1 A 0 A_JumpIfInventory("SWClass", 1, "CheckSW")
		TNT1 A 0 A_JumpIf((ACS_ExecuteWithResult(229, 4) & 3) == 1, "PickupSuccess")
        Goto PickupFailure
	  CheckSW:
		TNT1 A 0 A_JumpIfInventory("UziAmountCheckSignal",1,"KeepCheckingSW")
		TNT1 A 0 A_GiveInventory("UziAmountCheckSignal",1)
		TNT1 A 0 A_GiveInventory("UziAmountCheck",1)	
	  KeepCheckingSW:	
        TNT1 A 0 A_JumpIf((ACS_ExecuteWithResult(229, 4) & 3) == 1, "PickupSuccess")
		Goto PickupFailure
	  CheckHL:
	    TNT1 A 0 A_JumpIfInventory("MP5", 1, "HLPickupAmmo")
        TNT1 A 0 A_JumpIf((ACS_ExecuteWithResult(229, 4) & 3) == 1, 3)
	    Goto PickupSuccess
		TNT1 A 0 ACS_ExecuteAlways(2685,0,14)
		Goto PickupSuccess
	  HLPickupAmmo:
		TNT1 A 0 A_PlaySound("halflife/weaponpickup")	
		TNT1 A 0 A_GiveInventory("Clip",10)
		TNT1 A 0 A_Jump(86, 1)
		Stop	
		TNT1 A 0 A_GiveInventory("RocketAmmo",1)
		Stop		
	  CheckStrife:
		TNT1 A 0 A_JumpIfInventory("GotWeapon4", 1, "StrifeCheck")
		TNT1 A 0 A_GiveInventory("StrifeSigilPiece",1)
		TNT1 A 0 A_GiveInventory(" Sigil ", 1)
	  StrifeCheck:	
        TNT1 A 0 A_JumpIf((ACS_ExecuteWithResult(229, 4) & 3) == 1, "PickupSuccess")
        goto PickupFailure
    }
}

actor SamsaraSlotFourDrop2: SamsaraSlotFourPickup2 replaces SamsaraSlotFourDrop
{
  States
  {
    Spawn:
      TNT1 A 0
      goto SpawnLoop
    Pickup:
      TNT1 A 0 A_JumpIfInventory("HalfLifeClass", 1, "CheckHL")	
	  TNT1 A 0 A_JumpIfInventory("StrifeClass", 1, "CheckStrife")
	  TNT1 A 0 A_JumpIfInventory("RottClass", 1, "CheckRott")	  	  	  
	  TNT1 A 0 A_JumpIfInventory("SWClass", 1, "CheckSW")
	  TNT1 A 0 A_JumpIf((ACS_ExecuteWithResult(229, 4, 1) & 1) == 1, "PickupSuccess")
      goto PickupFailure
	CheckStrife:
	  TNT1 A 0 A_JumpIfInventory("GotWeapon4", 1, "StrifeCheck")
	  TNT1 A 0 A_GiveInventory("StrifeSigilPiece",1)
	  TNT1 A 0 A_GiveInventory(" Sigil ", 1)
	StrifeCheck:	
      TNT1 A 0 A_JumpIf((ACS_ExecuteWithResult(229, 4) & 3) == 1, "PickupSuccess")
      goto PickupFailure
	CheckHL:
	  TNT1 A 0 A_JumpIfInventory("MP5", 1, "HLPickupAmmo")
      TNT1 A 0 A_JumpIf((ACS_ExecuteWithResult(229, 4, 1) & 1) == 1, 1)
	  Goto PickupFailure	
	  TNT1 A 0 ACS_ExecuteAlways(2685,0,14)
	  Goto PickupSuccess
	HLPickupAmmo:
	  TNT1 A 0 A_PlaySound("halflife/weaponpickup")	
	  TNT1 A 0 A_GiveInventory("Clip",10)
	  TNT1 A 0 A_Jump(86, 1)
	  Stop	
	  TNT1 A 0 A_GiveInventory("RocketAmmo",1)
	  Stop
    CheckSW:
	  TNT1 A 0 A_JumpIfInventory("UziAmountCheck",2,"GiveAmmoSW")	  
	  TNT1 A 0 A_GiveInventory("UziAmountCheck",1)	
      TNT1 A 0 A_JumpIf((ACS_ExecuteWithResult(229, 4) & 1) == 1, "PickupSuccess")
	  Goto PickupFailure	
	GiveAmmoSW:	
	  TNT1 A 0 A_PlaySound("sw/pickup")	
	  TNT1 A 0 A_GiveInventory("Clip",15)
	  Stop	
	CheckRott:	
	  TNT1 A 0 A_JumpIfInventory("MP40", 1, "CheckRocket")
	  TNT1 A 0 A_JumpIf((ACS_ExecuteWithResult(229, 4, 1) & 1) == 1, "PickupSuccess")
	  goto PickupFailure
	CheckRocket:
	  TNT1 A 0 A_JumpIfInventory("HSMissiles", 0, "PickupFailure")
	  TNT1 A 0 A_GiveInventory("HSMissiles", 2)
	  TNT1 A 0 A_PlaySound("gen/pickup")
	  Stop		
  }
}

actor SamsaraMinigunReplace2: SamsaraSlotFourPickup2 replaces Minigun {}
actor SamsaraSlotFour2_Hexen: SamsaraSlotFourPickup2 replaces FWeapHammer {}
actor SamsaraSlotFour2_Heretic: SamsaraSlotFourPickup2 replaces Blaster {}
actor SamsaraSlotFour2_Strife1: SamsaraSlotFourPickup2 replaces AssaultGun {}
actor SamsaraSlotFour2_Strife2: SamsaraSlotFourPickup2 replaces AssaultGunStanding {}

actor SamsaraSlotFour2_Chex replaces RapidZorcher
{
  States
  {
    Spawn:
      TNT1 A 0
      TNT1 A 0 A_SpawnItemEx("SamsaraSlotThreePickup2", 0,0,0, random(0,4),0,0, random(0, 360))
      TNT1 A 0 A_SpawnItemEx("SamsaraSlotFourPickup2", 0,0,0, random(0,4),0,0, random(0, 360))
      stop
  }
}
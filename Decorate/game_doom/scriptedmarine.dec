// Scripted Marines, even though nobody but Techo cares about 'em

ACTOR ScriptedMarine2 : ScriptedMarine replaces ScriptedMarine
{
	Tag "Space Marine"
	SeeSound "scriptedmarine/see"
	DamageFactor "CorvusCrossbow", 1.1
	DamageFactor "DragonClaw", 1.5
	DamageFactor "WitchMelee", 1.1
	DamageFactor "DeusExSabot", 0.8
	DamageFactor "DeusExSabotPistol", 0.8
	PainChance "MightyBoot", 255
	PainChance "CalebFire", 0
	PainChance "WTMelee", 255
	PainChance "WTMeleeIce", 255
	PainChance "DoomDamageTypeStunner", 196
	PainChance "ShrinkerDMG", 0
	+NOTDMATCH
	+NOICEDEATH
	var int user_scalex;
	var int user_scaley;
	States
	{
	Missile:
		TNT1 A 0 A_ChangeFlag("NOPAIN",0)
		PLAY E 10 A_FaceTarget
		TNT1 A 0 A_PlaySound("grunt/attack")
		PLAY F 8 A_CustomBulletAttack(22.5, 0, 1, random(1,5) * 3, "BulletPuff", 0, CBAF_NORANDOM)
		PLAY E 8
		Goto See
	Pain.DoomDamageTypeStunner:
		PLAY G 2 A_ChangeFlag("NOPAIN",true)
		PLAY G 300 A_Pain
		TNT1 A 0 A_ChangeFlag("NOPAIN",false)
		Goto See
	Pain.MightyBoot:
		TNT1 A 0 A_ChangeFlag("NOPAIN",1)
		TNT1 A 0 A_PlaySound("duke/kickhit",CHAN_BODY)
		PLAY G 2 A_FaceTarget
		TNT1 A 0 A_Recoil(14)
		PLAY G 16 A_Pain
		Goto See
	Pain.Shock:
	Pain.Tesla:
		CBGS A 4 A_Pain
		CBGS A 4
		TNT1 A -1 A_Jump(256,"See")
		Wait
	Death:
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		Goto Super::Death
	Death.CalebFire:
	Death.LifeLeech:
		TNT1 A 0 A_Jump(218, 2)
		TNT1 A 0 A_GiveToTarget("CalebDMTaunt1", 1)
		TNT1 A 0 A_SpawnItemEx("BloodBurningCorpse_Generic", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_SETMASTER)
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 5 A_NoBlocking
		Stop
	StakeDeath:
		PLAY G 2
		Loop
	XDeath:
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		Goto Super::XDeath
	Raise:
		PLAY A 0
		"####" "#" 0 A_JumpIfInventory("EnemyZorched",1,"ZorchRaise")
		PLAY MLKJIH 5
		Goto See
	ZorchRaise:
		"####" "#" 1 A_UnsetShootable
		"####" "#" 1 A_SpawnItem("SpawnFire2")
		"####" "#" 0 A_PlaySound("archvile/resummon")
		"####" "#" 1 A_TakeInventory("EnemyZorched",1)
		"####" "#" 0 A_SetTranslucent(0.1,0)
		"####" "#" 3 A_SetTranslucent(0.2,0)
		"####" "#" 3 A_SetTranslucent(0.3,0)
		"####" "#" 3 A_SetTranslucent(0.4,0)
		"####" "#" 3 A_SetTranslucent(0.5,0)
		"####" "#" 3 A_SetTranslucent(0.6,0)
		"####" "#" 3 A_SetTranslucent(0.7,0)
		"####" "#" 3 A_SetTranslucent(0.8,0)
		"####" "#" 3 A_SetTranslucent(0.9,0)
		"####" "#" 3 A_SetTranslucent(1,0)
		"####" "#" 1 A_SetShootable
		Goto See
	Death.ExpanderDMG:
	XDeath.ExpanderDMG:
		PLAY A 0
		"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
		"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
		"####" "#" 0 A_PlaySound("duke/expand")
		Goto ExpanderLoop
	ExpanderLoop:
		"####" "#" 1 A_SetScale(1.1*(user_scalex/65536.0)+((0.01*(user_scalex/65536.0))*CallACS("Samsara_Expander",1))+((0.01*(user_scalex/65536.0))*(CallACS("Samsara_Expander",1)-CallACS("Samsara_Expander",2)))*(CallACS("Samsara_Expander",3)*2),1.1*(user_scaley/65536.0)+((0.01*(user_scaley/65536.0))*CallACS("Samsara_Expander",2)))
		"####" "#" 0 A_GiveInventory("ExpanderGrowthX", 1)
		"####" "#" 0 A_JumpIf(ceilingz - (z + height + CallACS("Samsara_Expander",1) + 32) <= 0, 2)
		"####" "#" 0 A_GiveInventory("ExpanderGrowthY", 1)
		"####" "#" 0 A_GiveInventory("ExpanderDoubleX", 1)
		"####" "#" 0 A_JumpIfInventory("ExpanderGrowthX", 40, "ExpanderPop")
		Loop
	ExpanderPop:
		"####" "#" 10
		TNT1 A 0 A_SpawnItemEx("ExpanderExplosion_Basic",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
		TNT1 A 0 A_PlaySound("duke/explosion", 6, 1.0)
		TNT1 A 1 ACS_NamedExecuteWithResult("SamsaraDecorate",36,2)
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_Jump(96,2)
		TNT1 A 0 A_GiveToTarget("DukeGibTaunt", 1)
		TNT1 A 0 A_SetScale (1.0, 1.0)
		TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		TNT1 A 0 A_SpawnItemEx("DukeGibPopSpawner", 0, 0, height*2, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		TNT1 A 0 A_GiveToTarget("DukeGibTaunt",1)
		TNT1 A 1
		Stop
	Death.ExpanderDMGCoop:
	XDeath.ExpanderDMGCoop:
		PLAY A 0
		"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
		"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
		"####" "#" 0 A_PlaySound("duke/expand")
		Goto ExpanderLoopCoop
	ExpanderLoopCoop:
		"####" "#" 1 A_SetScale(1.1*(user_scalex/65536.0)+((0.01*(user_scalex/65536.0))*CallACS("Samsara_Expander",1))+((0.01*(user_scalex/65536.0))*(CallACS("Samsara_Expander",1)-CallACS("Samsara_Expander",2)))*(CallACS("Samsara_Expander",3)*2),1.1*(user_scaley/65536.0)+((0.01*(user_scaley/65536.0))*CallACS("Samsara_Expander",2)))
		"####" "#" 0 A_GiveInventory("ExpanderGrowthX", 1)
		"####" "#" 0 A_JumpIf(ceilingz - (z + height + CallACS("Samsara_Expander",1) + 32) <= 0, 2)
		"####" "#" 0 A_GiveInventory("ExpanderGrowthY", 1)
		"####" "#" 0 A_GiveInventory("ExpanderDoubleX", 1)
		"####" "#" 0 A_JumpIfInventory("ExpanderGrowthX", 40, "ExpanderPopCoop")
		Loop
	ExpanderPopCoop:
		"####" "#" 10
		TNT1 A 0 A_SpawnItemEx("ExpanderExplosion_Coop",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
		TNT1 A 0 A_PlaySound("duke/explosion", 6, 1.0)
		TNT1 A 1 ACS_NamedExecuteWithResult("SamsaraDecorate",36,2)
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_Jump(96,2)
		TNT1 A 0 A_GiveToTarget("DukeGibTaunt", 1)
		TNT1 A 0 A_SetScale (1.0, 1.0)
		TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		TNT1 A 0 A_SpawnItemEx("DukeGibPopSpawner", 0, 0, height*2, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		TNT1 A 0 A_GiveToTarget("DukeGibTaunt",1)
		TNT1 A 1
		Stop

	// SamsaraMonsterHumanoidMedium states
	Death.TotenkopfFire:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_SpawnItem("Totenkopf_BurningGuard")
		TNT1 A 5 A_NoBlocking
		TNT1 A 2 ACS_NamedExecuteWithResult("SamsaraBossDeathToggler")
		Stop
	Death.RottFire:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_SpawnItem("BurningSkeleton")
		TNT1 A 0 A_NoBlocking
		TNT1 A 5
		TNT1 A 2 ACS_NamedExecuteWithResult("SamsaraBossDeathToggler")
		Stop
	Death.PhosFire:
	Death.PhosFireCoop:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_SpawnItem("StrifeBurningHuman")
		TNT1 A 5 A_NoBlocking
		TNT1 A 2 ACS_NamedExecuteWithResult("SamsaraBossDeathToggler")
		Stop
	Death.MarathonFire:
	Death.MarathonPlasmaFire:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_SpawnItem("SamsaraMarathonBurningCorpse")
		TNT1 A 5 A_NoBlocking
		TNT1 A 2 ACS_NamedExecuteWithResult("SamsaraBossDeathToggler")
		Stop
	Death.WolfenFlamethrower:
	Death.HexGreenFire:
	Death.PGFire:
	Death.QuakeFire:
	Death.FireExplosive:
	Death.WTRangedFire:
	Death.RTCWFire:
	Death.DoomDamageTypeFire:
		TNT1 A -1 A_Jump(256,"Burn")
		Wait
	Death.DoomDamageTypeFireExplosive:
		TNT1 A 0 A_Jump(128,2)
		TNT1 A 0 A_JumpIfHealthLower(-100,"XDeath")
		TNT1 A -1 A_Jump(256,"Burn")
		Wait
	Death.RottExplosive:
		TNT1 A 0 A_JumpIfHealthLower(-3,"XDeath321")
		TNT1 A -1 A_Jump(256,"Death")
		Wait
	XDeath321:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		TNT1 A 0 A_SpawnItemEx("RottGibbedMan",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		TNT1 A 1
		TNT1 A 0 A_Jump(128, 2)
		TNT1 A 0 A_GiveToTarget("LudicrousGibsItem", 1)
		TNT1 AA 0
		TNT1 A 5 A_NoBlocking
		TNT1 A 2 ACS_NamedExecuteWithResult("SamsaraBossDeathToggler")
		Stop
	Death.RottDisintegrate:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_ChangeFlag(SOLID,0)
		TNT1 A 0 A_Scream
		TNT1 A 1 A_SpawnItem("RGodModeDeath")
		TNT1 A 5 A_FadeOut
		TNT1 A 2 ACS_NamedExecuteWithResult("SamsaraBossDeathToggler")
		Stop
	Disintegrate:
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_NoBlocking
		"####" "#" 0 A_ChangeFlag("DONTGIB",1)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 0 A_Scream
		"####" "#" 0 A_ChangeFlag("SOLID",FALSE)
		"####" "#" 0 A_ChangeFlag("SHOOTABLE",FALSE)
		"####" "#" 0 A_ChangeFlag("NOGRAVITY",TRUE)
		"####" "#" 0 A_ChangeFlag("FLOORCLIP",TRUE)
		"####" "#" 0 A_Stop
		"####" "#" 3 A_SpawnItem("DisintEffectSmall",0,10)
		"####" "#" 3 A_SetTranslucent(0.9,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.8,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.7,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.6,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 3 A_SetTranslucent(0.5,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.4,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.3,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.2,0)
		"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
		"####" "#" 2 A_SetTranslucent(0.1,0)
		TNT1 A 2 ACS_NamedExecuteWithResult("SamsaraBossDeathToggler")
		Stop
	Death.Nuke:
		"####" "#" 0 A_ChangeFlag("SOLID", 0)
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_Scream
		"####" "#" 0 A_NoBlocking
		"####" "#" 0 A_SpawnItem("WTNukeDeathSmall")
		"####" "#################" 3 A_Fadeout(0.05)
		TNT1 A 2 ACS_NamedExecuteWithResult("SamsaraBossDeathToggler")
		Stop
	XDeath.PunchDagger:
	XDeath.ElectricBolt:
	XDeath.PoisonBolt:
	XDeath.StrifeExplosive:
	XDeath.StrifeSigil:
		TNT1 A 0 A_SpawnItemEx("StrifeGibSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		TNT1 A -1 A_Jump(256,"XDeath")
		Wait
	Death.HLLaser:
	Death.HLExplosive:
	Death.HLRPGExplosive:
		TNT1 A 0 A_JumpIfHealthLower(-20, "Death.FreemanGibs")
		TNT1 A -1 A_Jump(256,"Death")
		Wait
	Death.HLEgon:
	Death.FreemanGibs:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		TNT1 A 0 A_SpawnItemEx("HLGenericGibSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		TNT1 A 0 ACS_NamedExecuteWithResult("SamsaraBossDeathToggler")
		TNT1 A 0 A_Fall
		TNT1 A 5 A_FadeOut
		Stop
	Pain.LifeLeech:
		"####" "#" 0 A_GiveToTarget("SerpentHealth", random(1,2))
		"####" "#" 0 A_GiveToTarget("HealthBonus", 1)
		"####" "#" -1 A_Jump(256,"Pain")
		Wait
	Pain.Vodoo:
		"####" "#" 0 A_GiveToTarget("Voodoo", 1)
		"####" "#" -1 A_Jump(256,"Pain")
		Wait
	Death.CalebNapalm:
	Death.Vodoo:
	Death.VoodooPuff:
	Death.DynamiteCoop:
	Death.Dynamite:
	Death.Shock:
		TNT1 A 0 A_JumpIfHealthLower(-50, "XDeathForCaleb")
	Death.Tesla:
	Death.CalebBullet:
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("CalebDMTaunt1", 1)
		TNT1 A -1 A_Jump(256,"Death")
		Wait
	Death.CalebFire:
	Death.LifeLeech:
		TNT1 A 0 A_Jump(218, "Burn")
		TNT1 A 0 A_GiveToTarget("CalebDMTaunt1", 1)
		TNT1 A -1 A_Jump(256,"Burn")
		Wait
	XDeathForCaleb:
		TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_SpawnItemEx("CalebGibSpawner",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
		TNT1 A 0 A_Jump(96,"XDeath")
		TNT1 A 0 A_GiveToTarget("CalebDMTaunt1",1)
		TNT1 A -1 A_Jump(256,"XDeath")
		Wait
	Death.EradExplosive:
	Death.EradNova:
	Death.EradShock:
	Death.EradExplosive2:
		TNT1 A 0 A_JumpIfHealthLower(-5,"XDeathForCatBitch")
	Death.EradDisc:
	Death.EradPiercingDart:
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("EleenaDMTaunt1", 1)
		TNT1 A -1 A_Jump(256,"Death")
		Wait
	Death.EradGreenFire:
	Death.EradCoopGreenFire:
		TNT1 A 0 A_Jump(218, "Burn")
		TNT1 A 0 A_GiveToTarget("EleenaDMTaunt1", 1)
		TNT1 A -1 A_Jump(256,"Burn")
		Wait
	XDeathForCatBitch:
		TNT1 A 0 A_UnsetSolid
		TNT1 AAAAA 0 A_SpawnItemex("EleGibs1", 0, 0, random(8, 56), random(-4, 4), 0, random(0, 6), 0, SXF_USEBLOODCOLOR)
		TNT1 AAAAA 0 A_SpawnItemex("EradBloodDrop",0, 0, 32, random(3.0,5.0),random(3.0,5.0),random(0.0,10.0),random(0.0,360.0), SXF_ABSOLUTEANGLE|SXF_USEBLOODCOLOR , 0)
		TNT1 A 0 A_Jump(96,"XDeath")
		TNT1 A 0 A_GiveToTarget("EleenaGibTaunt",1)
		TNT1 A -1 A_Jump(256,"XDeath")
		Wait
	Death.DukeExplosive:
		TNT1 A 0 A_JumpIfHealthLower(-3,"DukeGibStart")
	Death.DukeDamage:
	Death.DukePistol:
		TNT1 A 0 A_Jump(218,"Death")
		TNT1 A 0 A_GiveToTarget("DukeKillTaunt",1)
		TNT1 A -1 A_Jump(256,"Death")
		Wait
	Death.MightyBoot:
		TNT1 A 0 A_PlaySound("duke/kickhit",CHAN_BODY)
		TNT1 A 0 A_Jump(64,"Death")
		TNT1 A 0 A_GiveToTarget("DukeBootTaunt",1)
		TNT1 A -1 A_Jump(256,"Death")
		Wait
	DukeGibStart:
		TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_SpawnItemEx("DukeGib_ColorSpawner",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
		TNT1 A 0 A_Jump(96,"XDeath")
		TNT1 A 0 A_GiveToTarget("DukeGibTaunt",1)
		TNT1 A -1 A_Jump(256,"XDeath")
		Wait
	Death.PSRAPower:
	Death.PSRAPowerCoop:
	Death.PSExplosive:
	Death.PSExplosiveCoop:
		TNT1 A 0 A_JumpIfHealthLower(-30, "XDeathForJon")
	Death.PSBullet:
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("JonDMTaunt1", 1)
		TNT1 A -1 A_Jump(256,"Death")
		Wait
	Death.PSFire:
		TNT1 A 0 A_Jump(218, "Burn")
		TNT1 A 0 A_GiveToTarget("JonDMTaunt1", 1)
		TNT1 A -1 A_Jump(256,"Burn")
		Wait
	XDeathForJon:
		TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_SpawnItemEx("PSGibSpawner",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
		TNT1 A 0 A_Jump(96,"XDeath")
		TNT1 A 0 A_GiveToTarget("JonDMTaunt1",1)
		TNT1 A -1 A_Jump(256,"XDeath")
		Wait
	Death.LeonardDamage2:
	Death.LeonardDamage3:
		TNT1 A 0 A_JumpIfHealthLower(-20, "XDeathForLeonard")
	Death.RRBullet:
	Death.LeonardDamage0:
	Death.LeonardDamage1:
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("LeonardDMTaunt1", 1)
		TNT1 A -1 A_Jump(256,"Death")
		Wait
	XDeathForLeonard:
		TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_SpawnItemEx("RRGibSpawner",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
		TNT1 A 0 A_Jump(96,"XDeath")
		TNT1 A 0 A_GiveToTarget("LeonardGibTaunt",1)
		TNT1 A -1 A_Jump(256,"XDeath")
		Wait
	Death.SWFist:
		TNT1 A 0 A_GiveToTarget("SWLoWangBloody", 1)
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_SpawnItemEx("SWFisted")
		TNT1 A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
		TNT1 A -1 A_Jump(256,"Death")
		Wait
	Death.SWKatana:
		TNT1 A 0 A_GiveToTarget("SWLoWangBloody", 1)
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_SpawnItemEx("SWKatanad")
		TNT1 A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
		TNT1 A -1 A_Jump(256,"Death")
		Wait
	Death.SWShuriken:
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_SpawnItemEx("SWShurikend")
		TNT1 A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
		TNT1 A -1 A_Jump(256,"Death")
		Wait
	Death.SWSticky:
	Death.SWStickyCoop:
	Death.SWGrenade:
	Death.SWNuke:
	Death.SWRocket:
	Death.SWRailgun:
	Death.SWRailgunCoop:
	Death.SWNukeCoop:
		TNT1 A 0 A_JumpIfHealthLower(-3,"XDeathForWang")
	Death.SWBullet:
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
		TNT1 A -1 A_Jump(256,"Death")
		Wait
	Death.SWFlame:
	Death.SWFlame2:
	Death.SWFlame2Coop:
	Death.SWFlame3:
		TNT1 A 0 A_JumpIfHealthLower(-3,"XDeathForWang")
		TNT1 A 0 A_Jump(218, "Burn")
		TNT1 A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
		TNT1 A -1 A_Jump(256,"Burn")
		Wait
	XDeathForWang:
		TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_SpawnItemEx("SWHumanGibSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		TNT1 A 0 A_Jump(218, "XDeath")
		TNT1 A 0 A_GiveToTarget("LoWangDMTaunt2",1)
		TNT1 A -1 A_Jump(256,"XDeath")
		Wait
	Death.DukeIce:
		"####" "#" 0 A_PlaySound("duke/enemyfreeze")
		"####" "#" 0 A_GiveInventory("FreezethrowerWeakness")
		"####" "#" 0 A_Jump(218,"Ice")
		"####" "#" 0 A_GiveToTarget("DukeKillTaunt",1)
	Ice:
	Death.HexenIce:
	Death.WTMeleeIce:
	Death.WTRangedIce:
	Death.DoomDamageTypeIce:
	Death.Ice:
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 ACS_NamedExecuteWithResult("SamsaraBossDeathToggler")
		"####" "#" 0 A_GenericFreezeDeath
		"####" "#" 70 A_UnsetSolid
		"####" "#" 0 A_IceGuyDie
		"####" "#" 1 A_IceGuyDie
		TNT1 A 0
		Stop
	Death.ZorchPistol:
	Death.Zorch:
	Death.ZorchKamikaze:
	Death.PhasingZorch:
	Death.ZorchSpectral:
		"####" "#" 0 A_JumpIfInventory("IsAFlyingActor", 1, "ZorchFlyingDeath")
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_Stop
		"####" "#" 0 A_ChangeFlag("DONTGIB",1)
		"####" "#" 0 A_PlaySoundEx("chex/zorch","soundslot5",0,0)
		"####" "#" 3 A_SpawnItem("ZorchEffectSmall")
		"####" "#" 0 A_GiveInventory("EnemyZorched",1)
		"####" "#" 3 A_SetTranslucent(0.9,0)
		"####" "#" 0 A_Scream
		"####" "#" 3 A_SetTranslucent(0.8,0)
		"####" "#" 0 A_NoBlocking
		"####" "#" 3 A_SetTranslucent(0.7,0)
		"####" "#" 3 A_SetTranslucent(0.6,0)
		"####" "#" 3 A_SetTranslucent(0.5,0)
		"####" "#" 3 A_SetTranslucent(0.4,0)
		"####" "#" 3 A_SetTranslucent(0.3,0)
		"####" "#" 3 A_SetTranslucent(0.2,0)
		"####" "#" 3 A_SetTranslucent(0.1,0)
		TNT1 A 1 A_SetTranslucent(1,0)
		TNT1 A 0 A_Gravity
		TNT1 A 2 ACS_NamedExecuteWithResult("SamsaraBossDeathToggler")
		Stop
	ZorchFlyingDeath:
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_Stop
		"####" "#" 0 A_NoGravity
		"####" "#" 0 A_ChangeFlag("DONTGIB",1)
		"####" "#" 0 A_PlaySoundEx("chex/zorch","soundslot5",0,0)
		"####" "#" 3 A_SpawnItem("ZorchEffectSmall")
		"####" "#" 0 A_GiveInventory("EnemyZorched",1)
		"####" "#" 3 A_SetTranslucent(0.9,0)
		"####" "#" 0 A_Scream
		"####" "#" 3 A_SetTranslucent(0.8,0)
		"####" "#" 0 A_NoBlocking
		"####" "#" 3 A_SetTranslucent(0.7,0)
		"####" "#" 3 A_SetTranslucent(0.6,0)
		"####" "#" 3 A_SetTranslucent(0.5,0)
		"####" "#" 3 A_SetTranslucent(0.4,0)
		"####" "#" 3 A_SetTranslucent(0.3,0)
		"####" "#" 3 A_SetTranslucent(0.2,0)
		"####" "#" 3 A_SetTranslucent(0.1,0)
		TNT1 A 1 A_SetTranslucent(1,0)
		TNT1 A 0 A_Gravity
		TNT1 A 2 ACS_NamedExecuteWithResult("SamsaraBossDeathToggler")
		Stop
	Death.QuakeElectric:
	Death.NotQuadded:
	Death.QuakeExplosive:
		TNT1 A 0 A_JumpIfHealthLower(-50, "XDeathForRanger")
		TNT1 A -1 A_Jump(256,"Death")
		Wait
	XDeath.QuakeElectric:
	XDeath.NotQuadded:
	XDeath.QuakeExplosive:
	XDeathForRanger:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		TNT1 A 0 A_SpawnItemEx("QuakeGibSpawner",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
		TNT1 A 0 ACS_NamedExecuteWithResult("SamsaraBossDeathToggler")
		TNT1 A 0 A_Fall
		TNT1 A 5 A_FadeOut
		Stop
	Death.BittermanDamage:
		TNT1 A 0 A_JumpIfHealthLower(-50, "XdeathForBitterman")
		TNT1 A -1 A_Jump(256,"Death")
		Wait
	XdeathForBitterman:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_SpawnItemEx("Q2ColorGibSpawner",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
		TNT1 A 0 ACS_NamedExecuteWithResult("SamsaraBossDeathToggler")
		TNT1 A 0 A_Fall
		TNT1 A 5 A_FadeOut
		Stop
	Pain.Hexen2RavenDamage:
		"####" "#" 0 A_Jump(192,"Pain")
		"####" "#" 0 A_SpawnItemEx("Hexen2GibSpawnerColor",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION|SXF_SETMASTER)
		"####" "#" -1 A_Jump(256,"Pain")
		Wait
	Death.Hexen2Damage:
	Death.Hexen2Electric:
		TNT1 A 0 A_JumpIfHealthLower(-50,"XDeathForDemoness")
		TNT1 A -1 A_Jump(256,"Death")
		Wait
	Death.Hexen2Fire:
		TNT1 A 0 A_JumpIfHealthLower(-50,"XDeathForDemoness")
		TNT1 A -1 A_Jump(256,"Burn")
		Wait
	Death.Hexen2Extreme:
	Death.Hexen2ElectricExtreme:
	XDeathForDemoness:
		TNT1 A 0 ACS_NamedExecuteWithResult("SamsaraBossDeathToggler")
		TNT1 A 0 A_Playsound("Hexen2/Gib", CHAN_5)
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
		TNT1 A 0 A_SpawnItemEx("Hexen2GibSpawnerColor",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION|SXF_SETMASTER)
		TNT1 A 0 A_NoBlocking
		TNT1 A 5 A_FadeOut
		Stop
	Death.GETank:
		TNT1 A 0 A_PlaySound("Goldeneye/Tank/Squish",CHAN_6)
		TNT1 A 0 A_PlaySound("Goldeneye/MaleScream",CHAN_5)
		TNT1 A -1 A_Jump(256,"XDeath")
		Wait
	Pain.PainkillerIce:
		"####" "#" 0 A_JumpIf(CallACS("Painkiller_FlagStorage",1,1)==1,1)
		"####" "#" 0 A_JumpIf(CallACS("Painkiller_FlagStorage",1,2)==1,1)
		"####" "#" 0 A_JumpIf(CallACS("Painkiller_FlagStorage",1,3)==1,1)
		"####" "#" 0 A_ChangeFlag("NOPAIN",true)
		"####" "#" 0 A_ChangeFlag("NOGRAVITY",false)
		"####" "#" 0 A_ChangeFlag("NOBLOOD",true)
		"####" "#" 0 A_StopSound(CHAN_BODY)
		"####" "#" 0 A_PlaySound("Painkiller/Freezer/Freeze",CHAN_BODY)
		"####" "#" 0 ACS_NamedExecuteAlways("Painkiller_Freeze",0,1)
	PainkillerIceLoop:
		"####" "#" 2
		Loop
	PainkillerIceThaw:
		"####" "#" 0 A_PlaySound("Painkiller/Freezer/Unfreeze",CHAN_BODY)
		"####" "#" 20
		"####" "#" 0 A_ChangeFlag("NOPAIN",CallACS("Painkiller_FlagStorage",2,1))
		"####" "#" 0 A_ChangeFlag("NOGRAVITY",CallACS("Painkiller_FlagStorage",2,2))
		"####" "#" 0 A_ChangeFlag("NOBLOOD",CallACS("Painkiller_FlagStorage",2,3))
		TNT1 A -1 A_Jump(256,"See")
		Wait
	Death.Painkiller:
	Death.PainkillerBullet:
	Death.PainkillerElectro:
	Death.PainkillerExplosive:
	Death.PainkillerShuriken:
	Death.PainkillerDemon:
		//TNT1 A 0 ACS_NamedExecuteAlways("Painkiller_MonsterKill")
		TNT1 A 0 A_JumpIf(CallACS("Painkiller_IsItGibbed")==1,"PainkillerGib")
		TNT1 A -1 A_Jump(256,"Death")
		Wait
	Death.PainkillerFire:
		//TNT1 A 0 ACS_NamedExecuteAlways("Painkiller_MonsterKill")
		TNT1 A 0 A_JumpIf(CallACS("Painkiller_IsItGibbed")==1,"PainkillerGib")
		TNT1 A -1 A_Jump(256,"Burn")
		Wait
	Death.PainkillerStake:
		"####" "#" 0 A_GiveInventory("Painkiller_RunStake",1)
		"####" "#" 0 A_JumpIf(CallACS("Painkiller_StakeShatter",1)==0,"Death.Painkiller")
		"####" "#" 0 ACS_NamedExecuteAlways("Painkiller_MonsterKill")
		"####" "#" 0 A_JumpIf(CallACS("Painkiller_IsItGibbed")==1,"PainkillerGib")
		"####" "#" 0 A_Scream
		"####" "#" 0 A_NoBlocking
		"####" "#" 0 A_FaceTarget
		"####" "#" -1 A_Jump(256,"StakeDeath")
		Wait
	PainkillerGib:
		TNT1 A 0 A_PlaySound("Painkiller/Gib",CHAN_BODY)
		TNT1 A 0 ACS_NamedExecuteWithResult("Painkiller_GibCreator")
		TNT1 A -1 A_Jump(256,"XDeath")
		Wait
	Death.UnrealDamage:
	Death.UnrealPlasma:
	Death.UnrealSludge:
	Death.ASMDShockTrace:
	Death.UnrealExplosive:
	Death.UnrealRazor:
		TNT1 A 0 A_JumpIfHealthLower(-20, "UnrealXDeath")
		TNT1 A -1 A_Jump(256,"Death")
		Wait
	Death.UnrealExtreme:
	Death.UnrealRedeemer:
	Death.UnrealShredded:
	UnrealXDeath:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_SpawnItemEX("UnrealGenericGibSpawnerM", 0,0,0,0,0,0,0, SXF_NOCHECKPOSITION | SXF_USEBLOODCOLOR| SXF_SETMASTER)
		TNT1 A 0 A_NoBlocking
		TNT1 A 0 ACS_NamedExecuteWithResult("SamsaraBossDeathToggler")
		TNT1 A 0 A_UnSetSolid
		TNT1 A 5 A_FadeOut
		Stop
	Death.RTCWExplosive:
		"####" "#" 0 A_JumpIfHealthLower(-50,"RTCWXDeath")
		Goto RTCWXDeath
	Death.RTCWVenomBullet:
		"####" "#" 0 A_JumpIfHealthLower(-50,"RTCWXDeath")
		"####" "#" 0 A_SpawnItemEx("RTCW_DeathGibber",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR|SXF_SETMASTER)
		//"####" "#" 5
		//"####" "#" 0 A_JumpIfInventory("RTCW_DeathGibberKeep",1,1)
		//Goto Death
		//"####" "#" 5
		//Goto Death
		TNT1 A -1 A_Jump(256,"Death")
		Wait
	RTCWXDeath:
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
	RTCWXDeath2:
		TNT1 A 0 A_Fall
		TNT1 A 0 ACS_NamedExecuteWithResult("SamsaraBossDeathToggler")
		TNT1 A 0 A_UnsetSolid
		TNT1 A 0 A_SpawnItemEx("RTCW_GibSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR|SXF_SETMASTER)
		TNT1 A 5 A_FadeOut
		Stop
	Death.Q3Explosive:
	Death.Q3Energy:
		"####" "#" 0 A_JumpIfHealthLower(-20,"XDeath.Q3Explosive")
		TNT1 A -1 A_Jump(256,"Death")
		Wait
	Death.Q3BFG:
	XDeath.Q3Explosive:
	XDeath.Q3Energy:
		TNT1 A 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		TNT1 A 0 A_NoBlocking
		TNT1 A 1 A_SpawnItemEx("Q3GibGenerator",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR|SXF_SETMASTER)
		TNT1 A 0 ACS_NamedExecuteWithResult("SamsaraBossDeathToggler")
		TNT1 A 5 A_FadeOut
		Stop
	Death.DeusExMelee:
	Death.DeusExStunned:
		TNT1 A 0 ACS_NamedExecuteAlways("DeusEx_KillScript", 0, 0, 0)
		TNT1 A -1 A_Jump(256, "Death")
		Wait
	Death.DeusExLAM:
		TNT1 A 0 ACS_NamedExecuteAlways("DeusEx_KillScript", 0, 0, 0)
		TNT1 A -1 A_Jump(256, "DeusXDeath")
		Wait
	Death.DeusExPistol:
	Death.DeusExKnockedOut:
	Death.DeusExPoisonEffect:
		TNT1 A 0 ACS_NamedExecuteAlways("DeusEx_KillScript", 0, 0, 1)
		TNT1 A -1 A_Jump(256, "Death")
		Wait
	Death.DeusExPistolFire:
		TNT1 A 0 ACS_NamedExecuteAlways("DeusEx_KillScript", 0, 0, 1)
		TNT1 A -1 A_Jump(256, "Burn")
		Wait
	Death.DeusExSabotPistol:
		TNT1 A 0 ACS_NamedExecuteAlways("DeusEx_KillScript", 0, 0, 1)
		TNT1 A 0 A_JumpIfHealthLower(-50, "DeusXDeath")
		TNT1 A -1 A_Jump(256, "Death")
		Wait
	Death.DeusExSabot:
		TNT1 A 0 ACS_NamedExecuteAlways("DeusEx_KillScript", 0, 0, 2)
		TNT1 A 0 A_JumpIfHealthLower(-50, "DeusXDeath")
		TNT1 A -1 A_Jump(256, "Death")
		Wait
	Death.DeusExRifleShot:
		TNT1 A 0 ACS_NamedExecuteAlways("DeusEx_KillScript", 0, 0, 2)
		TNT1 A -1 A_Jump(256, "Death")
		Wait
	Death.DeusExRifleExploded:
		TNT1 A 0 ACS_NamedExecuteAlways("DeusEx_KillScript", 0, 0, 2)
		TNT1 A -1 A_Jump(256, "DeusXDeath")
		Wait
	Death.DeusExFlamed:
		TNT1 A 0 ACS_NamedExecuteAlways("DeusEx_KillScript", 0, 0, 3)
		TNT1 A 0 A_JumpIfHealthLower(-40, "DeusXDeath")
		TNT1 A -1 A_Jump(256, "Burn")
		Wait
	Death.DeusExBurned:
		TNT1 A 0 ACS_NamedExecuteAlways("DeusEx_KillScript", 0, 0, 3)
		TNT1 A 0 A_JumpIfHealthLower(-40, "DeusXDeath")
		TNT1 A -1 A_Jump(256, "Death")
		Wait
	Death.DeusExExploded:
		TNT1 A 0 ACS_NamedExecuteAlways("DeusEx_KillScript", 0, 0, 3)
	DeusXDeath:
		TNT1 A 0 ACS_NamedExecuteWithResult("DeusEx_GibCreator")
		TNT1 A -1 A_Jump(256, "XDeath")
		Wait
	Death.DukePlasma:
		"####" "#" 0 ACS_NamedExecuteAlways("Samsara_KillCount", 0, 0)
		"####" "#" 0 A_Stop
		"####" "#" 1 A_NoBlocking
		"####" "#" 0 A_Jump(218,2)
		"####" "#" 0 A_GiveToTarget("DukeKillTaunt",1)
		"####" "#" 0 ACS_NamedExecuteAlways("DN64PlasmaDeath")
		"####" "#" 3 A_SpawnItem("Duke64PlasmaEffectSmall")
		"####" "#" 0 A_GiveInventory("EnemyZorched",1)
		"####" "#" 27 A_Scream
		TNT1 A 1 A_SetTranslucent(1,0)
		TNT1 A 0 ACS_NamedExecuteWithResult("SamsaraBossDeathToggler")
		TNT1 A -1
		Stop
	}
}

//---------------------------------------------------------------------------

ACTOR MarineFist2 : ScriptedMarine2 replaces MarineFist
{
	States
	{
	Melee:
		Goto Super::Melee.Fist
	Missile:
		Stop
	}
}

//---------------------------------------------------------------------------

ACTOR MarineBerserk2 : MarineFist2 replaces MarineBerserk
{
	States
	{
	Melee:
		Goto Super::Melee.Berserk
	Missile:
		Stop
	}
}

//---------------------------------------------------------------------------

ACTOR MarineChainsaw2 : ScriptedMarine2 replaces MarineChainsaw
{
	States
	{
	Melee:
		Goto Super::Melee.Chainsaw
	Missile:
		Stop
	}
}

//---------------------------------------------------------------------------

ACTOR MarinePistol2 : ScriptedMarine2 replaces MarinePistol
{
	States
	{
	Missile:
		Goto Super::Missile.Pistol
	}
}

//---------------------------------------------------------------------------

ACTOR MarineShotgun2 : ScriptedMarine2 replaces MarineShotgun
{
	States
	{
	Missile:
		Goto Super::Missile.Shotgun
	}
}

//---------------------------------------------------------------------------

ACTOR MarineSSG2 : ScriptedMarine2 replaces MarineSSG
{
	States
	{
	Missile:
		Goto Super::Missile.SSG
	}
}

//---------------------------------------------------------------------------

ACTOR MarineChaingun2 : ScriptedMarine2 replaces MarineChaingun
{
	States
	{
	Missile:
		Goto Super::Missile.Chaingun
	}
}

//---------------------------------------------------------------------------

ACTOR MarineRocket2 : MarineFist2 replaces MarineRocket
{
	States
	{
	Missile:
		Goto Super::Missile.Rocket
	}
}

//---------------------------------------------------------------------------

ACTOR MarinePlasma2 : ScriptedMarine2 replaces MarinePlasma
{
	States
	{
	Missile:
		Goto Super::Missile.Plasma
	}
}

//---------------------------------------------------------------------------

ACTOR MarineRailgun2 : ScriptedMarine2 replaces MarineRailgun
{
	States
	{
	Missile:
		Goto Super::Missile.Railgun
	}
}

//---------------------------------------------------------------------------

ACTOR MarineBFG2 : ScriptedMarine2 replaces MarineBFG
{
	States
	{
	Missile:
		Goto Super::Missile.BFG
	}
}

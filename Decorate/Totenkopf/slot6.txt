actor Totenkopf_Chaingun : InstantSwitchWeapon
{
    Weapon.SelectionOrder 450
    Weapon.SlotNumber 6
    Inventory.PickUpSound "Totenkopf/getweapon"
    Weapon.AmmoUse 1
    Weapon.AmmoGive 50
    Weapon.AmmoType "Cell"
    +THRUGHOST
    +DONTBOB
    +INVENTORY.UNDROPPABLE
    Inventory.PickupMessage "Chaingun"
    Obituary ""
    Weapon.YAdjust 16
    States
    {
      Spawn:
		TK08 F 4
        Loop

      Ready:
        TK08 A 1 A_WeaponReady
        loop

      Fire:
        TK08 B 2
		Goto Hold

      Hold:
        TK08 C 0 A_PlaySound("Totenkopf/atkchaingun",CHAN_WEAPON)
        TK08 C 2 Bright A_FireCustomMissile("Totenkopf_Tracer_Chaingun",random(-3,3))
        TK08 D 2 Bright A_FireCustomMissile("Totenkopf_Tracer_Chaingun",random(-3,3))
		TK08 C 2 Bright A_FireCustomMissile("Totenkopf_Tracer_Chaingun",random(-3,3))
		TK08 D 2 Bright A_FireCustomMissile("Totenkopf_Tracer_Chaingun",random(-3,3))
		TK08 C 0 A_PlaySound("Totenkopf/atkchaingun",CHAN_WEAPON)
		TK08 C 2 Bright A_FireCustomMissile("Totenkopf_Tracer_Chaingun",random(-3,3))
        TK08 D 2 Bright A_FireCustomMissile("Totenkopf_Tracer_Chaingun",random(-3,3))
		TK08 C 2 Bright A_FireCustomMissile("Totenkopf_Tracer_Chaingun",random(-3,3))
		TK08 D 2 Bright
		TK08 D 0 A_Refire
        TK08 E 2
        Goto Ready
    }
} 

Actor Totenkopf_Tracer_Chaingun : Totenkopf_Tracer 
{ 
	Damage (10 + (random(0,256)%30)) 
	DamageType "TotenkopfChaingun" 
	Speed 8
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 0 A_JumpIf(random(0,4)!=3,3)
			TNT1 A 0 A_ChangeFlag("NOEXTREMEDEATH",false)
			TNT1 A 0 A_ChangeFlag("EXTREMEDEATH",true)
			TNT1 A 0 A_ChangeVelocity(velx*128,vely*128,velz*128,CVF_REPLACE)
		SpawnLoop:
			TNT1 A 1
			Loop
	}
}
actor Totenkopf_Pistol : InstantSwitchWeapon
{
    Weapon.SelectionOrder 900
    Weapon.SlotNumber 1
	Weapon.SlotPriority 0
    Inventory.PickUpSound "Totenkopf/getweapon"
    Obituary ""
    Inventory.PickupMessage "Walther P38 Pistol"
	Weapon.AmmoType "Clip"
    Weapon.AmmoUse 1
    Weapon.AmmoGive 8
    +WEAPON.WIMPY_WEAPON
    +DONTBOB
    +INVENTORY.UNDROPPABLE
	+WEAPON.NOAUTOFIRE
    Weapon.YAdjust 16
    States
    {
      Spawn:
        TK02 M -1
        Loop

      Ready:
        TK02 A 1 A_WeaponReady
        loop

      Fire:
        TK02 B 3
        TK02 C 0 A_PlaySound("Totenkopf/atkpistol", CHAN_WEAPON)
		TK02 C 0 A_FireCustomMissile("Totenkopf_Tracer_Pistol",random(-2,2),1)
        TK02 C 3 Bright
		TK02 DE 3 
        Goto Ready
    }
}

actor Totenkopf_PistolDual : Totenkopf_Pistol
{
    Weapon.SelectionOrder 850
	Weapon.SlotPriority 1
    States
    {
      Spawn:
        TK02 M -1
        Loop

      Ready:
        TK02 F 1 A_WeaponReady
        loop

      Fire:
        TK02 G 3
        TK02 H 0 A_PlaySound("Totenkopf/atkpistol", CHAN_WEAPON)
		TK02 H 0 A_FireCustomMissile("Totenkopf_Tracer_Pistol",random(-3,3))
        TK02 H 3 Bright
		TK02 I 5
		TK02 J 0 A_PlaySound("Totenkopf/atkpistol", CHAN_WEAPON)
		TK02 J 0 A_FireCustomMissile("Totenkopf_Tracer_Pistol",random(-3,3))
        TK02 J 3 Bright
		TK02 K 3
		TK02 K 0 A_Refire
		TK02 L 3
        Goto Ready
    }
}

Actor Totenkopf_Tracer_Pistol : Totenkopf_Tracer { Damage(10 + (random(0,256)%25)) }
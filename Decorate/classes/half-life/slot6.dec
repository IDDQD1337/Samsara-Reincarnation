// Tokens

actor freeman_slot6selected : Boolean { Inventory.InterHubAmount 0 }
actor SamsaraHalfLifeLoadoutSlot6 : Boolean {}

// Tau Cannon

actor HLGaussCharged : Counter { Inventory.MaxAmount 600 }
actor HLGaussLoop : Counter { Inventory.MaxAmount 14 }
actor HLGaussSpinTrigger : Counter { Inventory.MaxAmount 2 }
actor HLGaussCounter : Counter { Inventory.MaxAmount 30 }
actor HLGaussChargeAddCounter : Boolean {}

actor "Gauss Cannon" : HLWeapon
{
    Inventory.PickupMessage "You got the gauss cannon!"
    Weapon.SlotNumber 6
    Weapon.SelectionOrder 750
    Weapon.AmmoType "Cell"
    //Weapon.AmmoGive 70
    Weapon.AmmoUse 2
    Tag "Tau Cannon"
    +NOAUTOAIM
    States
    {
      Spawn:
        HW60 Z -1
        stop

      // Gordon Freeman
      ReadyActual:
        HW63 A 0 A_TakeInventory("HLGaussLoop")
        HW63 A 0 A_TakeInventory("HLGaussCharged")
        HW63 A 0 A_TakeInventory("HLGaussSpinTrigger")
        HW63 A 0 A_TakeInventory("HLGaussCounter")
        HW63 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"ReadyActualShephard")
        HW63 A 2 A_WeaponReady
        goto ReadyActualJump

      ReadyActualJump:
        HW63 A 0 A_Jump(4,"ReadyActual")
        HW63 A 0 A_Jump(3,"ReadyActual")
        HW63 A 0 A_Jump(2,"ReadyActual")
        HW63 A 0 A_Jump(1,"ReadyActualIdle1","ReadyActualIdle2","ReadyActualIdle3")
        goto ReadyActual

      ReadyActualIdle1:
        HW63 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"ReadyActualIdle1Shephard")
        HW63 A 1 A_WeaponReady
        HW62 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        HW69 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        HW70 ABCDEFGH 1 A_WeaponReady
        goto ReadyActual

      ReadyActualIdle2:
        HW70 I 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"ReadyActualIdle2Shephard")
        HW70 IJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        HW71 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        HW72 ABCDEFGHIJKLMNOPQ 1 A_WeaponReady
        goto ReadyActual

      ReadyActualIdle3:
        HW63 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"ReadyActualIdle3Shephard")
        HW63 A 1 A_WeaponReady
        HW72 RSTUVWXYZ 1 A_WeaponReady
        HW73 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        HW74 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        HW75 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        HW76 ABCD 1 A_WeaponReady
        goto ReadyActual

      Deselect:
        TNT1 A 0 A_JumpIfInventory("HLGaussCharged",1,1)
        goto DeselectClear
        TNT1 A 0 A_PlaySound("silence",CHAN_WEAPON)
        TNT1 A 0 A_StopSound(CHAN_WEAPON)
        goto DeselectClear

      DeselectClear:
        TNT1 A 0 A_TakeInventory("HLGaussLoop")
        TNT1 A 0 A_TakeInventory("HLGaussCharged")
        TNT1 A 0 A_TakeInventory("HLGaussSpinTrigger")
        TNT1 A 0 A_TakeInventory("HLGaussCounter")
        goto Super::Deselect

      Select:
        TNT1 A 0 A_TakeInventory("freeman_fistselected")
        TNT1 A 0 A_TakeInventory("freeman_pistolselected")
        TNT1 A 0 A_TakeInventory("freeman_slot1selected")
        TNT1 A 0 A_TakeInventory("freeman_slot2selected")
        TNT1 A 0 A_TakeInventory("freeman_slot3selected")
        TNT1 A 0 A_TakeInventory("freeman_slot4selected")
        TNT1 A 0 A_TakeInventory("freeman_slot5selected")
        TNT1 A 0 A_GiveInventory("freeman_slot6selected")
        TNT1 A 0 A_TakeInventory("freeman_slot7selected")
        TNT1 A 0 A_TakeInventory("freeman_uniqueselected")
        TNT1 A 0 A_TakeInventory("freeman_unique2selected")
        TNT1 A 0 A_TakeInventory("freeman_unique3selected")
        goto Super::Select

      Ready: // our "Select" state
        HW60 A 0 A_TakeInventory("HLGaussLoop")
        HW60 A 0 A_TakeInventory("HLGaussCharged")
        HW60 A 0 A_TakeInventory("HLGaussSpinTrigger")
        HW60 A 0 A_TakeInventory("HLGaussCounter")
        HW60 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"ReadyShephard")
        HW60 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        HW61 ABCDEFGHIJ 1 A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        goto ReadyActual

      Fire:
        HW67 A 0 A_JumpIfInventory("HLOriginalKeySwitcherOpen",1,"ReadyActual")
        HW67 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireWaterCheck")
        HW67 A 0 A_JumpIfInventory("Cell",2,"FireWaterCheck")
        goto FireDry

      FireWaterCheck:
        HW67 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"FireDry")
        goto FireStart

      FireDry:
        HW63 A 0 A_PlaySound("halflife/weaponempty",CHAN_6)
        HW63 A 0 A_ClearReFire
        HW63 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"FireDryShephard")
        HW63 A 4 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        goto ReadyActual

      Hold:
        HW67 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"HoldWaterCheck")
        HW67 A 0 A_JumpIfInventory("Cell",2,"HoldWaterCheck")
        goto HoldDry

      HoldWaterCheck:
        HW67 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"HoldDry")
        goto FireStart

      HoldDry:
        HW67 H 0 A_PlaySound("halflife/weaponempty",CHAN_6)
        HW67 H 0 A_ClearReFire
        HW67 H 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"HoldDryShephard")
        HW67 HI 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW67 J 0 A_PlaySound("halflife/gauss_zapp",CHAN_WEAPON)
        HW67 JKLMNO 2 A_WeaponReady(WRF_NOFIRE)
        HW67 PQRSTUVWXYZ 1 A_WeaponReady(WRF_NOFIRE)
        HW68 ABCDEFGHIJKLMNO 1 A_WeaponReady(WRF_NOFIRE)
        goto ReadyActual

      FireStart:
        HW67 A 0 A_AlertMonsters
        HW67 A 0 A_GiveInventory("SamsaraHalfLifeGaussGunPrimaryAttackHandler")
        HW67 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"FireStartShephard")
        HW67 AB 1 Bright A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW67 CDEFG 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        // pain
        HW67 H 0 A_ReFire HW67 H 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW67 I 0 A_ReFire HW67 I 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW67 J 0 A_PlaySound("halflife/gauss_zapp",CHAN_WEAPON)
        HW67 J 0 A_ReFire HW67 J 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW67 K 0 A_ReFire HW67 K 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW67 L 0 A_ReFire HW67 L 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW67 M 0 A_ReFire HW67 M 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW67 N 0 A_ReFire HW67 N 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW67 O 0 A_ReFire HW67 O 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW67 P 0 A_ReFire HW67 P 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW67 Q 0 A_ReFire HW67 Q 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW67 R 0 A_ReFire HW67 R 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW67 S 0 A_ReFire HW67 S 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW67 T 0 A_ReFire HW67 T 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW67 U 0 A_ReFire HW67 U 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW67 V 0 A_ReFire HW67 V 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW67 W 0 A_ReFire HW67 W 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW67 X 0 A_ReFire HW67 X 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW67 Y 0 A_ReFire HW67 Y 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW67 Z 0 A_ReFire HW67 Z 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW68 A 0 A_ReFire HW68 A 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW68 B 0 A_ReFire HW68 B 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW68 C 0 A_ReFire HW68 C 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW68 D 0 A_ReFire HW68 D 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW68 E 0 A_ReFire HW68 E 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW68 F 0 A_ReFire HW68 F 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW68 G 0 A_ReFire HW68 G 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW68 H 0 A_ReFire HW68 H 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW68 I 0 A_ReFire HW68 I 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW68 J 0 A_ReFire HW68 J 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW68 K 0 A_ReFire HW68 K 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW68 L 0 A_ReFire HW68 L 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW68 M 0 A_ReFire HW68 M 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW68 N 0 A_ReFire HW68 N 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW68 O 0 A_ReFire HW68 O 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        goto ReadyActual

      AltFire:
        HW64 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"AltFireWaterCheck")
        HW64 A 0 A_JumpIfInventory("Cell",1,"AltFireWaterCheck")
        goto FireDry

      AltFireWaterCheck:
        HW64 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"FireDry")
        goto AltFireChargeCheck

      AltHold:
        HW64 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"AltHoldWaterCheck")
        HW64 A 0 A_JumpIfInventory("Cell",1,"AltHoldWaterCheck")
        goto AltHoldDry

      AltHoldWaterCheck:
        HW64 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"AltHoldDry")
        goto AltFireChargeCheck

      AltHoldDry:
        HW63 A 0 A_TakeInventory("HLGaussLoop")
        HW63 A 0 A_TakeInventory("HLGaussCharged")
        HW63 A 0 A_TakeInventory("HLGaussSpinTrigger")
        HW63 A 0 A_TakeInventory("HLGaussCounter")
        HW63 A 0 A_PlaySound("silence",CHAN_WEAPON)
        HW63 A 0 A_StopSound(CHAN_WEAPON)
        goto FireDry

      AltFireChargeCheck:
        HW64 A 0 A_JumpIfInventory("HLGaussCounter",0,"AltFireCharge")
        HW64 A 0 ACS_NamedExecuteWithResult("HLGaussScript")
        HW64 A 0 A_JumpIfInventory("HLGaussChargeAddCounter",1,1)
        goto AltFireCharge
        HW64 A 0 A_TakeInventory("HLGaussChargeAddCounter")
        HW64 A 0 A_GiveInventory("HLGaussCounter")
        HW64 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,2)
        HW64 A 0 A_TakeInventory("Cell",1)
        HW64 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"AltFireCharge")
        HW64 A 0 A_JumpIfInventory("Cell",1,"AltFireCharge")
        goto AltFireStart

      AltFireCharge:
        HW64 A 0 A_JumpIfInventory("HLGaussCharged",0,"AltFireDischarge")
        HW64 A 0 A_JumpIfInventory("HLGaussCharged",100,"AltFireSwing")
        HW64 A 0 A_JumpIfInventory("HLGaussCharged",96,"AltFireCharging96")
        HW64 A 0 A_JumpIfInventory("HLGaussCharged",92,"AltFireCharging92")
        HW64 A 0 A_JumpIfInventory("HLGaussCharged",88,"AltFireCharging88")
        HW64 A 0 A_JumpIfInventory("HLGaussCharged",84,"AltFireCharging84")
        HW64 A 0 A_JumpIfInventory("HLGaussCharged",80,"AltFireCharging80")
        HW64 A 0 A_JumpIfInventory("HLGaussCharged",76,"AltFireCharging76")
        HW64 A 0 A_JumpIfInventory("HLGaussCharged",72,"AltFireCharging72")
        HW64 A 0 A_JumpIfInventory("HLGaussCharged",68,"AltFireCharging68")
        HW64 A 0 A_JumpIfInventory("HLGaussCharged",64,"AltFireCharging64")
        HW64 A 0 A_JumpIfInventory("HLGaussCharged",60,"AltFireCharging60")
        HW64 A 0 A_JumpIfInventory("HLGaussCharged",56,"AltFireCharging56")
        HW64 A 0 A_JumpIfInventory("HLGaussCharged",52,"AltFireCharging52")
        HW64 A 0 A_JumpIfInventory("HLGaussCharged",48,"AltFireCharging48")
        HW64 A 0 A_JumpIfInventory("HLGaussCharged",44,"AltFireCharging44")
        HW64 A 0 A_JumpIfInventory("HLGaussCharged",40,"AltFireCharging40")
        HW64 A 0 A_JumpIfInventory("HLGaussCharged",36,"AltFireCharging36")
        HW64 A 0 A_JumpIfInventory("HLGaussCharged",32,"AltFireCharging32")
        HW64 A 0 A_JumpIfInventory("HLGaussCharged",28,"AltFireCharging28")
        HW64 A 0 A_JumpIfInventory("HLGaussCharged",24,"AltFireCharging24")
        HW64 A 0 A_JumpIfInventory("HLGaussCharged",20,"AltFireCharging20")
        HW64 A 0 A_JumpIfInventory("HLGaussCharged",16,"AltFireCharging16")
        HW64 A 0 A_JumpIfInventory("HLGaussCharged",12,"AltFireCharging12")
        HW64 A 0 A_JumpIfInventory("HLGaussCharged",8,"AltFireCharging8")
        HW64 A 0 A_JumpIfInventory("HLGaussCharged",4,"AltFireCharging4")
        goto AltFireCharging0

      AltFireCharging0:
        HW64 A 0 A_PlaySound("halflife/gauss_charge",CHAN_WEAPON)
        HW64 A 0 A_GiveInventory("HLGaussCharged",4)
        HW64 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireCharging0Shephard")
        HW64 ABC 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW64 D 0 A_ReFire
        goto AltFireStart

      AltFireCharging4:
        HW64 D 0 A_GiveInventory("HLGaussCharged",4)
        HW64 D 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireCharging4Shephard")
        HW64 D 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW64 E 0 A_ReFire
        goto AltFireStart

      AltFireCharging8:
        HW64 E 0 A_GiveInventory("HLGaussCharged",4)
        HW64 E 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireCharging8Shephard")
        HW64 E 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW64 F 0 A_ReFire
        goto AltFireStart

      AltFireCharging12:
        HW64 F 0 A_GiveInventory("HLGaussCharged",4)
        HW64 F 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireCharging12Shephard")
        HW64 F 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW64 G 0 A_ReFire
        goto AltFireStart

      AltFireCharging16:
        HW64 G 0 A_GiveInventory("HLGaussCharged",4)
        HW64 G 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireCharging16Shephard")
        HW64 G 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW64 H 0 A_ReFire
        goto AltFireStart

      AltFireCharging20:
        HW64 H 0 A_GiveInventory("HLGaussCharged",4)
        HW64 H 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireCharging20Shephard")
        HW64 H 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW64 I 0 A_ReFire
        goto AltFireStart

      AltFireCharging24:
        HW64 I 0 A_GiveInventory("HLGaussCharged",4)
        HW64 I 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireCharging24Shephard")
        HW64 I 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW64 J 0 A_ReFire
        goto AltFireStart

      AltFireCharging28:
        HW64 J 0 A_GiveInventory("HLGaussCharged",4)
        HW64 J 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireCharging28Shephard")
        HW64 J 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW64 K 0 A_ReFire
        goto AltFireStart

      AltFireCharging32:
        HW64 K 0 A_GiveInventory("HLGaussCharged",4)
        HW64 K 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireCharging32Shephard")
        HW64 K 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW64 L 0 A_ReFire
        goto AltFireStart

      AltFireCharging36:
        HW64 L 0 A_GiveInventory("HLGaussCharged",4)
        HW64 L 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireCharging36Shephard")
        HW64 L 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW64 M 0 A_ReFire
        goto AltFireStart

      AltFireCharging40:
        HW64 M 0 A_GiveInventory("HLGaussCharged",4)
        HW64 M 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireCharging40Shephard")
        HW64 M 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW64 N 0 A_ReFire
        goto AltFireStart

      AltFireCharging44:
        HW64 N 0 A_GiveInventory("HLGaussCharged",4)
        HW64 N 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireCharging44Shephard")
        HW64 N 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW64 O 0 A_ReFire
        goto AltFireStart

      AltFireCharging48:
        HW64 O 0 A_GiveInventory("HLGaussCharged",4)
        HW64 O 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireCharging48Shephard")
        HW64 O 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW64 P 0 A_ReFire
        goto AltFireStart

      AltFireCharging52:
        HW64 P 0 A_GiveInventory("HLGaussCharged",4)
        HW64 P 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireCharging52Shephard")
        HW64 P 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW64 Q 0 A_ReFire
        goto AltFireStart

      AltFireCharging56:
        HW64 Q 0 A_GiveInventory("HLGaussCharged",4)
        HW64 Q 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireCharging56Shephard")
        HW64 Q 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW64 R 0 A_ReFire
        goto AltFireStart

      AltFireCharging60:
        HW64 R 0 A_GiveInventory("HLGaussCharged",4)
        HW64 R 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireCharging60Shephard")
        HW64 R 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW64 S 0 A_ReFire
        goto AltFireStart

      AltFireCharging64:
        HW64 S 0 A_GiveInventory("HLGaussCharged",4)
        HW64 S 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireCharging64Shephard")
        HW64 S 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW64 T 0 A_ReFire
        goto AltFireStart

      AltFireCharging68:
        HW64 T 0 A_GiveInventory("HLGaussCharged",4)
        HW64 T 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireCharging68Shephard")
        HW64 T 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW64 U 0 A_ReFire
        goto AltFireStart

      AltFireCharging72:
        HW64 U 0 A_GiveInventory("HLGaussCharged",4)
        HW64 U 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireCharging72Shephard")
        HW64 U 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW64 V 0 A_ReFire
        goto AltFireStart

      AltFireCharging76:
        HW64 V 0 A_GiveInventory("HLGaussCharged",4)
        HW64 V 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireCharging76Shephard")
        HW64 V 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW64 W 0 A_ReFire
        goto AltFireStart

      AltFireCharging80:
        HW64 W 0 A_GiveInventory("HLGaussCharged",4)
        HW64 W 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireCharging80Shephard")
        HW64 W 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW64 X 0 A_ReFire
        goto AltFireStart

      AltFireCharging84:
        HW64 X 0 A_GiveInventory("HLGaussCharged",4)
        HW64 X 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireCharging84Shephard")
        HW64 X 0 A_JumpIfInventory("SamsaraHasDoubleFiringSpeed",1,2)
        HW64 XY 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW64 Z 0 A_ReFire
        goto AltFireStart

      AltFireCharging88:
        HW64 Z 0 A_GiveInventory("HLGaussCharged",4)
        HW64 Z 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireCharging88Shephard")
        HW64 Z 0 A_JumpIfInventory("SamsaraHasDoubleFiringSpeed",1,2)
        HW64 Z 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW65 A 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW65 B 0 A_ReFire
        goto AltFireStart

      AltFireCharging92:
        HW65 B 0 A_GiveInventory("HLGaussCharged",4)
        HW65 B 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireCharging92Shephard")
        HW65 B 0 A_JumpIfInventory("SamsaraHasDoubleFiringSpeed",1,2)
        HW65 BC 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW65 D 0 A_ReFire
        goto AltFireStart

      AltFireCharging96:
        HW65 D 0 A_GiveInventory("HLGaussCharged",4)
        HW65 D 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireCharging96Shephard")
        HW65 D 0 A_JumpIfInventory("SamsaraHasDoubleFiringSpeed",1,2)
        HW65 DE 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW66 A 0 A_ReFire
        goto AltFireStart

      AltFireSwing:
        HW66 A 0 A_GiveInventory("HLGaussCharged",4)
        HW66 A 0 A_JumpIfInventory("HLGaussLoop",0,"AltFireSwing14")
        HW66 A 0 A_JumpIfInventory("HLGaussLoop",13,"AltFireSwing13")
        HW66 A 0 A_JumpIfInventory("HLGaussLoop",12,"AltFireSwing12")
        HW66 A 0 A_JumpIfInventory("HLGaussLoop",11,"AltFireSwing11")
        HW66 A 0 A_JumpIfInventory("HLGaussLoop",10,"AltFireSwing10")
        HW66 A 0 A_JumpIfInventory("HLGaussLoop",9,"AltFireSwing9")
        HW66 A 0 A_JumpIfInventory("HLGaussLoop",8,"AltFireSwing8")
        HW66 A 0 A_JumpIfInventory("HLGaussLoop",7,"AltFireSwing7")
        HW66 A 0 A_JumpIfInventory("HLGaussLoop",6,"AltFireSwing6")
        HW66 A 0 A_JumpIfInventory("HLGaussLoop",5,"AltFireSwing5")
        HW66 A 0 A_JumpIfInventory("HLGaussLoop",4,"AltFireSwing4")
        HW66 A 0 A_JumpIfInventory("HLGaussLoop",3,"AltFireSwing3")
        HW66 A 0 A_JumpIfInventory("HLGaussLoop",2,"AltFireSwing2")
        HW66 A 0 A_JumpIfInventory("HLGaussLoop",1,"AltFireSwing1")
        goto AltFireSwing0

      AltFireSwing0:
        HW66 A 0 A_GiveInventory("HLGaussLoop")
        HW66 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireSwing0Shephard")
        HW66 A 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW66 B 0 A_ReFire
        goto AltFireStart

      AltFireSwing1:
        HW66 B 0 A_GiveInventory("HLGaussLoop")
        HW66 B 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireSwing1Shephard")
        HW66 B 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW66 C 0 A_ReFire
        goto AltFireStart

      AltFireSwing2:
        HW66 C 0 A_GiveInventory("HLGaussLoop")
        HW66 C 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireSwing2Shephard")
        HW66 C 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW66 D 0 A_ReFire
        goto AltFireStart

      AltFireSwing3:
        HW66 D 0 A_GiveInventory("HLGaussLoop")
        HW66 D 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireSwing3Shephard")
        HW66 D 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW66 E 0 A_ReFire
        goto AltFireStart

      AltFireSwing4:
        HW66 E 0 A_GiveInventory("HLGaussLoop")
        HW66 E 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireSwing4Shephard")
        HW66 E 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW66 F 0 A_ReFire
        goto AltFireStart

      AltFireSwing5:
        HW66 F 0 A_GiveInventory("HLGaussLoop")
        HW66 F 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireSwing5Shephard")
        HW66 F 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW66 G 0 A_ReFire
        goto AltFireStart

      AltFireSwing6:
        HW66 G 0 A_GiveInventory("HLGaussLoop")
        HW66 G 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireSwing6Shephard")
        HW66 G 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW66 H 0 A_ReFire
        goto AltFireStart

      AltFireSwing7:
        HW66 H 0 A_GiveInventory("HLGaussLoop")
        HW66 H 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireSwing7Shephard")
        HW66 H 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW66 I 0 A_ReFire
        goto AltFireStart

      AltFireSwing8:
        HW66 I 0 A_GiveInventory("HLGaussLoop")
        HW66 I 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireSwing8Shephard")
        HW66 I 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW66 J 0 A_ReFire
        goto AltFireStart

      AltFireSwing9:
        HW66 J 0 A_GiveInventory("HLGaussLoop")
        HW66 J 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireSwing9Shephard")
        HW66 J 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW66 K 0 A_ReFire
        goto AltFireStart

      AltFireSwing10:
        HW66 K 0 A_GiveInventory("HLGaussLoop")
        HW66 K 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireSwing10Shephard")
        HW66 K 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW66 L 0 A_ReFire
        goto AltFireStart

      AltFireSwing11:
        HW66 L 0 A_GiveInventory("HLGaussLoop")
        HW66 L 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireSwing11Shephard")
        HW66 L 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW66 M 0 A_ReFire
        goto AltFireStart

      AltFireSwing12:
        HW66 M 0 A_GiveInventory("HLGaussLoop")
        HW66 M 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireSwing12Shephard")
        HW66 M 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW66 N 0 A_ReFire
        goto AltFireStart

      AltFireSwing13:
        HW66 N 0 A_GiveInventory("HLGaussLoop")
        HW66 N 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireSwing13Shephard")
        HW66 N 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW66 O 0 A_ReFire
        goto AltFireStart

      AltFireSwing14:
        HW66 O 0 A_JumpIfInventory("HLGaussSpinTrigger",0,1)
        goto AltFireSwing14Continue
        HW66 O 0 A_PlaySound("halflife/gauss_spin",CHAN_WEAPON,1.0,true)
        goto AltFireSwing14Continue

      AltFireSwing14Continue:
        HW66 O 0 A_GiveInventory("HLGaussSpinTrigger")
        HW66 O 0 A_TakeInventory("HLGaussLoop")
        HW66 O 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireSwing14ContinueShephard")
        HW66 O 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW66 A 0 A_ReFire
        goto AltFireStart

      AltFireDischarge:
        HW63 A 0 A_ClearReFire
        HW63 A 0 A_GiveInventory("SamsaraHalfLifeGaussGunOverchargeAttackHandler")
        HW63 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireDischargeShephard")
        HW63 A 35 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        goto ReadyActual

      AltFireStart:
        HW67 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"AltHoldDry")
        HW67 A 0 A_ClearReFire
        HW67 A 0 A_AlertMonsters
        HW67 A 0 A_GiveInventory("SamsaraHalfLifeGaussGunSecondaryAttackHandler")
        HW67 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"AltFireStartShephard")
        HW67 A 1 Bright A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW67 B 2 Bright A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW67 CDEF 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW67 G 0 A_PlaySound("halflife/gauss_zapp",CHAN_WEAPON)
        HW67 G 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW67 HIJKLMNO 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW67 PQR 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW67 STUVW 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW67 XY 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW67 Z 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW68 ABC 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW68 DEF 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW68 GH 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        HW68 IJKLMNO 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        goto ReadyActual

      // Adrian Shephard
      ReadyActualShephard:
        SW63 A 2 A_WeaponReady
        goto ReadyActualJump

      ReadyActualIdle1Shephard:
        SW63 A 1 A_WeaponReady
        SW62 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        SW69 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        SW70 ABCDEFGH 1 A_WeaponReady
        goto ReadyActual

      ReadyActualIdle2Shephard:
        SW70 IJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        SW71 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        SW72 ABCDEFGHIJKLMNOPQ 1 A_WeaponReady
        goto ReadyActual

      ReadyActualIdle3Shephard:
        SW63 A 1 A_WeaponReady
        SW72 RSTUVWXYZ 1 A_WeaponReady
        SW73 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        SW74 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        SW75 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        SW76 ABCD 1 A_WeaponReady
        goto ReadyActual

      ReadyShephard:
        SW60 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        SW61 ABCDEFGHIJ 1 A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        goto ReadyActual

      FireDryShephard:
        SW63 A 4 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        goto ReadyActual

      HoldDryShephard:
        SW67 HI 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW67 J 0 A_PlaySound("halflife/gauss_zapp",CHAN_WEAPON)
        SW67 JKLMNO 2 A_WeaponReady(WRF_NOFIRE)
        SW67 PQRSTUVWXYZ 1 A_WeaponReady(WRF_NOFIRE)
        SW68 ABCDEFGHIJKLMNO 1 A_WeaponReady(WRF_NOFIRE)
        goto ReadyActual

      FireStartShephard:
        SW67 AB 1 Bright A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW67 CDEFG 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        // pain
        SW67 H 0 A_ReFire SW67 H 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW67 I 0 A_ReFire SW67 I 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW67 J 0 A_PlaySound("halflife/gauss_zapp",CHAN_WEAPON)
        SW67 J 0 A_ReFire SW67 J 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW67 K 0 A_ReFire SW67 K 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW67 L 0 A_ReFire SW67 L 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW67 M 0 A_ReFire SW67 M 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW67 N 0 A_ReFire SW67 N 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW67 O 0 A_ReFire SW67 O 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW67 P 0 A_ReFire SW67 P 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW67 Q 0 A_ReFire SW67 Q 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW67 R 0 A_ReFire SW67 R 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW67 S 0 A_ReFire SW67 S 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW67 T 0 A_ReFire SW67 T 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW67 U 0 A_ReFire SW67 U 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW67 V 0 A_ReFire SW67 V 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW67 W 0 A_ReFire SW67 W 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW67 X 0 A_ReFire SW67 X 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW67 Y 0 A_ReFire SW67 Y 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW67 Z 0 A_ReFire SW67 Z 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW68 A 0 A_ReFire SW68 A 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW68 B 0 A_ReFire SW68 B 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW68 C 0 A_ReFire SW68 C 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW68 D 0 A_ReFire SW68 D 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW68 E 0 A_ReFire SW68 E 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW68 F 0 A_ReFire SW68 F 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW68 G 0 A_ReFire SW68 G 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW68 H 0 A_ReFire SW68 H 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW68 I 0 A_ReFire SW68 I 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW68 J 0 A_ReFire SW68 J 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW68 K 0 A_ReFire SW68 K 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW68 L 0 A_ReFire SW68 L 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW68 M 0 A_ReFire SW68 M 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW68 N 0 A_ReFire SW68 N 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW68 O 0 A_ReFire SW68 O 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        goto ReadyActual

      AltFireCharging0Shephard:
        SW64 ABC 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW64 D 0 A_ReFire
        goto AltFireStart

      AltFireCharging4Shephard:
        SW64 D 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW64 E 0 A_ReFire
        goto AltFireStart

      AltFireCharging8Shephard:
        SW64 E 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW64 F 0 A_ReFire
        goto AltFireStart

      AltFireCharging12Shephard:
        SW64 F 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW64 G 0 A_ReFire
        goto AltFireStart

      AltFireCharging16Shephard:
        SW64 G 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW64 H 0 A_ReFire
        goto AltFireStart

      AltFireCharging20Shephard:
        SW64 H 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW64 I 0 A_ReFire
        goto AltFireStart

      AltFireCharging24Shephard:
        SW64 I 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW64 J 0 A_ReFire
        goto AltFireStart

      AltFireCharging28Shephard:
        SW64 J 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW64 K 0 A_ReFire
        goto AltFireStart

      AltFireCharging32Shephard:
        SW64 K 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW64 L 0 A_ReFire
        goto AltFireStart

      AltFireCharging36Shephard:
        SW64 L 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW64 M 0 A_ReFire
        goto AltFireStart

      AltFireCharging40Shephard:
        SW64 M 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW64 N 0 A_ReFire
        goto AltFireStart

      AltFireCharging44Shephard:
        SW64 N 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW64 O 0 A_ReFire
        goto AltFireStart

      AltFireCharging48Shephard:
        SW64 O 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW64 P 0 A_ReFire
        goto AltFireStart

      AltFireCharging52Shephard:
        SW64 P 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW64 Q 0 A_ReFire
        goto AltFireStart

      AltFireCharging56Shephard:
        SW64 Q 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW64 R 0 A_ReFire
        goto AltFireStart

      AltFireCharging60Shephard:
        SW64 R 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW64 S 0 A_ReFire
        goto AltFireStart

      AltFireCharging64Shephard:
        SW64 S 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW64 T 0 A_ReFire
        goto AltFireStart

      AltFireCharging68Shephard:
        SW64 T 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW64 U 0 A_ReFire
        goto AltFireStart

      AltFireCharging72Shephard:
        SW64 U 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW64 V 0 A_ReFire
        goto AltFireStart

      AltFireCharging76Shephard:
        SW64 V 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW64 W 0 A_ReFire
        goto AltFireStart

      AltFireCharging80Shephard:
        SW64 W 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW64 X 0 A_ReFire
        goto AltFireStart

      AltFireCharging84Shephard:
        SW64 X 0 A_JumpIfInventory("SamsaraHasDoubleFiringSpeed",1,2)
        SW64 XY 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW64 Z 0 A_ReFire
        goto AltFireStart

      AltFireCharging88Shephard:
        SW64 Z 0 A_JumpIfInventory("SamsaraHasDoubleFiringSpeed",1,2)
        SW64 Z 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW65 A 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW65 B 0 A_ReFire
        goto AltFireStart

      AltFireCharging92Shephard:
        SW65 B 0 A_JumpIfInventory("SamsaraHasDoubleFiringSpeed",1,2)
        SW65 BC 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW65 D 0 A_ReFire
        goto AltFireStart

      AltFireCharging96Shephard:
        SW65 D 0 A_JumpIfInventory("SamsaraHasDoubleFiringSpeed",1,2)
        SW65 DE 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW66 A 0 A_ReFire
        goto AltFireStart

      AltFireSwing0Shephard:
        SW66 A 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW66 B 0 A_ReFire
        goto AltFireStart

      AltFireSwing1Shephard:
        SW66 B 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW66 C 0 A_ReFire
        goto AltFireStart

      AltFireSwing2Shephard:
        SW66 C 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW66 D 0 A_ReFire
        goto AltFireStart

      AltFireSwing3Shephard:
        SW66 D 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW66 E 0 A_ReFire
        goto AltFireStart

      AltFireSwing4Shephard:
        SW66 E 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW66 F 0 A_ReFire
        goto AltFireStart

      AltFireSwing5Shephard:
        SW66 F 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW66 G 0 A_ReFire
        goto AltFireStart

      AltFireSwing6Shephard:
        SW66 G 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW66 H 0 A_ReFire
        goto AltFireStart

      AltFireSwing7Shephard:
        SW66 H 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW66 I 0 A_ReFire
        goto AltFireStart

      AltFireSwing8Shephard:
        SW66 I 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW66 J 0 A_ReFire
        goto AltFireStart

      AltFireSwing9Shephard:
        SW66 J 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW66 K 0 A_ReFire
        goto AltFireStart

      AltFireSwing10Shephard:
        SW66 K 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW66 L 0 A_ReFire
        goto AltFireStart

      AltFireSwing11Shephard:
        SW66 L 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW66 M 0 A_ReFire
        goto AltFireStart

      AltFireSwing12Shephard:
        SW66 M 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW66 N 0 A_ReFire
        goto AltFireStart

      AltFireSwing13Shephard:
        SW66 N 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW66 O 0 A_ReFire
        goto AltFireStart

      AltFireSwing14ContinueShephard:
        SW66 O 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW66 A 0 A_ReFire
        goto AltFireStart

      AltFireDischargeShephard:
        SW63 A 35 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        goto ReadyActual

      AltFireStartShephard:
        SW67 A 1 Bright A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW67 B 2 Bright A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW67 CDEF 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW67 G 0 A_PlaySound("halflife/gauss_zapp",CHAN_WEAPON)
        SW67 G 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW67 HIJKLMNO 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW67 PQR 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW67 STUVW 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW67 XY 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW67 Z 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW68 ABC 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW68 DEF 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW68 GH 2 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        SW68 IJKLMNO 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        goto ReadyActual
    }
}

actor SamsaraHalfLifeGaussGunPrimaryAttackHandler : Trigger
{
    States
    {
      // Ammo checking/taking stuff
      Pickup:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"PickupAttack")
        TNT1 A 0 A_JumpIfInventory("Cell",2,1)
        stop
        TNT1 A 0 A_TakeInventory("Cell",2)
        goto PickupAttack

      // Attack stuff
      PickupAttack:
        TNT1 A 0 A_PlaySound("halflife/gauss_shoot",CHAN_WEAPON)
        TNT1 A 0 A_TakeInventory("SamsaraRGPPage")
        TNT1 A 0 A_JumpIfInventory("SPModeOn",1,"PickupAttackCoop")
        TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"PickupAttackCoop")
      PickupAttackDM:
        TNT1 A 0 A_FireCustomMissile("HLGaussKiller",0,false,5)
        goto PickupFinish

      PickupAttackCoop:
        TNT1 A 0 A_FireCustomMissile("HLGaussKillerCoop",0,false,5)
        goto PickupFinish

      // Finishing stuff
      PickupFinish:
        TNT1 A 0 ACS_NamedExecuteAlways("HalfLifeRecoil", 0, 5)
        stop
    }
}

actor SamsaraHalfLifeGaussGunSecondaryAttackHandler : Trigger
{
    States
    {
      // Attack stuff
      Pickup:
        TNT1 A 0 A_PlaySound("halflife/gauss_shoot",CHAN_WEAPON)
        TNT1 A 0 A_TakeInventory("SamsaraRGPPage")
        TNT1 A 0 A_GiveInventory("SamsaraRGPPage")
        TNT1 A 0 A_JumpIfInventory("HLGaussCharged",300,"Pickup100")
        TNT1 A 0 A_JumpIfInventory("HLGaussCharged",270,"Pickup90")
        TNT1 A 0 A_JumpIfInventory("HLGaussCharged",240,"Pickup80")
        TNT1 A 0 A_JumpIfInventory("HLGaussCharged",210,"Pickup70")
        TNT1 A 0 A_JumpIfInventory("HLGaussCharged",180,"Pickup60")
        TNT1 A 0 A_JumpIfInventory("HLGaussCharged",150,"Pickup50")
        TNT1 A 0 A_JumpIfInventory("HLGaussCharged",120,"Pickup40")
        TNT1 A 0 A_JumpIfInventory("HLGaussCharged",90,"Pickup30")
        TNT1 A 0 A_JumpIfInventory("HLGaussCharged",60,"Pickup20")
        TNT1 A 0 A_JumpIfInventory("HLGaussCharged",30,"Pickup10")
      // 0% charge
      Pickup0:
        TNT1 A 0 A_JumpIfInventory("SPModeOn",1,"Pickup0Coop")
        TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"Pickup0Coop")
      Pickup0DM:
        TNT1 A 0 A_FireCustomMissile("HLGaussKillerCharged0",0,false,5)
        goto PickupRecoil0

      Pickup0Coop:
        TNT1 A 0 A_FireCustomMissile("HLGaussKillerCharged0_Coop",0,false,5)
        goto PickupRecoil0

      // 10% charge
      Pickup10:
        TNT1 A 0 A_JumpIfInventory("SPModeOn",1,"Pickup10Coop")
        TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"Pickup10Coop")
      Pickup10DM:
        TNT1 A 0 A_FireCustomMissile("HLGaussKillerCharged10",0,false,5)
        goto PickupRecoil10

      Pickup10Coop:
        TNT1 A 0 A_FireCustomMissile("HLGaussKillerCharged10_Coop",0,false,5)
        goto PickupRecoil10

      // 20% charge
      Pickup20:
        TNT1 A 0 A_JumpIfInventory("SPModeOn",1,"Pickup20Coop")
        TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"Pickup20Coop")
      Pickup20DM:
        TNT1 A 0 A_FireCustomMissile("HLGaussKillerCharged20",0,false,5)
        goto PickupRecoil20

      Pickup20Coop:
        TNT1 A 0 A_FireCustomMissile("HLGaussKillerCharged20_Coop",0,false,5)
        goto PickupRecoil20

      // 30% charge
      Pickup30:
        TNT1 A 0 A_JumpIfInventory("SPModeOn",1,"Pickup30Coop")
        TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"Pickup30Coop")
      Pickup30DM:
        TNT1 A 0 A_FireCustomMissile("HLGaussKillerCharged30",0,false,5)
        goto PickupRecoil30

      Pickup30Coop:
        TNT1 A 0 A_FireCustomMissile("HLGaussKillerCharged30_Coop",0,false,5)
        goto PickupRecoil30

      // 40% charge
      Pickup40:
        TNT1 A 0 A_JumpIfInventory("SPModeOn",1,"Pickup40Coop")
        TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"Pickup40Coop")
      Pickup40DM:
        TNT1 A 0 A_FireCustomMissile("HLGaussKillerCharged40",0,false,5)
        goto PickupRecoil40

      Pickup40Coop:
        TNT1 A 0 A_FireCustomMissile("HLGaussKillerCharged40_Coop",0,false,5)
        goto PickupRecoil40

      // 50% charge
      Pickup50:
        TNT1 A 0 A_JumpIfInventory("SPModeOn",1,"Pickup50Coop")
        TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"Pickup50Coop")
      Pickup50DM:
        TNT1 A 0 A_FireCustomMissile("HLGaussKillerCharged50",0,false,5)
        goto PickupRecoil50

      Pickup50Coop:
        TNT1 A 0 A_FireCustomMissile("HLGaussKillerCharged50_Coop",0,false,5)
        goto PickupRecoil50

      // 60% charge
      Pickup60:
        TNT1 A 0 A_JumpIfInventory("SPModeOn",1,"Pickup60Coop")
        TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"Pickup60Coop")
      Pickup60DM:
        TNT1 A 0 A_FireCustomMissile("HLGaussKillerCharged60",0,false,5)
        goto PickupRecoil60

      Pickup60Coop:
        TNT1 A 0 A_FireCustomMissile("HLGaussKillerCharged60_Coop",0,false,5)
        goto PickupRecoil60

      // 70% charge
      Pickup70:
        TNT1 A 0 A_JumpIfInventory("SPModeOn",1,"Pickup70Coop")
        TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"Pickup70Coop")
      Pickup70DM:
        TNT1 A 0 A_FireCustomMissile("HLGaussKillerCharged70",0,false,5)
        goto PickupRecoil70

      Pickup70Coop:
        TNT1 A 0 A_FireCustomMissile("HLGaussKillerCharged70_Coop",0,false,5)
        goto PickupRecoil70

      // 80% charge
      Pickup80:
        TNT1 A 0 A_JumpIfInventory("SPModeOn",1,"Pickup80Coop")
        TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"Pickup80Coop")
      Pickup80DM:
        TNT1 A 0 A_FireCustomMissile("HLGaussKillerCharged80",0,false,5)
        goto PickupRecoil80

      Pickup80Coop:
        TNT1 A 0 A_FireCustomMissile("HLGaussKillerCharged80_Coop",0,false,5)
        goto PickupRecoil80

      // 90% charge
      Pickup90:
        TNT1 A 0 A_JumpIfInventory("SPModeOn",1,"Pickup90Coop")
        TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"Pickup90Coop")
      Pickup90DM:
        TNT1 A 0 A_FireCustomMissile("HLGaussKillerCharged90",0,false,5)
        goto PickupRecoil90

      Pickup90Coop:
        TNT1 A 0 A_FireCustomMissile("HLGaussKillerCharged90_Coop",0,false,5)
        goto PickupRecoil90

      // 100% charge
      Pickup100:
        TNT1 A 0 A_JumpIfInventory("SPModeOn",1,"Pickup100Coop")
        TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"Pickup100Coop")
      Pickup100DM:
        TNT1 A 0 A_FireCustomMissile("HLGaussKillerCharged100",0,false,5)
        goto PickupRecoil100

      Pickup100Coop:
        TNT1 A 0 A_FireCustomMissile("HLGaussKillerCharged100_Coop",0,false,5)
        goto PickupRecoil100

      // Recoil stuff
      // 0% charge
      PickupRecoil0:
        TNT1 A 0 A_Recoil(3)
        goto PickupFinish

      // 10% charge
      PickupRecoil10:
        TNT1 A 0 A_Recoil(6)
        goto PickupFinish

      // 20% charge
      PickupRecoil20:
        TNT1 A 0 A_Recoil(9)
        goto PickupFinish

      // 30% charge
      PickupRecoil30:
        TNT1 A 0 A_Recoil(12)
        goto PickupFinish

      // 40% charge
      PickupRecoil40:
        TNT1 A 0 A_Recoil(15)
        goto PickupFinish

      // 50% charge
      PickupRecoil50:
        TNT1 A 0 A_Recoil(18)
        goto PickupFinish

      // 60% charge
      PickupRecoil60:
        TNT1 A 0 A_Recoil(21)
        goto PickupFinish

      // 70% charge
      PickupRecoil70:
        TNT1 A 0 A_Recoil(24)
        goto PickupFinish

      // 80% charge
      PickupRecoil80:
        TNT1 A 0 A_Recoil(27)
        goto PickupFinish

      // 90% charge
      PickupRecoil90:
        TNT1 A 0 A_Recoil(30)
        goto PickupFinish

      // 100% charge
      PickupRecoil100:
        TNT1 A 0 A_Recoil(33)
        goto PickupFinish

      // Finishing stuff
      PickupFinish:
        TNT1 A 0 A_TakeInventory("HLGaussLoop")
        TNT1 A 0 A_TakeInventory("HLGaussCharged")
        TNT1 A 0 A_TakeInventory("HLGaussSpinTrigger")
        TNT1 A 0 A_TakeInventory("HLGaussCounter")
        TNT1 A 0 ACS_NamedExecuteAlways("HalfLifeRecoil", 0, 5)
        stop
    }
}

actor SamsaraHalfLifeGaussGunOverchargeAttackHandler : Trigger
{
    States
    {
      // Attack stuff
      Pickup:
        TNT1 A 0 A_PlaySound("halflife/gauss_overcharge1",CHAN_WEAPON)
        TNT1 A 0 A_PlaySound("halflife/gauss_overcharge2",CHAN_5)
        TNT1 A 0 A_JumpIfInventory("SPModeOn",1,"PickupCoop")
        TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"PickupCoop")
      PickupDM:
        TNT1 A 0 A_FireCustomMissile("HLGaussKillMe",0,false)
        goto PickupFinish

      PickupCoop:
        TNT1 A 0 A_FireCustomMissile("HLGaussKillMeCoop",0,false)
        goto PickupFinish

      // Finishing stuff
      PickupFinish:
        TNT1 A 0 A_TakeInventory("HLGaussLoop")
        TNT1 A 0 A_TakeInventory("HLGaussCharged")
        TNT1 A 0 A_TakeInventory("HLGaussSpinTrigger")
        TNT1 A 0 A_TakeInventory("HLGaussCounter")
        TNT1 A 0 A_JumpIfInventory("WeaponFlashesAreDisabled",1,"PickupStop")
        TNT1 A 0 A_SetBlend("FF8000",0.5,100)
        stop
    }
}

Actor HLGaussKiller : FastProjectile
{
    PROJECTILE
    +EXTREMEDEATH
    +BLOODSPLATTER
    +SKYEXPLODE
    +DONTSPLASH
    +NOTIMEFREEZE
    +HITTRACER
    +FORCERADIUSDMG
    +EXPLODEONWATER
    +CANNOTPUSH
    +NODAMAGETHRUST
    +DONTBLAST
    Speed 300
    Radius 3
    Height 7
    Damagetype "HLLaser"
    Damage (40)
    States
    {
    Spawn:
        TNT1 A 1
        loop
    Death:
        TNT1 A 0 A_CheckFloor("Bounceplane")
        TNT1 A 0 A_SpawnItemEx("HLGaussPuff",0,0,0,0,0,0,0,SXF_CLIENTSIDE|SXF_NOCHECKPOSITION)
        goto XDeath2
    XDeath2:
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",0)
        stop
    BouncePlane:
        TNT1 A 0 ACS_NamedExecuteWithResult("HL2678",3)
        TNT1 A 0 A_CustomMissile("HLGaussKiller2",0,0,angle,CMF_ABSOLUTEANGLE|CMF_TRACKOWNER,-pitch)
        goto Death+2
    XDeath:
    Crash:
        //TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",40),10,!XF_HURTSOURCE,0,10)
        TNT1 AAAAAAAA 0 A_CustomMissile("HLGaussPuffSpark",0,0,random(0,359),CMF_AIMDIRECTION,random(-60,60))
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",0)
        Stop
    }
}

Actor HLGaussKiller2 : HLGaussKiller
{
    Damage (40)
    States
    {
    Spawn:
        TNT1 A 1
        loop
    Death:
        TNT1 A 0 A_SpawnItemEx("HLGaussPuff",0,0,0,0,0,0,0,SXF_CLIENTSIDE|SXF_NOCHECKPOSITION)
        goto XDeath2
    XDeath2:
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        stop
    XDeath:
    Crash:
        //TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",40),10,!XF_HURTSOURCE,0,10)
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        Stop
    }
}

Actor HLGaussKillerCoop : HLGaussKiller
{
    Species "Player"
    +THRUSPECIES
    +DONTHARMCLASS
    +DONTHARMSPECIES
}

Actor HLGaussKillerCharged0 : HLGaussKiller
{
    //+RIPPER
    //+NOBOSSRIP
    Damage(50)
    States
    {
    BouncePlane:
        TNT1 A 0 ACS_NamedExecuteWithResult("HL2678",3)
        TNT1 A 0 A_CustomMissile("HLGaussKillerCharged02",0,0,angle,CMF_ABSOLUTEANGLE|CMF_TRACKOWNER,-pitch)
        goto Death+2
    XDeath:
    Crash:
        //TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",50),10,!XF_HURTSOURCE,0,10)
        TNT1 AAAAAAAA 0 A_CustomMissile("HLGaussPuffSpark",0,0,random(0,359),CMF_AIMDIRECTION,random(-60,60))
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        Stop
    }
}

Actor HLGaussKillerCharged02 : HLGaussKillerCharged0
{
    States
    {
    Spawn:
        TNT1 A 1
        loop
    Death:
        TNT1 A 0 A_SpawnItemEx("HLGaussPuff",0,0,0,0,0,0,0,SXF_CLIENTSIDE|SXF_NOCHECKPOSITION)
        goto XDeath2
    XDeath2:
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        stop
    XDeath:
    Crash:
        //TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",50),10,!XF_HURTSOURCE,0,10)
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        Stop
    }
}

Actor HLGaussKillerCharged10 : HLGaussKillerCharged0
{
    Damage(85)
    States
    {
    BouncePlane:
        TNT1 A 0 ACS_NamedExecuteWithResult("HL2678",3)
        TNT1 A 0 A_CustomMissile("HLGaussKillerCharged102",0,0,angle,CMF_ABSOLUTEANGLE|CMF_TRACKOWNER,-pitch)
        goto Death+2
    XDeath:
    Crash:
        //TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",85),10,!XF_HURTSOURCE,0,10)
        TNT1 AAAAAAAA 0 A_CustomMissile("HLGaussPuffSpark",0,0,random(0,359),CMF_AIMDIRECTION,random(-60,60))
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        Stop
    }
}

Actor HLGaussKillerCharged102 : HLGaussKillerCharged10
{
    States
    {
    Spawn:
        TNT1 A 1
        loop
    Death:
        TNT1 A 0 A_SpawnItemEx("HLGaussPuff",0,0,0,0,0,0,0,SXF_CLIENTSIDE|SXF_NOCHECKPOSITION)
        goto XDeath2
    XDeath2:
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        stop
    XDeath:
    Crash:
        //TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",85),10,!XF_HURTSOURCE,0,10)
        TNT1 AAAAAAAA 0 A_CustomMissile("HLGaussPuffSpark",0,0,random(0,359),CMF_AIMDIRECTION,random(-60,60))
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        Stop
    }
}

Actor HLGaussKillerCharged20 : HLGaussKillerCharged0
{
    Damage(120)
    States
    {
    BouncePlane:
        TNT1 A 0 ACS_NamedExecuteWithResult("HL2678",3)
        TNT1 A 0 A_CustomMissile("HLGaussKillerCharged202",0,0,angle,CMF_ABSOLUTEANGLE|CMF_TRACKOWNER,-pitch)
        goto Death+2
    XDeath:
    Crash:
        //TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",120),10,!XF_HURTSOURCE,0,10)
        TNT1 AAAAAAAA 0 A_CustomMissile("HLGaussPuffSpark",0,0,random(0,359),CMF_AIMDIRECTION,random(-60,60))
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        Stop
    }
}

Actor HLGaussKillerCharged202 : HLGaussKillerCharged20
{
    States
    {
    Spawn:
        TNT1 A 1
        loop
    Death:
        TNT1 A 0 A_SpawnItemEx("HLGaussPuff",0,0,0,0,0,0,0,SXF_CLIENTSIDE|SXF_NOCHECKPOSITION)
        goto XDeath2
    XDeath2:
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        stop
    XDeath:
    Crash:
        //TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",120),10,!XF_HURTSOURCE,0,10)
        TNT1 AAAAAAAA 0 A_CustomMissile("HLGaussPuffSpark",0,0,random(0,359),CMF_AIMDIRECTION,random(-60,60))
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        Stop
    }
}

Actor HLGaussKillerCharged30 : HLGaussKillerCharged0
{
    Damage(155)
    States
    {
    BouncePlane:
        TNT1 A 0 ACS_NamedExecuteWithResult("HL2678",3)
        TNT1 A 0 A_CustomMissile("HLGaussKillerCharged302",0,0,angle,CMF_ABSOLUTEANGLE|CMF_TRACKOWNER,-pitch)
        goto Death+2
    XDeath:
    Crash:
        //TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",155),10,!XF_HURTSOURCE,0,10)
        TNT1 AAAAAAAA 0 A_CustomMissile("HLGaussPuffSpark",0,0,random(0,359),CMF_AIMDIRECTION,random(-60,60))
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        Stop
    }
}

Actor HLGaussKillerCharged302 : HLGaussKillerCharged30
{
    States
    {
    Spawn:
        TNT1 A 1
        loop
    Death:
        TNT1 A 0 A_SpawnItemEx("HLGaussPuff",0,0,0,0,0,0,0,SXF_CLIENTSIDE|SXF_NOCHECKPOSITION)
        goto XDeath2
    XDeath2:
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        stop
    XDeath:
    Crash:
        //TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",155),10,!XF_HURTSOURCE,0,10)
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        Stop
    }
}

Actor HLGaussKillerCharged40 : HLGaussKillerCharged0
{
    Damage(190)
    States
    {
    BouncePlane:
        TNT1 A 0 ACS_NamedExecuteWithResult("HL2678",3)
        TNT1 A 0 A_CustomMissile("HLGaussKillerCharged402",0,0,angle,CMF_ABSOLUTEANGLE|CMF_TRACKOWNER,-pitch)
        goto Death+2
    XDeath:
    Crash:
        //TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",190),10,!XF_HURTSOURCE,0,10)
        TNT1 AAAAAAAA 0 A_CustomMissile("HLGaussPuffSpark",0,0,random(0,359),CMF_AIMDIRECTION,random(-60,60))
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        Stop
    }
}

Actor HLGaussKillerCharged402 : HLGaussKillerCharged40
{
    States
    {
    Spawn:
        TNT1 A 1
        loop
    Death:
        TNT1 A 0 A_SpawnItemEx("HLGaussPuff",0,0,0,0,0,0,0,SXF_CLIENTSIDE|SXF_NOCHECKPOSITION)
        goto XDeath2
    XDeath2:
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        stop
    XDeath:
    Crash:
        //TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",190),10,!XF_HURTSOURCE,0,10)
        TNT1 AAAAAAAA 0 A_CustomMissile("HLGaussPuffSpark",0,0,random(0,359),CMF_AIMDIRECTION,random(-60,60))
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        Stop
    }
}

Actor HLGaussKillerCharged50 : HLGaussKillerCharged0
{
    Damage(225)
    States
    {
    BouncePlane:
        TNT1 A 0 ACS_NamedExecuteWithResult("HL2678",3)
        TNT1 A 0 A_CustomMissile("HLGaussKillerCharged502",0,0,angle,CMF_ABSOLUTEANGLE|CMF_TRACKOWNER,-pitch)
        goto Death+2
    XDeath:
    Crash:
        //TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",225),10,!XF_HURTSOURCE,0,10)
        TNT1 AAAAAAAA 0 A_CustomMissile("HLGaussPuffSpark",0,0,random(0,359),CMF_AIMDIRECTION,random(-60,60))
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        Stop
    }
}

Actor HLGaussKillerCharged502 : HLGaussKillerCharged50
{
    States
    {
    Spawn:
        TNT1 A 1
        loop
    Death:
        TNT1 A 0 A_SpawnItemEx("HLGaussPuff",0,0,0,0,0,0,0,SXF_CLIENTSIDE|SXF_NOCHECKPOSITION)
        goto XDeath2
    XDeath2:
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        stop
    XDeath:
    Crash:
        //TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",225),10,!XF_HURTSOURCE,0,10)
        TNT1 AAAAAAAA 0 A_CustomMissile("HLGaussPuffSpark",0,0,random(0,359),CMF_AIMDIRECTION,random(-60,60))
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        Stop
    }
}

Actor HLGaussKillerCharged60 : HLGaussKillerCharged0
{
    Damage(260)
    States
    {
    BouncePlane:
        TNT1 A 0 ACS_NamedExecuteWithResult("HL2678",3)
        TNT1 A 0 A_CustomMissile("HLGaussKillerCharged602",0,0,angle,CMF_ABSOLUTEANGLE|CMF_TRACKOWNER,-pitch)
        goto Death+2
    XDeath:
    Crash:
        //TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",260),10,!XF_HURTSOURCE,0,10)
        TNT1 AAAAAAAA 0 A_CustomMissile("HLGaussPuffSpark",0,0,random(0,359),CMF_AIMDIRECTION,random(-60,60))
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        Stop
    }
}

Actor HLGaussKillerCharged602 : HLGaussKillerCharged60
{
    States
    {
    Spawn:
        TNT1 A 1
        loop
    Death:
        TNT1 A 0 A_SpawnItemEx("HLGaussPuff",0,0,0,0,0,0,0,SXF_CLIENTSIDE|SXF_NOCHECKPOSITION)
        goto XDeath2
    XDeath2:
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        stop
    XDeath:
    Crash:
        //TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",260),10,!XF_HURTSOURCE,0,10)
        TNT1 AAAAAAAA 0 A_CustomMissile("HLGaussPuffSpark",0,0,random(0,359),CMF_AIMDIRECTION,random(-60,60))
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        Stop
    }
}

Actor HLGaussKillerCharged70 : HLGaussKillerCharged0
{
    Damage(295)
    States
    {
    BouncePlane:
        TNT1 A 0 ACS_NamedExecuteWithResult("HL2678",3)
        TNT1 A 0 A_CustomMissile("HLGaussKillerCharged702",0,0,angle,CMF_ABSOLUTEANGLE|CMF_TRACKOWNER,-pitch)
        goto Death+2
    XDeath:
     Crash:
        //TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",295),10,!XF_HURTSOURCE,0,10)
        TNT1 AAAAAAAA 0 A_CustomMissile("HLGaussPuffSpark",0,0,random(0,359),CMF_AIMDIRECTION,random(-60,60))
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        Stop
    }
}

Actor HLGaussKillerCharged702 : HLGaussKillerCharged70
{
    States
    {
    Spawn:
        TNT1 A 1
        loop
    Death:
        TNT1 A 0 A_SpawnItemEx("HLGaussPuff",0,0,0,0,0,0,0,SXF_CLIENTSIDE|SXF_NOCHECKPOSITION)
        goto XDeath2
    XDeath2:
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        stop
    XDeath:
    Crash:
        //TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",295),10,!XF_HURTSOURCE,0,10)
        TNT1 AAAAAAAA 0 A_CustomMissile("HLGaussPuffSpark",0,0,random(0,359),CMF_AIMDIRECTION,random(-60,60))
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        Stop
    }
}

Actor HLGaussKillerCharged80 : HLGaussKillerCharged0
{
    Damage(330)
    States
    {
    BouncePlane:
        TNT1 A 0 ACS_NamedExecuteWithResult("HL2678",3)
        TNT1 A 0 A_CustomMissile("HLGaussKillerCharged802",0,0,angle,CMF_ABSOLUTEANGLE|CMF_TRACKOWNER,-pitch)
        goto Death+2
    XDeath:
    Crash:
        //TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",330),10,!XF_HURTSOURCE,0,10)
        TNT1 AAAAAAAA 0 A_CustomMissile("HLGaussPuffSpark",0,0,random(0,359),CMF_AIMDIRECTION,random(-60,60))
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        Stop
    }
}

Actor HLGaussKillerCharged802 : HLGaussKillerCharged80
{
    States
    {
    Spawn:
        TNT1 A 1
        loop
    Death:
        TNT1 A 0 A_SpawnItemEx("HLGaussPuff",0,0,0,0,0,0,0,SXF_CLIENTSIDE|SXF_NOCHECKPOSITION)
        goto XDeath2
    XDeath2:
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        stop
    XDeath:
    Crash:
        //TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",330),10,!XF_HURTSOURCE,0,10)
        TNT1 AAAAAAAA 0 A_CustomMissile("HLGaussPuffSpark",0,0,random(0,359),CMF_AIMDIRECTION,random(-60,60))
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        Stop
    }
}

Actor HLGaussKillerCharged90 : HLGaussKillerCharged0
{
    Damage(365)
    States
    {
    BouncePlane:
        TNT1 A 0 ACS_NamedExecuteWithResult("HL2678",3)
        TNT1 A 0 A_CustomMissile("HLGaussKillerCharged902",0,0,angle,CMF_ABSOLUTEANGLE|CMF_TRACKOWNER,-pitch)
        goto Death+2
    XDeath:
    Crash:
        //TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",365),10,!XF_HURTSOURCE,0,10)
        TNT1 AAAAAAAA 0 A_CustomMissile("HLGaussPuffSpark",0,0,random(0,359),CMF_AIMDIRECTION,random(-60,60))
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        Stop
    }
}

Actor HLGaussKillerCharged902 : HLGaussKillerCharged90
{
    States
    {
    Spawn:
        TNT1 A 1
        loop
    Death:
        TNT1 A 0 A_SpawnItemEx("HLGaussPuff",0,0,0,0,0,0,0,SXF_CLIENTSIDE|SXF_NOCHECKPOSITION)
        goto XDeath2
    XDeath2:
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        stop
    XDeath:
    Crash:
        //TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",365),10,!XF_HURTSOURCE,0,10)
        TNT1 AAAAAAAA 0 A_CustomMissile("HLGaussPuffSpark",0,0,random(0,359),CMF_AIMDIRECTION,random(-60,60))
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        Stop
    }
}

Actor HLGaussKillerCharged100 : HLGaussKillerCharged0
{
    Damage(400)
    States
    {
    BouncePlane:
        TNT1 A 0 ACS_NamedExecuteWithResult("HL2678",3)
        TNT1 A 0 A_CustomMissile("HLGaussKillerCharged1002",0,0,angle,CMF_ABSOLUTEANGLE|CMF_TRACKOWNER,-pitch)
        goto Death+2
    XDeath:
    Crash:
        //TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",400),10,!XF_HURTSOURCE,0,10)
        TNT1 AAAAAAAA 0 A_CustomMissile("HLGaussPuffSpark",0,0,random(0,359),CMF_AIMDIRECTION,random(-60,60))
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        Stop
    }
}

Actor HLGaussKillerCharged1002 : HLGaussKillerCharged100
{
    States
    {
    Spawn:
        TNT1 A 1
        loop
    Death:
        TNT1 A 0 A_SpawnItemEx("HLGaussPuff",0,0,0,0,0,0,0,SXF_CLIENTSIDE|SXF_NOCHECKPOSITION)
        goto XDeath2
    XDeath2:
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        stop
    XDeath:
    Crash:
        //TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",400),10,!XF_HURTSOURCE,0,10)
        TNT1 AAAAAAAA 0 A_CustomMissile("HLGaussPuffSpark",0,0,random(0,359),CMF_AIMDIRECTION,random(-60,60))
        TNT1 A 5 ACS_NamedExecuteWithResult("HL2678",2)
        Stop
    }
}

Actor HLGaussKillerCharged0_Coop : HLGaussKillerCharged0 { Species "Player" +THRUSPECIES +DONTHARMCLASS +DONTHARMSPECIES +MTHRUSPECIES  }
Actor HLGaussKillerCharged10_Coop : HLGaussKillerCharged10 { Species "Player" +THRUSPECIES +DONTHARMCLASS +DONTHARMSPECIES +MTHRUSPECIES }
Actor HLGaussKillerCharged20_Coop : HLGaussKillerCharged20 { Species "Player" +THRUSPECIES +DONTHARMCLASS +DONTHARMSPECIES +MTHRUSPECIES }
Actor HLGaussKillerCharged30_Coop : HLGaussKillerCharged30 { Species "Player" +THRUSPECIES +DONTHARMCLASS +DONTHARMSPECIES +MTHRUSPECIES }
Actor HLGaussKillerCharged40_Coop : HLGaussKillerCharged40 { Species "Player" +THRUSPECIES +DONTHARMCLASS +DONTHARMSPECIES +MTHRUSPECIES }
Actor HLGaussKillerCharged50_Coop : HLGaussKillerCharged50 { Species "Player" +THRUSPECIES +DONTHARMCLASS +DONTHARMSPECIES +MTHRUSPECIES }
Actor HLGaussKillerCharged60_Coop : HLGaussKillerCharged60 { Species "Player" +THRUSPECIES +DONTHARMCLASS +DONTHARMSPECIES +MTHRUSPECIES }
Actor HLGaussKillerCharged70_Coop : HLGaussKillerCharged70 { Species "Player" +THRUSPECIES +DONTHARMCLASS +DONTHARMSPECIES +MTHRUSPECIES }
Actor HLGaussKillerCharged80_Coop : HLGaussKillerCharged80 { Species "Player" +THRUSPECIES +DONTHARMCLASS +DONTHARMSPECIES +MTHRUSPECIES }
Actor HLGaussKillerCharged90_Coop : HLGaussKillerCharged90 { Species "Player" +THRUSPECIES +DONTHARMCLASS +DONTHARMSPECIES +MTHRUSPECIES }
Actor HLGaussKillerCharged100_Coop : HLGaussKillerCharged100 { Species "Player" +THRUSPECIES +DONTHARMCLASS +DONTHARMSPECIES +MTHRUSPECIES }

actor HLGaussKillMe
{
    Projectile
    Radius 8
    Height 8
    DamageType "HLLaser"
    +NODAMAGETHRUST
    +FORCERADIUSDMG
    +NOTIMEFREEZE
    +DONTBLAST
    +DONTREFLECT
    +DONTSPLASH
    +NOTRIGGER
    +NOTONAUTOMAP
    +SKYEXPLODE
    +BLOODLESSIMPACT
    +EXTREMEDEATH
    States
    {
      Spawn:
        TNT1 A 0
      Death:
        TNT1 A 0 A_Stop
        TNT1 A 1 A_Explode(random(25,35),20)
        stop
    }
}

actor HLGaussKillMeCoop : HLGaussKillMe
{
    Species "Player"
    +THRUSPECIES
}

Actor HLGaussPuff
{
    +FORCEXYBILLBOARD
    +NOINTERACTION
    -SOLID
    +NOGRAVITY
    +NOBLOCKMAP
    +CLIENTSIDEONLY
    renderstyle add
    Alpha 1.0
    scale 0.35
    states
    {
    Spawn:
        TNT1 A 0
        TNT1 A 0 A_PlaySound("halflife/gauss_zapp",CHAN_BODY)
        TNT1 AAAAAAAA 0 A_CustomMissile("HLGaussPuffSpark",0,0,random(0,359),CMF_AIMDIRECTION,random(-60,60))
        goto SpawnLoop
    SpawnLoop:
        HP60 BBBBBBBBBBBBBBBB 1 bright Light("HALFLIFE_TAUCANNON_PUFF_X1") A_FadeOut(0.01)
        HP60 BBBBBBBBBBBBBBBB 1 bright Light("HALFLIFE_TAUCANNON_PUFF_X2") A_FadeOut(0.01)
        HP60 BBBBBBBBBBBBBBBB 1 bright Light("HALFLIFE_TAUCANNON_PUFF_X3") A_FadeOut(0.01)
        HP60 BBBBBBBBBBBBBBBB 1 bright Light("HALFLIFE_TAUCANNON_PUFF_X4") A_FadeOut(0.01)
        HP60 BBBBBBBBBBBBBBBB 1 bright Light("HALFLIFE_TAUCANNON_PUFF_X5") A_FadeOut(0.01)
        HP60 B 1 bright A_FadeOut(0.01)
        wait
    }
}

Actor HLGaussPuffCharged
{
    +FORCEXYBILLBOARD
    +NOINTERACTION
    -SOLID
    +NOGRAVITY
    +NOBLOCKMAP
    +CLIENTSIDEONLY
    renderstyle add
    Alpha 1.0
    scale 0.5
    states
    {
    Spawn:
        TNT1 A 0
        TNT1 A 0 A_PlaySound("halflife/gauss_zapp",CHAN_BODY)
        TNT1 AAAAAAAAAA 0 A_CustomMissile("HLGaussPuffSpark",0,0,random(0,359),CMF_AIMDIRECTION,random(-60,60))
        goto SpawnLoop
    SpawnLoop:
        HP60 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 bright Light("HALFLIFE_TAUCANNON_CHARGE_PUFF_X1") A_FadeOut(0.005)
        HP60 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 bright Light("HALFLIFE_TAUCANNON_CHARGE_PUFF_X2") A_FadeOut(0.005)
        HP60 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 bright Light("HALFLIFE_TAUCANNON_CHARGE_PUFF_X3") A_FadeOut(0.005)
        HP60 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 bright Light("HALFLIFE_TAUCANNON_CHARGE_PUFF_X4") A_FadeOut(0.005)
        HP60 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 bright Light("HALFLIFE_TAUCANNON_CHARGE_PUFF_X5") A_FadeOut(0.005)
        HP60 A 1 bright A_FadeOut(0.005)
        wait
    }
}

Actor HLGaussPuffSpark
{
    PROJECTILE
    -NOGRAVITY
    +CLIENTSIDEONLY
    +DOOMBOUNCE
    BounceCount 4
    BounceFactor 0.5
    Gravity 0.6
    Radius 2
    Height 4
    Mass 15
    Speed 8
    Renderstyle add
    alpha 0.75
    scale 0.06
    states
    {
    Spawn:
        HP61 AAAA 36 bright
        TNT1 A 0 A_Die
        goto Death
    Death:
        HP61 A 1 bright A_FadeOut(0.03)
        loop
    }
}

Actor HLGaussParticleYellow
{
    +NOINTERACTION
    -SOLID
    +NOGRAVITY
    +NOBLOCKMAP
    +CLIENTSIDEONLY
    +FORCEXYBILLBOARD
    +NOCLIP
    +NOTIMEFREEZE // performance reasons
    renderstyle add
    scale 0.03
    states
    {
    Spawn:
        HP61 A 2 bright
        stop
    }
}

Actor HLGaussParticleWhite
{
    +NOINTERACTION
    -SOLID
    +NOGRAVITY
    +NOBLOCKMAP
    +CLIENTSIDEONLY
    +FORCEXYBILLBOARD
    +NOTIMEFREEZE // performance reasons
    renderstyle add
    scale 0.05
    states
    {
    Spawn:
        HP61 B 2 bright
        stop
    }
}

// M249 Squad Automatic Weapon

actor HLSawSkipFire : Boolean {}
actor SamsaraHalfLifeSAWFireState : Counter { Inventory.MaxAmount 3 }
actor SamsaraHalfLifeSAWReloadCooldown : Counter {}

actor "M249 Squad Automatic Weapon" : HLWeapon
{
    Inventory.PickupMessage "You got the M249!"
    Weapon.SlotNumber 6
    Weapon.SelectionOrder 750
    Weapon.AmmoType1 "HLSawCounter"
    Weapon.AmmoUse1 1
    Weapon.AmmoType2 "Cell"
    //Weapon.AmmoGive2 100
    Tag "M249 Squad Automatic Weapon"
    +NOAUTOAIM // hmm
    States
    {
      Spawn:
        OW60 Z -1
        stop

      // Gordon Freeman
      ReadyActual:
        0P00 A 0 A_GunFlash("ReadyActualBelt",GFF_NOEXTCHANGE)
        0P00 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"ReadyActualReloadable")
      ReadyActualNonReloadable:
        0P00 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"ReadyActualNonReloadableShephard")
        0P00 A 0 A_JumpIfInventory("SamsaraHalfLifeSAWReloadCooldown",1,2)
        0P00 A 2 A_WeaponReady
        goto ReadyActualJump
        0P00 A 1 A_WeaponReady(WRF_NOFIRE)
        goto ReadyActual // restart the state

      ReadyActualReloadable:
        0P00 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"ReadyActualReloadableShephard")
        0P00 A 0 A_JumpIfInventory("SamsaraHalfLifeSAWReloadCooldown",1,2)
        0P00 A 2 A_WeaponReady(WRF_ALLOWRELOAD)
        goto ReadyActualJump
        0P00 A 1 A_WeaponReady(WRF_NOFIRE) // disallow reloading during cooldown
        goto ReadyActual // restart the state

      ReadyActualBelt:
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"ReadyActualBeltReloadable")
      ReadyActualBeltNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReadyActualBelt8")
        TNT1 A 0 A_JumpIfInventory("Cell",9,"ReadyActualBelt8")
        TNT1 A 0 A_JumpIfInventory("Cell",8,"ReadyActualBelt7")
        TNT1 A 0 A_JumpIfInventory("Cell",7,"ReadyActualBelt6")
        TNT1 A 0 A_JumpIfInventory("Cell",6,"ReadyActualBelt5")
        TNT1 A 0 A_JumpIfInventory("Cell",5,"ReadyActualBelt4")
        TNT1 A 0 A_JumpIfInventory("Cell",4,"ReadyActualBelt3")
        TNT1 A 0 A_JumpIfInventory("Cell",3,"ReadyActualBelt2")
        TNT1 A 0 A_JumpIfInventory("Cell",2,"ReadyActualBelt1")
        goto ReadyActualBelt0

      ReadyActualBeltReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"ReadyActualBelt8")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",9,"ReadyActualBelt8")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",8,"ReadyActualBelt7")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",7,"ReadyActualBelt6")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",6,"ReadyActualBelt5")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",5,"ReadyActualBelt4")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",4,"ReadyActualBelt3")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",3,"ReadyActualBelt2")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",2,"ReadyActualBelt1")
        goto ReadyActualBelt0

      ReadyActualBelt0:
        TNT1 A -1
        stop

      ReadyActualBelt1:
        O100 A -1
        stop

      ReadyActualBelt2:
        O200 A -1
        stop

      ReadyActualBelt3:
        O300 A -1
        stop

      ReadyActualBelt4:
        O400 A -1
        stop

      ReadyActualBelt5:
        O500 A -1
        stop

      ReadyActualBelt6:
        O600 A -1
        stop

      ReadyActualBelt7:
        O700 A -1
        stop

      ReadyActualBelt8:
        O800 A -1
        stop

      ReadyActualJump:
        0P00 A 0 A_Jump(4,"ReadyActualAmmoCheck")
        0P00 A 0 A_Jump(3,"ReadyActualAmmoCheck")
        0P00 A 0 A_Jump(2,"ReadyActualAmmoCheck")
        0P00 A 0 A_Jump(1,"ReadyActualIdle1","ReadyActualIdle2")
        goto ReadyActualAmmoCheck

      ReadyActualIdle1:
        0P00 A 0 A_GunFlash("ReadyActualIdle1Belt",GFF_NOEXTCHANGE)
        0P00 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"ReadyActualIdle1Reloadable")
      ReadyActualIdle1NonReloadable:
        0P00 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"ReadyActualIdle1NonReloadableShephard")
        0P00 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        0P01 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        0P02 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        0P03 ABCDEFGHIJKLMNOPQRSTUV 1 A_WeaponReady
        goto ReadyActual

      ReadyActualIdle1Reloadable:
        0P00 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"ReadyActualIdle1ReloadableShephard")
        0P00 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
        0P01 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
        0P02 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
        0P03 ABCDEFGHIJKLMNOPQRSTUV 1 A_WeaponReady(WRF_ALLOWRELOAD)
        goto ReadyActual

      ReadyActualIdle1Belt:
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"ReadyActualIdle1BeltReloadable")
      ReadyActualIdle1BeltNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReadyActualIdle1Belt8")
        TNT1 A 0 A_JumpIfInventory("Cell",9,"ReadyActualIdle1Belt8")
        TNT1 A 0 A_JumpIfInventory("Cell",8,"ReadyActualIdle1Belt7")
        TNT1 A 0 A_JumpIfInventory("Cell",7,"ReadyActualIdle1Belt6")
        TNT1 A 0 A_JumpIfInventory("Cell",6,"ReadyActualIdle1Belt5")
        TNT1 A 0 A_JumpIfInventory("Cell",5,"ReadyActualIdle1Belt4")
        TNT1 A 0 A_JumpIfInventory("Cell",4,"ReadyActualIdle1Belt3")
        TNT1 A 0 A_JumpIfInventory("Cell",3,"ReadyActualIdle1Belt2")
        TNT1 A 0 A_JumpIfInventory("Cell",2,"ReadyActualIdle1Belt1")
        goto ReadyActualIdle1Belt0

      ReadyActualIdle1BeltReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"ReadyActualIdle1Belt8")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",9,"ReadyActualIdle1Belt8")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",8,"ReadyActualIdle1Belt7")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",7,"ReadyActualIdle1Belt6")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",6,"ReadyActualIdle1Belt5")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",5,"ReadyActualIdle1Belt4")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",4,"ReadyActualIdle1Belt3")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",3,"ReadyActualIdle1Belt2")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",2,"ReadyActualIdle1Belt1")
        goto ReadyActualIdle1Belt0

      ReadyActualIdle1Belt0:
        TNT1 A -1
        stop

      ReadyActualIdle1Belt1:
        O100 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O101 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O102 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O103 ABCDEFGHIJKLMNOPQRSTUV 1
        O100 A -1
        stop

      ReadyActualIdle1Belt2:
        O200 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O201 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O202 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O203 ABCDEFGHIJKLMNOPQRSTUV 1
        O200 A -1
        stop

      ReadyActualIdle1Belt3:
        O300 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O301 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O302 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O303 ABCDEFGHIJKLMNOPQRSTUV 1
        O300 A -1
        stop

      ReadyActualIdle1Belt4:
        O400 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O401 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O402 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O403 ABCDEFGHIJKLMNOPQRSTUV 1
        O400 A -1
        stop

      ReadyActualIdle1Belt5:
        O500 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O501 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O502 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O503 ABCDEFGHIJKLMNOPQRSTUV 1
        O500 A -1
        stop

      ReadyActualIdle1Belt6:
        O600 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O601 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O602 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O603 ABCDEFGHIJKLMNOPQRSTUV 1
        O600 A -1
        stop

      ReadyActualIdle1Belt7:
        O700 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O701 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O702 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O703 ABCDEFGHIJKLMNOPQRSTUV 1
        O700 A -1
        stop

      ReadyActualIdle1Belt8:
        O800 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O801 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O802 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O803 ABCDEFGHIJKLMNOPQRSTUV 1
        O800 A -1
        stop

      ReadyActualIdle2:
        0P04 A 0 A_GunFlash("ReadyActualIdle2Belt",GFF_NOEXTCHANGE)
        0P04 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"ReadyActualIdle2Reloadable")
      ReadyActualIdle2NonReloadable:
        0P04 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"ReadyActualIdle2NonReloadableShephard")
        0P04 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        0P05 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        0P06 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        0P07 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        0P08 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        0P09 ABCDEFGHIJKLMNOPQRSTUVWX 1 A_WeaponReady
        goto ReadyActual

      ReadyActualIdle2Reloadable:
        0P04 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"ReadyActualIdle2ReloadableShephard")
        0P04 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
        0P05 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
        0P06 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
        0P07 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
        0P08 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
        0P09 ABCDEFGHIJKLMNOPQRSTUVWX 1 A_WeaponReady(WRF_ALLOWRELOAD)
        goto ReadyActual

      ReadyActualIdle2Belt:
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"ReadyActualIdle2BeltReloadable")
      ReadyActualIdle2BeltNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReadyActualIdle2Belt8")
        TNT1 A 0 A_JumpIfInventory("Cell",9,"ReadyActualIdle2Belt8")
        TNT1 A 0 A_JumpIfInventory("Cell",8,"ReadyActualIdle2Belt7")
        TNT1 A 0 A_JumpIfInventory("Cell",7,"ReadyActualIdle2Belt6")
        TNT1 A 0 A_JumpIfInventory("Cell",6,"ReadyActualIdle2Belt5")
        TNT1 A 0 A_JumpIfInventory("Cell",5,"ReadyActualIdle2Belt4")
        TNT1 A 0 A_JumpIfInventory("Cell",4,"ReadyActualIdle2Belt3")
        TNT1 A 0 A_JumpIfInventory("Cell",3,"ReadyActualIdle2Belt2")
        TNT1 A 0 A_JumpIfInventory("Cell",2,"ReadyActualIdle2Belt1")
        goto ReadyActualIdle2Belt0

      ReadyActualIdle2BeltReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"ReadyActualIdle2Belt8")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",9,"ReadyActualIdle2Belt8")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",8,"ReadyActualIdle2Belt7")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",7,"ReadyActualIdle2Belt6")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",6,"ReadyActualIdle2Belt5")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",5,"ReadyActualIdle2Belt4")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",4,"ReadyActualIdle2Belt3")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",3,"ReadyActualIdle2Belt2")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",2,"ReadyActualIdle2Belt1")
        goto ReadyActualIdle2Belt0

      ReadyActualIdle2Belt0:
        TNT1 A -1
        stop

      ReadyActualIdle2Belt1:
        O104 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O105 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O106 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O107 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O108 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O109 ABCDEFGHIJKLMNOPQRSTUVWX 1
        O100 A -1
        stop

      ReadyActualIdle2Belt2:
        O204 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O205 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O206 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O207 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O208 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O209 ABCDEFGHIJKLMNOPQRSTUVWX 1
        O200 A -1
        stop

      ReadyActualIdle2Belt3:
        O304 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O305 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O306 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O307 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O308 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O309 ABCDEFGHIJKLMNOPQRSTUVWX 1
        O300 A -1
        stop

      ReadyActualIdle2Belt4:
        O404 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O405 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O406 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O407 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O408 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O409 ABCDEFGHIJKLMNOPQRSTUVWX 1
        O400 A -1
        stop

      ReadyActualIdle2Belt5:
        O504 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O505 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O506 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O507 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O508 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O509 ABCDEFGHIJKLMNOPQRSTUVWX 1
        O500 A -1
        stop

      ReadyActualIdle2Belt6:
        O604 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O605 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O606 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O607 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O608 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O609 ABCDEFGHIJKLMNOPQRSTUVWX 1
        O600 A -1
        stop

      ReadyActualIdle2Belt7:
        O704 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O705 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O706 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O707 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O708 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O709 ABCDEFGHIJKLMNOPQRSTUVWX 1
        O700 A -1
        stop

      ReadyActualIdle2Belt8:
        O804 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O805 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O806 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O807 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O808 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O809 ABCDEFGHIJKLMNOPQRSTUVWX 1
        O800 A -1
        stop

      ReadyActualAmmoCheck:
        0P00 A 0 A_JumpIfInventory("SamsaraReloadMode",2,1)
        goto ReadyActual
        0P00 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"ReadyActual")
        0P00 A 0 A_JumpIfInventory("HLSawCounter",1,"ReadyActual")
        goto ReloadCheck

      Select:
        TNT1 A 0 A_TakeInventory("freeman_fistselected")
        TNT1 A 0 A_TakeInventory("freeman_pistolselected")
        TNT1 A 0 A_TakeInventory("freeman_slot1selected")
        TNT1 A 0 A_TakeInventory("freeman_slot2selected")
        TNT1 A 0 A_TakeInventory("freeman_slot3selected")
        TNT1 A 0 A_TakeInventory("freeman_slot4selected")
        TNT1 A 0 A_TakeInventory("freeman_slot5selected")
        TNT1 A 0 A_GiveInventory("freeman_slot6selected")
        TNT1 A 0 A_TakeInventory("freeman_slot7selected")
        TNT1 A 0 A_TakeInventory("freeman_uniqueselected")
        TNT1 A 0 A_TakeInventory("freeman_unique2selected")
        TNT1 A 0 A_TakeInventory("freeman_unique3selected")
        goto Super::Select

      Ready: // our "Select" state
        TNT1 A 0 A_GunFlash("ReadyBelt",GFF_NOEXTCHANGE)
        0P19 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"ReadyShephard")
        0P19 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        0P20 ABCD 1 A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        goto ReadyActual

      ReadyBelt:
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"ReadyBeltReloadable")
      ReadyBeltNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReadyBelt8")
        TNT1 A 0 A_JumpIfInventory("Cell",9,"ReadyBelt8")
        TNT1 A 0 A_JumpIfInventory("Cell",8,"ReadyBelt7")
        TNT1 A 0 A_JumpIfInventory("Cell",7,"ReadyBelt6")
        TNT1 A 0 A_JumpIfInventory("Cell",6,"ReadyBelt5")
        TNT1 A 0 A_JumpIfInventory("Cell",5,"ReadyBelt4")
        TNT1 A 0 A_JumpIfInventory("Cell",4,"ReadyBelt3")
        TNT1 A 0 A_JumpIfInventory("Cell",3,"ReadyBelt2")
        TNT1 A 0 A_JumpIfInventory("Cell",2,"ReadyBelt1")
        goto ReadyBelt0

      ReadyBeltReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"ReadyBelt8")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",9,"ReadyBelt8")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",8,"ReadyBelt7")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",7,"ReadyBelt6")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",6,"ReadyBelt5")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",5,"ReadyBelt4")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",4,"ReadyBelt3")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",3,"ReadyBelt2")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",2,"ReadyBelt1")
        goto ReadyBelt0

      ReadyBelt0:
        TNT1 A -1
        stop

      ReadyBelt1:
        O119 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O120 ABCD 1
        O100 A -1
        stop

      ReadyBelt2:
        O219 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O220 ABCD 1
        O200 A -1
        stop

      ReadyBelt3:
        O319 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O320 ABCD 1
        O300 A -1
        stop

      ReadyBelt4:
        O419 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O420 ABCD 1
        O400 A -1
        stop

      ReadyBelt5:
        O519 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O520 ABCD 1
        O500 A -1
        stop

      ReadyBelt6:
        O619 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O620 ABCD 1
        O600 A -1
        stop

      ReadyBelt7:
        O719 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O720 ABCD 1
        O700 A -1
        stop

      ReadyBelt8:
        O819 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
        O820 ABCD 1
        O800 A -1
        stop

      Fire:
        0P00 A 0 A_JumpIfInventory("HLOriginalKeySwitcherOpen",1,"ReadyActual")
        0P00 A 0 A_JumpIfInventory("SamsaraHalfLifeSAWReloadCooldown",1,"ReadyActual")
        0P00 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireReloadable")
      FireNonReloadable:
        0P00 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireWaterCheck")
        0P00 A 0 A_JumpIfInventory("Cell",1,"FireWaterCheck")
        goto FireDry

      FireReloadable:
        0P00 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireWaterCheck")
        0P00 A 0 A_JumpIfInventory("HLSawCounter",1,"FireWaterCheck")
        goto FireDry

      FireWaterCheck:
        0P00 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"FireDry")
        goto FireInit

      FireDry:
        0P00 A 0 A_PlaySound("halflife/weaponempty",CHAN_6)
        0P00 A 0 A_ClearReFire
        0P00 A 0 A_GunFlash("ReadyActualBelt",GFF_NOEXTCHANGE)
        0P00 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"FireDryShephard")
        0P00 A 4 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        goto ReadyActualAmmoCheck

      Hold:
        0P00 A 0 A_JumpIfInventory("SamsaraHalfLifeSAWReloadCooldown",1,"ReadyActual")
        0P00 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"HoldReloadable")
      HoldNonReloadable:
        0P00 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"HoldWaterCheck")
        0P00 A 0 A_JumpIfInventory("Cell",1,"HoldWaterCheck")
        goto HoldDry

      HoldReloadable:
        0P00 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"HoldWaterCheck")
        0P00 A 0 A_JumpIfInventory("HLSawCounter",1,"HoldWaterCheck")
        goto HoldDry

      HoldWaterCheck:
        0P00 A 0 A_JumpIfInventory("SamsaraCurrentWaterLevel",0,"HoldDry")
        goto FireInit

      HoldDry:
        0P21 C 0 A_PlaySound("halflife/weaponempty",CHAN_6)
        0P21 C 0 A_ClearReFire
        0P21 C 0 A_JumpIfInventory("SamsaraHalfLifeSAWFireState",0,"HoldDry3")
        0P21 C 0 A_JumpIfInventory("SamsaraHalfLifeSAWFireState",2,"HoldDry2")
      HoldDry1:
        0P21 C 0 A_GunFlash("FireAnim1FinishBelt",GFF_NOEXTCHANGE)
        0P21 C 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"HoldDry1Shephard")
        0P21 CDEF 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        goto ReadyActualAmmoCheck

      HoldDry2:
        0P22 C 0 A_GunFlash("FireAnim2FinishBelt",GFF_NOEXTCHANGE)
        0P22 C 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"HoldDry2Shephard")
        0P22 CDEF 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        goto ReadyActualAmmoCheck

      HoldDry3:
        0P23 C 0 A_GunFlash("FireAnim3FinishBelt",GFF_NOEXTCHANGE)
        0P23 C 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"HoldDry3Shephard")
        0P23 CDEF 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        goto ReadyActualAmmoCheck

      FireInit:
        0P00 A 0 A_JumpIfInventory("HLSawSkipFire",1,2)
        0P00 A 0 A_GiveInventory("HLSawSkipFire")
        goto FireStart
        0P00 A 0 A_TakeInventory("HLSawSkipFire")
        goto FireStart

      FireStart:
        0P00 A 0 A_AlertMonsters
        0P00 A 0 A_FireCustomMissile("HLBrassShellCaser",0,false,0,0,0,pitch)
        0P00 A 0 A_GiveInventory("SamsaraHalfLifeSAWAttackHandler")
        0P00 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"FireStartShephard")
        0P00 A 1 Bright A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        0P21 A 0 A_TakeInventory("SamsaraHalfLifeSAWFireState")
        0P21 A 0 A_GiveInventory("SamsaraHalfLifeSAWFireState",random(1,3))
        0P21 A 0 A_JumpIfInventory("SamsaraHalfLifeSAWFireState",0,"FireAnim3")
        0P21 A 0 A_JumpIfInventory("SamsaraHalfLifeSAWFireState",2,"FireAnim2")
      FireAnim1:
        0P21 A 0 A_GunFlash("FireAnim1Belt",GFF_NOEXTCHANGE)
        0P21 A 1 Bright A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        0P21 B 0 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim1Finish")
        0P21 B 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
      FireAnim1Finish:
        0P21 C 0 A_ReFire 0P21 C 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        0P21 D 0 A_ReFire 0P21 D 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        0P21 E 0 A_ReFire 0P21 E 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        0P21 F 0 A_ReFire 0P21 F 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        goto ReadyActual

      FireAnim1Belt:
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireAnim1BeltReloadable")
      FireAnim1BeltNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireAnim1Belt8")
        TNT1 A 0 A_JumpIfInventory("Cell",9,"FireAnim1Belt8")
        TNT1 A 0 A_JumpIfInventory("Cell",8,"FireAnim1Belt7")
        TNT1 A 0 A_JumpIfInventory("Cell",7,"FireAnim1Belt6")
        TNT1 A 0 A_JumpIfInventory("Cell",6,"FireAnim1Belt5")
        TNT1 A 0 A_JumpIfInventory("Cell",5,"FireAnim1Belt4")
        TNT1 A 0 A_JumpIfInventory("Cell",4,"FireAnim1Belt3")
        TNT1 A 0 A_JumpIfInventory("Cell",3,"FireAnim1Belt2")
        TNT1 A 0 A_JumpIfInventory("Cell",2,"FireAnim1Belt1")
        goto FireAnim1Belt0

      FireAnim1BeltReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireAnim1Belt8")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",9,"FireAnim1Belt8")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",8,"FireAnim1Belt7")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",7,"FireAnim1Belt6")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",6,"FireAnim1Belt5")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",5,"FireAnim1Belt4")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",4,"FireAnim1Belt3")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",3,"FireAnim1Belt2")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",2,"FireAnim1Belt1")
        goto FireAnim1Belt0

      FireAnim1FinishBelt:
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireAnim1FinishBeltReloadable")
      FireAnim1FinishBeltNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireAnim1FinishBelt8")
        TNT1 A 0 A_JumpIfInventory("Cell",9,"FireAnim1FinishBelt8")
        TNT1 A 0 A_JumpIfInventory("Cell",8,"FireAnim1FinishBelt7")
        TNT1 A 0 A_JumpIfInventory("Cell",7,"FireAnim1FinishBelt6")
        TNT1 A 0 A_JumpIfInventory("Cell",6,"FireAnim1FinishBelt5")
        TNT1 A 0 A_JumpIfInventory("Cell",5,"FireAnim1FinishBelt4")
        TNT1 A 0 A_JumpIfInventory("Cell",4,"FireAnim1FinishBelt3")
        TNT1 A 0 A_JumpIfInventory("Cell",3,"FireAnim1FinishBelt2")
        TNT1 A 0 A_JumpIfInventory("Cell",2,"FireAnim1FinishBelt1")
        goto FireAnim1FinishBelt0

      FireAnim1FinishBeltReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireAnim1FinishBelt8")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",9,"FireAnim1FinishBelt8")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",8,"FireAnim1FinishBelt7")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",7,"FireAnim1FinishBelt6")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",6,"FireAnim1FinishBelt5")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",5,"FireAnim1FinishBelt4")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",4,"FireAnim1FinishBelt3")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",3,"FireAnim1FinishBelt2")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",2,"FireAnim1FinishBelt1")
        goto FireAnim1FinishBelt0

      FireAnim1Belt0:
      FireAnim1FinishBelt0:
        TNT1 A -1
        stop

      FireAnim1Belt1:
        O121 A 1
        O121 B 1 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim1FinishBelt1")
      FireAnim1FinishBelt1:
        O121 CDEF 1
        O100 A -1
        stop

      FireAnim1Belt2:
        O221 A 1
        O221 B 1 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim1FinishBelt2")
      FireAnim1FinishBelt2:
        O221 CDEF 1
        O200 A -1
        stop

      FireAnim1Belt3:
        O321 A 1
        O321 B 1 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim1FinishBelt3")
      FireAnim1FinishBelt3:
        O321 CDEF 1
        O300 A -1
        stop

      FireAnim1Belt4:
        O421 A 1
        O421 B 1 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim1FinishBelt4")
      FireAnim1FinishBelt4:
        O421 CDEF 1
        O400 A -1
        stop

      FireAnim1Belt5:
        O521 A 1
        O521 B 1 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim1FinishBelt5")
      FireAnim1FinishBelt5:
        O521 CDEF 1
        O500 A -1
        stop

      FireAnim1Belt6:
        O621 A 1
        O621 B 1 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim1FinishBelt6")
      FireAnim1FinishBelt6:
        O621 CDEF 1
        O600 A -1
        stop

      FireAnim1Belt7:
        O721 A 1
        O721 B 1 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim1FinishBelt7")
      FireAnim1FinishBelt7:
        O721 CDEF 1
        O700 A -1
        stop

      FireAnim1Belt8:
        O821 A 1
        O821 B 1 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim1FinishBelt8")
      FireAnim1FinishBelt8:
        O821 CDEF 1
        O800 A -1
        stop

      FireAnim2:
        0P22 A 0 A_GunFlash("FireAnim2Belt",GFF_NOEXTCHANGE)
        0P22 A 1 Bright A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        0P22 B 0 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim2Finish")
        0P22 B 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
      FireAnim2Finish:
        0P22 C 0 A_ReFire 0P22 C 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        0P22 D 0 A_ReFire 0P22 D 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        0P22 E 0 A_ReFire 0P22 E 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        0P22 F 0 A_ReFire 0P22 F 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        goto ReadyActual

      FireAnim2Belt:
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireAnim2BeltReloadable")
      FireAnim2BeltNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireAnim2Belt8")
        TNT1 A 0 A_JumpIfInventory("Cell",9,"FireAnim2Belt8")
        TNT1 A 0 A_JumpIfInventory("Cell",8,"FireAnim2Belt7")
        TNT1 A 0 A_JumpIfInventory("Cell",7,"FireAnim2Belt6")
        TNT1 A 0 A_JumpIfInventory("Cell",6,"FireAnim2Belt5")
        TNT1 A 0 A_JumpIfInventory("Cell",5,"FireAnim2Belt4")
        TNT1 A 0 A_JumpIfInventory("Cell",4,"FireAnim2Belt3")
        TNT1 A 0 A_JumpIfInventory("Cell",3,"FireAnim2Belt2")
        TNT1 A 0 A_JumpIfInventory("Cell",2,"FireAnim2Belt1")
        goto FireAnim2Belt0

      FireAnim2BeltReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireAnim2Belt8")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",9,"FireAnim2Belt8")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",8,"FireAnim2Belt7")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",7,"FireAnim2Belt6")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",6,"FireAnim2Belt5")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",5,"FireAnim2Belt4")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",4,"FireAnim2Belt3")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",3,"FireAnim2Belt2")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",2,"FireAnim2Belt1")
        goto FireAnim2Belt0

      FireAnim2FinishBelt:
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireAnim2FinishBeltReloadable")
      FireAnim2FinishBeltNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireAnim2FinishBelt8")
        TNT1 A 0 A_JumpIfInventory("Cell",9,"FireAnim2FinishBelt8")
        TNT1 A 0 A_JumpIfInventory("Cell",8,"FireAnim2FinishBelt7")
        TNT1 A 0 A_JumpIfInventory("Cell",7,"FireAnim2FinishBelt6")
        TNT1 A 0 A_JumpIfInventory("Cell",6,"FireAnim2FinishBelt5")
        TNT1 A 0 A_JumpIfInventory("Cell",5,"FireAnim2FinishBelt4")
        TNT1 A 0 A_JumpIfInventory("Cell",4,"FireAnim2FinishBelt3")
        TNT1 A 0 A_JumpIfInventory("Cell",3,"FireAnim2FinishBelt2")
        TNT1 A 0 A_JumpIfInventory("Cell",2,"FireAnim2FinishBelt1")
        goto FireAnim2FinishBelt0

      FireAnim2FinishBeltReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireAnim2FinishBelt8")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",9,"FireAnim2FinishBelt8")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",8,"FireAnim2FinishBelt7")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",7,"FireAnim2FinishBelt6")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",6,"FireAnim2FinishBelt5")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",5,"FireAnim2FinishBelt4")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",4,"FireAnim2FinishBelt3")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",3,"FireAnim2FinishBelt2")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",2,"FireAnim2FinishBelt1")
        goto FireAnim2FinishBelt0

      FireAnim2Belt0:
      FireAnim2FinishBelt0:
        TNT1 A -1
        stop

      FireAnim2Belt1:
        O122 A 1
        O122 B 1 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim2FinishBelt1")
      FireAnim2FinishBelt1:
        O122 CDEF 1
        O100 A -1
        stop

      FireAnim2Belt2:
        O222 A 1
        O222 B 1 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim2FinishBelt2")
      FireAnim2FinishBelt2:
        O222 CDEF 1
        O200 A -1
        stop

      FireAnim2Belt3:
        O322 A 1
        O322 B 1 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim2FinishBelt3")
      FireAnim2FinishBelt3:
        O322 CDEF 1
        O300 A -1
        stop

      FireAnim2Belt4:
        O422 A 1
        O422 B 1 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim2FinishBelt4")
      FireAnim2FinishBelt4:
        O422 CDEF 1
        O400 A -1
        stop

      FireAnim2Belt5:
        O522 A 1
        O522 B 1 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim2FinishBelt5")
      FireAnim2FinishBelt5:
        O522 CDEF 1
        O500 A -1
        stop

      FireAnim2Belt6:
        O622 A 1
        O622 B 1 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim2FinishBelt6")
      FireAnim2FinishBelt6:
        O622 CDEF 1
        O600 A -1
        stop

      FireAnim2Belt7:
        O722 A 1
        O722 B 1 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim2FinishBelt7")
      FireAnim2FinishBelt7:
        O722 CDEF 1
        O700 A -1
        stop

      FireAnim2Belt8:
        O822 A 1
        O822 B 1 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim2FinishBelt8")
      FireAnim2FinishBelt8:
        O822 CDEF 1
        O800 A -1
        stop

      FireAnim3:
        0P23 A 0 A_GunFlash("FireAnim3Belt",GFF_NOEXTCHANGE)
        0P23 A 1 Bright A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        0P23 B 0 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim3Finish")
        0P23 B 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
      FireAnim3Finish:
        0P23 C 0 A_ReFire 0P23 C 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        0P23 D 0 A_ReFire 0P23 D 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        0P23 E 0 A_ReFire 0P23 E 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        0P23 F 0 A_ReFire 0P23 F 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        goto ReadyActual

      FireAnim3Belt:
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireAnim3BeltReloadable")
      FireAnim3BeltNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireAnim3Belt8")
        TNT1 A 0 A_JumpIfInventory("Cell",9,"FireAnim3Belt8")
        TNT1 A 0 A_JumpIfInventory("Cell",8,"FireAnim3Belt7")
        TNT1 A 0 A_JumpIfInventory("Cell",7,"FireAnim3Belt6")
        TNT1 A 0 A_JumpIfInventory("Cell",6,"FireAnim3Belt5")
        TNT1 A 0 A_JumpIfInventory("Cell",5,"FireAnim3Belt4")
        TNT1 A 0 A_JumpIfInventory("Cell",4,"FireAnim3Belt3")
        TNT1 A 0 A_JumpIfInventory("Cell",3,"FireAnim3Belt2")
        TNT1 A 0 A_JumpIfInventory("Cell",2,"FireAnim3Belt1")
        goto FireAnim3Belt0

      FireAnim3BeltReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireAnim3Belt8")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",9,"FireAnim3Belt8")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",8,"FireAnim3Belt7")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",7,"FireAnim3Belt6")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",6,"FireAnim3Belt5")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",5,"FireAnim3Belt4")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",4,"FireAnim3Belt3")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",3,"FireAnim3Belt2")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",2,"FireAnim3Belt1")
        goto FireAnim3Belt0

      FireAnim3FinishBelt:
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"FireAnim3FinishBeltReloadable")
      FireAnim3FinishBeltNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"FireAnim3FinishBelt8")
        TNT1 A 0 A_JumpIfInventory("Cell",9,"FireAnim3FinishBelt8")
        TNT1 A 0 A_JumpIfInventory("Cell",8,"FireAnim3FinishBelt7")
        TNT1 A 0 A_JumpIfInventory("Cell",7,"FireAnim3FinishBelt6")
        TNT1 A 0 A_JumpIfInventory("Cell",6,"FireAnim3FinishBelt5")
        TNT1 A 0 A_JumpIfInventory("Cell",5,"FireAnim3FinishBelt4")
        TNT1 A 0 A_JumpIfInventory("Cell",4,"FireAnim3FinishBelt3")
        TNT1 A 0 A_JumpIfInventory("Cell",3,"FireAnim3FinishBelt2")
        TNT1 A 0 A_JumpIfInventory("Cell",2,"FireAnim3FinishBelt1")
        goto FireAnim3FinishBelt0

      FireAnim3FinishBeltReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"FireAnim3FinishBelt8")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",9,"FireAnim3FinishBelt8")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",8,"FireAnim3FinishBelt7")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",7,"FireAnim3FinishBelt6")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",6,"FireAnim3FinishBelt5")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",5,"FireAnim3FinishBelt4")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",4,"FireAnim3FinishBelt3")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",3,"FireAnim3FinishBelt2")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",2,"FireAnim3FinishBelt1")
        goto FireAnim3FinishBelt0

      FireAnim3Belt0:
      FireAnim3FinishBelt0:
        TNT1 A -1
        stop

      FireAnim3Belt1:
        O123 A 1
        O123 B 1 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim3FinishBelt1")
      FireAnim3FinishBelt1:
        O123 CDEF 1
        O100 A -1
        stop

      FireAnim3Belt2:
        O223 A 1
        O223 B 1 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim3FinishBelt2")
      FireAnim3FinishBelt2:
        O223 CDEF 1
        O200 A -1
        stop

      FireAnim3Belt3:
        O323 A 1
        O323 B 1 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim3FinishBelt3")
      FireAnim3FinishBelt3:
        O323 CDEF 1
        O300 A -1
        stop

      FireAnim3Belt4:
        O423 A 1
        O423 B 1 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim3FinishBelt4")
      FireAnim3FinishBelt4:
        O423 CDEF 1
        O400 A -1
        stop

      FireAnim3Belt5:
        O523 A 1
        O523 B 1 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim3FinishBelt5")
      FireAnim3FinishBelt5:
        O523 CDEF 1
        O500 A -1
        stop

      FireAnim3Belt6:
        O623 A 1
        O623 B 1 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim3FinishBelt6")
      FireAnim3FinishBelt6:
        O623 CDEF 1
        O600 A -1
        stop

      FireAnim3Belt7:
        O723 A 1
        O723 B 1 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim3FinishBelt7")
      FireAnim3FinishBelt7:
        O723 CDEF 1
        O700 A -1
        stop

      FireAnim3Belt8:
        O823 A 1
        O823 B 1 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim3FinishBelt8")
      FireAnim3FinishBelt8:
        O823 CDEF 1
        O800 A -1
        stop

      Reload:
      ReloadCheck:
        0P00 A 0 A_JumpIfInventory("SamsaraHalfLifeSAWReloadCooldown",1,"ReadyActual")
        0P00 A 0 A_JumpIfInventory("HLSawCounter",0,"ReadyActual")
        0P00 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,2)
        0P00 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"ReloadStart")
        0P00 A 0 A_JumpIfInventory("Cell",1,"ReloadStart")
        goto ReadyActual

      ReloadStart:
        0P10 A 0 A_GunFlash("ReloadStartBelt",GFF_NOEXTCHANGE)
        0P10 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"ReloadStartShephard")
        0P10 A 1 A_WeaponReady(WRF_NOFIRE)
        0P10 B 0 A_PlaySound("HLSaw/Reload")
        0P10 BDE 1 A_WeaponReady(WRF_NOFIRE)
        0P10 F 0
        0P10 GHJKLMNPQSTVWXYZ 1 A_WeaponReady(WRF_NOFIRE)
        0P11 ABDEGHJK 1 A_WeaponReady(WRF_NOFIRE)
        0P11 L 0 A_JumpIfInventory("SamsaraReloadMode",2,"ReloadAmmo")
        goto ReloadFinish

      ReloadStartBelt:
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",9,"ReloadStartBelt8")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",8,"ReloadStartBelt7")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",7,"ReloadStartBelt6")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",6,"ReloadStartBelt5")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",5,"ReloadStartBelt4")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",4,"ReloadStartBelt3")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",3,"ReloadStartBelt2")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",2,"ReloadStartBelt1")
        goto ReloadStartBelt0

      ReloadStartBelt0:
        TNT1 A -1
        stop

      ReloadStartBelt1:
        O110 ABDE 1
        O110 F 0
        O110 GHJKLMNPQSTVWXYZ 1
        O111 ABDEGHJKLMNPQSTVWXYZ 1
        O112 ABDEGH 1
        O113 A -1
        stop

      ReloadStartBelt2:
        O210 ABDE 1
        O210 F 0
        O210 GHJKLMNPQSTVWXYZ 1
        O211 ABDEGHJKLMNPQSTVWXYZ 1
        O212 ABDEGH 1
        O213 A -1
        stop

      ReloadStartBelt3:
        O310 ABDE 1
        O310 F 0
        O310 GHJKLMNPQSTVWXYZ 1
        O311 ABDEGHJKLMNPQSTVWXYZ 1
        O312 ABDEGH 1
        O313 A -1
        stop

      ReloadStartBelt4:
        O410 ABDE 1
        O410 F 0
        O410 GHJKLMNPQSTVWXYZ 1
        O411 ABDEGHJKLMNPQSTVWXYZ 1
        O412 ABDEGH 1
        O413 A -1
        stop

      ReloadStartBelt5:
        O510 ABDE 1
        O510 F 0
        O510 GHJKLMNPQSTVWXYZ 1
        O511 ABDEGHJKLMNPQSTVWXYZ 1
        O512 ABDEGH 1
        O513 A -1
        stop

      ReloadStartBelt6:
        O610 ABDE 1
        O610 F 0
        O610 GHJKLMNPQSTVWXYZ 1
        O611 ABDEGHJKLMNPQSTVWXYZ 1
        O612 ABDEGH 1
        O613 A -1
        stop

      ReloadStartBelt7:
        O710 ABDE 1
        O710 F 0
        O710 GHJKLMNPQSTVWXYZ 1
        O711 ABDEGHJKLMNPQSTVWXYZ 1
        O712 ABDEGH 1
        O713 A -1
        stop

      ReloadStartBelt8:
        O810 ABDE 1
        O810 F 0
        O810 GHJKLMNPQSTVWXYZ 1
        O811 ABDEGHJKLMNPQSTVWXYZ 1
        O812 ABDEGH 1
        O813 A -1
        stop

      ReloadFinish: // interestingly, this weapon could not be fired immediately after ammo calculation is done in opfor. apply this here as well
        0P11 L 0 A_TakeInventory("SamsaraHalfLifeSAWReloadCooldown") // reset
        0P11 L 0 A_GiveInventory("SamsaraHalfLifeSAWReloadCooldown",95)
        0P11 LMNPQSTVWXYZ 1 A_WeaponReady(WRF_NOFIRE)
        0P12 ABDEGH 1 A_WeaponReady(WRF_NOFIRE)
        0P13 A 0 A_GunFlash("ReloadFinishBelt",GFF_NOEXTCHANGE)
        0P13 A 0 A_PlaySound("HLSaw/Reload2")
        0P13 ABDEFGHJKMNPQRSTVWYZ 1 A_WeaponReady(WRF_NOFIRE)
        0P14 ABDEFGHJKMNPQRSTVWYZ 1 A_WeaponReady(WRF_NOFIRE)
        0P15 ABDEFGHJKMNPQRSTVWYZ 1 A_WeaponReady(WRF_NOFIRE)
        0P16 ABDEFGHJKMNPQRSTV 1 A_WeaponReady(WRF_NOFIRE)
        goto ReadyActual

      ReloadFinishBelt:
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",9,"ReloadFinishBelt8")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",8,"ReloadFinishBelt7")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",7,"ReloadFinishBelt6")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",6,"ReloadFinishBelt5")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",5,"ReloadFinishBelt4")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",4,"ReloadFinishBelt3")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",3,"ReloadFinishBelt2")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",2,"ReloadFinishBelt1")
        goto ReloadFinishBelt0

      ReloadFinishBelt0:
        TNT1 A -1
        stop

      ReloadFinishBelt1:
        O113 ABDEFGHJKMNPQRSTVWYZ 1
        O114 ABDEFGHJKMNPQRSTVWYZ 1
        O115 ABDEFGHJ 1
        TNT1 A 0
        O115 KMNPQRSTVWYZ 1
        O116 ABDEFGHJKMNPQRSTV 1
        O100 A -1
        stop

      ReloadFinishBelt2:
        O213 ABDEFGHJKMNPQRSTVWYZ 1
        O214 ABDEFGHJKMNPQRSTVWYZ 1
        O215 ABDEFGHJ 1
        TNT1 A 0
        O215 KMNPQRSTVWYZ 1
        O216 ABDEFGHJKMNPQRSTV 1
        O200 A -1
        stop

      ReloadFinishBelt3:
        O313 ABDEFGHJKMNPQRSTVWYZ 1
        O314 ABDEFGHJKMNPQRSTVWYZ 1
        O315 ABDEFGHJ 1
        TNT1 A 0
        O315 KMNPQRSTVWYZ 1
        O316 ABDEFGHJKMNPQRSTV 1
        O300 A -1
        stop

      ReloadFinishBelt4:
        O413 ABDEFGHJKMNPQRSTVWYZ 1
        O414 ABDEFGHJKMNPQRSTVWYZ 1
        O415 ABDEFGHJ 1
        TNT1 A 0
        O415 KMNPQRSTVWYZ 1
        O416 ABDEFGHJKMNPQRSTV 1
        O400 A -1
        stop

      ReloadFinishBelt5:
        O513 ABDEFGHJKMNPQRSTVWYZ 1
        O514 ABDEFGHJKMNPQRSTVWYZ 1
        O515 ABDEFGHJ 1
        TNT1 A 0
        O515 KMNPQRSTVWYZ 1
        O516 ABDEFGHJKMNPQRSTV 1
        O500 A -1
        stop

      ReloadFinishBelt6:
        O613 ABDEFGHJKMNPQRSTVWYZ 1
        O614 ABDEFGHJKMNPQRSTVWYZ 1
        O615 ABDEFGHJ 1
        TNT1 A 0
        O615 KMNPQRSTVWYZ 1
        O616 ABDEFGHJKMNPQRSTV 1
        O600 A -1
        stop

      ReloadFinishBelt7:
        O713 ABDEFGHJKMNPQRSTVWYZ 1
        O714 ABDEFGHJKMNPQRSTVWYZ 1
        O715 ABDEFGHJ 1
        TNT1 A 0
        O715 KMNPQRSTVWYZ 1
        O716 ABDEFGHJKMNPQRSTV 1
        O700 A -1
        stop

      ReloadFinishBelt8:
        O813 ABDEFGHJKMNPQRSTVWYZ 1
        O814 ABDEFGHJKMNPQRSTVWYZ 1
        O815 ABDEFGHJ 1
        TNT1 A 0
        O815 KMNPQRSTVWYZ 1
        O816 ABDEFGHJKMNPQRSTV 1
        O800 A -1
        stop

      ReloadAmmo:
        0P11 L 0 A_JumpIfInventory("HLSawCounter",0,"ReloadFinish")
        0P11 L 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,2)
        0P11 L 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,2)
        0P11 L 0 A_JumpIfInventory("Cell",1,1)
        goto ReloadFinish
        0P11 L 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,2)
        0P11 L 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,2)
        0P11 L 0 A_TakeInventory("Cell",1)
        0P11 L 0 A_GiveInventory("HLSawCounter")
        loop

      // Adrian Shephard
      ReadyActualNonReloadableShephard:
        OP00 A 0 A_JumpIfInventory("SamsaraHalfLifeSAWReloadCooldown",1,2)
        OP00 A 2 A_WeaponReady
        goto ReadyActualJump
        OP00 A 1 A_WeaponReady(WRF_NOFIRE)
        goto ReadyActual // restart the state

      ReadyActualReloadableShephard:
        OP00 A 0 A_JumpIfInventory("SamsaraHalfLifeSAWReloadCooldown",1,2)
        OP00 A 2 A_WeaponReady(WRF_ALLOWRELOAD)
        goto ReadyActualJump
        OP00 A 1 A_WeaponReady(WRF_NOFIRE) // disallow reloading during cooldown
        goto ReadyActual // restart the state

      ReadyActualIdle1NonReloadableShephard:
        OP00 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        OP01 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        OP02 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        OP03 ABCDEFGHIJKLMNOPQRSTUV 1 A_WeaponReady
        goto ReadyActual

      ReadyActualIdle1ReloadableShephard:
        OP00 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
        OP01 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
        OP02 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
        OP03 ABCDEFGHIJKLMNOPQRSTUV 1 A_WeaponReady(WRF_ALLOWRELOAD)
        goto ReadyActual

      ReadyActualIdle2NonReloadableShephard:
        OP04 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        OP05 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        OP06 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        OP07 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        OP08 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
        OP09 ABCDEFGHIJKLMNOPQRSTUVWX 1 A_WeaponReady
        goto ReadyActual

      ReadyActualIdle2ReloadableShephard:
        OP04 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
        OP05 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
        OP06 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
        OP07 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
        OP08 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
        OP09 ABCDEFGHIJKLMNOPQRSTUVWX 1 A_WeaponReady(WRF_ALLOWRELOAD)
        goto ReadyActual

      ReadyShephard:
        OP19 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        OP20 ABCD 1 A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
        goto ReadyActual

      FireDryShephard:
        OP00 A 4 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        goto ReadyActualAmmoCheck

      HoldDry1Shephard:
        OP21 CDEF 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        goto ReadyActualAmmoCheck

      HoldDry2Shephard:
        OP22 CDEF 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        goto ReadyActualAmmoCheck

      HoldDry3Shephard:
        OP23 CDEF 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        goto ReadyActualAmmoCheck

      FireStartShephard:
        OP00 A 1 Bright A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        OP21 A 0 A_TakeInventory("SamsaraHalfLifeSAWFireState")
        OP21 A 0 A_GiveInventory("SamsaraHalfLifeSAWFireState",random(1,3))
        OP21 A 0 A_JumpIfInventory("SamsaraHalfLifeSAWFireState",0,"FireAnim3Shephard")
        OP21 A 0 A_JumpIfInventory("SamsaraHalfLifeSAWFireState",2,"FireAnim2Shephard")
      FireAnim1Shephard:
        OP21 A 0 A_GunFlash("FireAnim1Belt",GFF_NOEXTCHANGE)
        OP21 A 1 Bright A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        OP21 B 0 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim1FinishShephard")
        OP21 B 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
      FireAnim1FinishShephard:
        OP21 C 0 A_ReFire OP21 C 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        OP21 D 0 A_ReFire OP21 D 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        OP21 E 0 A_ReFire OP21 E 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        OP21 F 0 A_ReFire OP21 F 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        goto ReadyActual

      FireAnim2Shephard:
        OP22 A 0 A_GunFlash("FireAnim2Belt",GFF_NOEXTCHANGE)
        OP22 A 1 Bright A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        OP22 B 0 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim2FinishShephard")
        OP22 B 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
      FireAnim2FinishShephard:
        OP22 C 0 A_ReFire OP22 C 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        OP22 D 0 A_ReFire OP22 D 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        OP22 E 0 A_ReFire OP22 E 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        OP22 F 0 A_ReFire OP22 F 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        goto ReadyActual

      FireAnim3Shephard:
        OP23 A 0 A_GunFlash("FireAnim3Belt",GFF_NOEXTCHANGE)
        OP23 A 1 Bright A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        OP23 B 0 A_JumpIfInventory("HLSawSkipFire",1,"FireAnim3FinishShephard")
        OP23 B 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
      FireAnim3FinishShephard:
        OP23 C 0 A_ReFire OP23 C 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        OP23 D 0 A_ReFire OP23 D 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        OP23 E 0 A_ReFire OP23 E 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        OP23 F 0 A_ReFire OP23 F 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOFIRE)
        goto ReadyActual

      ReloadStartShephard:
        OP10 A 1 A_WeaponReady(WRF_NOFIRE)
        OP10 B 0 A_PlaySound("HLSaw/Reload")
        OP10 BDE 1 A_WeaponReady(WRF_NOFIRE)
        OP10 F 0
        OP10 GHJKLMNPQSTVWXYZ 1 A_WeaponReady(WRF_NOFIRE)
        OP11 ABDEGHJK 1 A_WeaponReady(WRF_NOFIRE)
        OP11 L 0 A_JumpIfInventory("SamsaraReloadMode",2,"ReloadAmmoShephard")
      ReloadFinishShephard:
        OP11 L 0 A_TakeInventory("SamsaraHalfLifeSAWReloadCooldown") // reset
        OP11 L 0 A_GiveInventory("SamsaraHalfLifeSAWReloadCooldown",95)
        OP11 LMNPQSTVWXYZ 1 A_WeaponReady(WRF_NOFIRE)
        OP12 ABDEGH 1 A_WeaponReady(WRF_NOFIRE)
        OP13 A 0 A_GunFlash("ReloadFinishBelt",GFF_NOEXTCHANGE)
        OP13 A 0 A_PlaySound("HLSaw/Reload2")
        OP13 ABDEFGHJKMNPQRSTVWYZ 1 A_WeaponReady(WRF_NOFIRE)
        OP14 ABDEFGHJKMNPQRSTVWYZ 1 A_WeaponReady(WRF_NOFIRE)
        OP15 ABDEFGHJKMNPQRSTVWYZ 1 A_WeaponReady(WRF_NOFIRE)
        OP16 ABDEFGHJKMNPQRSTV 1 A_WeaponReady(WRF_NOFIRE)
        goto ReadyActual

      ReloadAmmoShephard:
        OP11 L 0 A_JumpIfInventory("HLSawCounter",0,"ReloadFinishShephard")
        OP11 L 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,2)
        OP11 L 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,2)
        OP11 L 0 A_JumpIfInventory("Cell",1,1)
        goto ReloadFinishShephard
        OP11 L 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,2)
        OP11 L 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,2)
        OP11 L 0 A_TakeInventory("Cell",1)
        OP11 L 0 A_GiveInventory("HLSawCounter")
        loop
    }
}

actor SamsaraHalfLifeSAWAttackHandler : Trigger
{
    States
    {
      // Ammo checking/taking stuff
      Pickup:
        TNT1 A 0 A_JumpIfInventory("SamsaraReloadMode",2,"PickupReloadable")
      PickupNonReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",1,"PickupAttack")
        TNT1 A 0 A_JumpIfInventory("Cell",1,1)
        stop
        TNT1 A 0 A_TakeInventory("Cell",1)
        goto PickupAttack

      PickupReloadable:
        TNT1 A 0 A_JumpIfInventory("SamsaraHasInfiniteAmmo",0,"PickupAttack")
        TNT1 A 0 A_JumpIfInventory("HLSawCounter",1,1)
        stop
        TNT1 A 0 A_TakeInventory("HLSawCounter",1)
        goto PickupAttack

      // Attack stuff
      PickupAttack:
        TNT1 A 0 A_PlaySound("HLSaw/Fire",CHAN_WEAPON)
        TNT1 A 0 A_JumpIfInventory("SPModeOn",1,"PickupAttackCoop")
        TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"PickupAttackCoop")
      PickupAttackDM:
        TNT1 A 0 A_FireCustomMissile("HLSawBullet",random(-55,55)/10.0,false,0,5,0,random(-35,35)/10.0)
        goto PickupFinish

      PickupAttackCoop:
        TNT1 A 0 A_FireCustomMissile("HLSawBulletCoop",random(-55,55)/10.0,false,0,5,0,random(-35,35)/10.0)
        goto PickupFinish

      // Finishing stuff
      PickupFinish:
        TNT1 A 0 A_Recoil(0.33)
        TNT1 A 0 A_JumpIfInventory("HalfLifeCrouching",1,"PickupFinishCrouch")
        TNT1 A 0 ACS_NamedExecuteAlways("HalfLifeRecoil", 0, 8)
        stop

      PickupFinishCrouch:
        TNT1 A 0 ACS_NamedExecuteAlways("HalfLifeRecoil", 0, 9)
        stop
    }
}

actor HLSawCounter : Ammo
{
    Inventory.MaxAmount 100
    Tag "M249 Magazine"
    +IGNORESKILL
}

Actor HLSawBullet : HLBullet
{
    DamageType "HLLaser"
    Damage (0)
    -NOEXTREMEDEATH
    Scale 0.5
    States
    {
        Crash:
        Death:
            TNT1 A 0 A_Explode(35,8,!XF_HURTSOURCE,0,8)
            Goto Super::Death
        XDeath:
            TNT1 A 0 A_Explode(35,8,!XF_HURTSOURCE,0,8)
            Goto Super::XDeath
    }
}

Actor HLSawBulletCoop : HLBulletCoop
{
    DamageType "HLLaser"
    Damage (0)
    -NOEXTREMEDEATH
    Scale 0.5
    States
    {
        Crash:
        Death:
            TNT1 A 0 A_Explode(35,8,!XF_HURTSOURCE,0,8)
            Goto Super::Death
        XDeath:
            TNT1 A 0 A_Explode(35,8,!XF_HURTSOURCE,0,8)
            Goto Super::XDeath
    }
}

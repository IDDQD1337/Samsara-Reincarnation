ACTOR "  Claw  " : Weapon
{
	Weapon.SelectionOrder 3700
	Weapon.Kickback 100
	Weapon.SlotNumber 0
	Weapon.BobStyle Smooth
	Weapon.BobRangeX 0.55
	Weapon.BobRangeY 0.55
	Weapon.BobSpeed 1.2  
	+WEAPON.MELEEWEAPON
	+WEAPON.NOALERT
	+INVENTORY.UNDROPPABLE
	+WEAPON.WIMPY_WEAPON
	Obituary "%o didnt see %k's bitch scratch."
	Inventory.RestrictedTo "Eleena"
	Tag "Claw"
	States
	{
		Ready:
			TNT1 A 0 A_JumpIfInventory("EradMode", 3, 4)
			TNT1 A 0 A_JumpIfInventory("EradMode", 2, "ReadyDan")
			TNT1 A 0 A_JumpIfInventory("EradMode", 1, "ReadyKamchak")
			TNT1 A 0 A_JumpIfInventory("EleenaReady",1,"IntroTaunt")
			TNT1 A 1 A_WeaponReady
			Loop
		ReadyDan:
			ER00 A 1 A_WeaponReady
			Goto Ready
		ReadyKamchak:
			ER01 A 1 A_WeaponReady
			Goto Ready
		Deselect:
			TNT1 A 0 A_PlaySound("Erad/wepswitch")
			TNT1 A 0 A_Lower
			TNT1 A 1 A_Lower
			Goto Deselect+1
		Select:
			TNT1 A 0 A_Raise
			TNT1 A 1 A_Raise
			Loop
		Fire:
			TNT1 A 0 A_JumpIfInventory("EradMode", 3, "FireMarine")
			TNT1 A 0 A_JumpIfInventory("EradMode", 2, "FireDan")
			TNT1 A 0 A_JumpIfInventory("EradMode", 1, "FireKamchak")
			TNT1 A 0 A_Playsound("eleena/airhit", CHAN_WEAPON)
			ERAC ABC 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
			TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,2)
			TNT1 A 0 A_CustomPunch(3*random(3,6)*3,1,0,"EClawPuff")
			Goto FireEnd
			TNT1 A 0 A_CustomPunch(3*random(3,6)*3,1,0,"EClawPuffCoop")
			Goto FireEnd
		FireEnd:
			ERAC D 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
			ERAC EFHI 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
			ERAC JK 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
			TNT1 A 0 A_ReFire
			Goto Ready
		FireDan:
			TNT1 A 0 A_Playsound("eleena/airhit", CHAN_WEAPON)
			ER00 A 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
			ER00 B 3 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
			ER00 C 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
			TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,2)
			TNT1 A 0 A_CustomPunch(3*random(3,6)*3,1,0,"EClawPuff")
			Goto FireDanEnd
			TNT1 A 0 A_CustomPunch(3*random(3,6)*3,1,0,"EClawPuffCoop")
			Goto FireDanEnd
		FireDanEnd:
			ER00 D 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
			ER00 E 3 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
			ER00 F 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
			TNT1 A 0 A_ReFire
			Goto Ready
		FireKamchak:
			TNT1 A 0 A_Playsound("eleena/airhit", CHAN_WEAPON)
			ER01 A 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
			ER01 B 3 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
			ER01 C 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
			TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,2)
			TNT1 A 0 A_CustomPunch(3*random(3,6)*3,1,0,"EClawPuff")
			Goto FireKamchakEnd
			TNT1 A 0 A_CustomPunch(3*random(3,6)*3,1,0,"EClawPuffCoop")
			Goto FireKamchakEnd
		FireKamchakEnd:
			ER01 D 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
			ER01 E 3 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
			ER01 F 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
			TNT1 A 0 A_ReFire
			Goto Ready
		FireMarine:
			TNT1 A 0 A_Playsound("eleena/airhit", CHAN_WEAPON)
			ER02 A 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
			ER02 B 3 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
			ER02 C 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
			TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,2)
			TNT1 A 0 A_CustomPunch(3*random(3,6)*3,1,0,"EBootPuff")
			Goto FireMarineEnd
			TNT1 A 0 A_CustomPunch(3*random(3,6)*3,1,0,"EBootPuffCoop")
			Goto FireMarineEnd
		FireMarineEnd:
			ER02 D 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
			ER02 E 3 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
			ER02 F 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
			TNT1 A 0 A_ReFire
			Goto Ready
		IntroTaunt:
			TNT1 A 0 A_GiveInventory("EleenaIntroTaunt")
			Goto Ready+4
	}
}

ACTOR EClawPuff : BulletPuff
{
	+NOBLOCKMAP
	+NOGRAVITY
	+ALLOWPARTICLES
	+RANDOMIZE
	RenderStyle Translucent
	//DamageType "BitchScratch"
	Alpha 0.5
	VSpeed 0
	Mass 5
	States
	{
		Crash:
			TNT1 A 0 A_PlaySound("eleena/claw")
			ERPF ABCDEF 4 Bright
			ERPF G 4 Bright A_FadeOut
			Stop
		Melee:
			TNT1 A 1
			Stop
	}
}

ACTOR EClawPuffCoop : EClawPuff { Species "Player" +THRUSPECIES +MTHRUSPECIES }

ACTOR EBootPuff : EClawPuff
{
	States
	{
		Crash:
			TNT1 A 0 A_PlaySound("emarine/boot")
			ERPF ABCDEF 4 Bright
			ERPF G 4 Bright A_FadeOut
			Stop
	}
}

ACTOR EBootPuffCoop : EBootPuff { Species "Player" +THRUSPECIES +MTHRUSPECIES }
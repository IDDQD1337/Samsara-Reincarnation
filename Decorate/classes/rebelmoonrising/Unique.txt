actor RMROxygenRecycler : CustomInventory
{
	+INVENTORY.INVBAR
	+INVENTORY.PICKUPFLASH
	Inventory.MaxAmount 3 
	Inventory.InterHubAmount 3
	Inventory.Icon "RM8ZA0"
    Inventory.PickupMessage "You picked up an Oxygen Recycler."
	Inventory.UseSound ""
    +INVENTORY.UNDROPPABLE
    +INVENTORY.HUBPOWER
	Tag "Oxygen Recycler"  	
	Scale 0.50
    Inventory.RestrictedTo "RebelMoonCommando"	
	Health 100
	States
	{
		Use:
			TNT1 A 0 A_JumpIfHealthLower(CallACS("SamsaraPlayerHealer", -1), "UseSuccess")
			fail

		UseSuccess:	
			TNT1 A 0 A_PlaySound("RMR/useitem",CHAN_ITEM)
			TNT1 A 0 ACS_NamedExecuteWithResult("SamsaraPlayerHealer", 100)
			stop
	}
}

Actor RMRJetPack : CustomInventory
{
	+INVENTORY.INVBAR
	+INVENTORY.PICKUPFLASH
    +INVENTORY.UNDROPPABLE
    Inventory.MaxAmount 3
	Inventory.InterHubAmount 3
    Inventory.Icon "RM8ZC0"
	Inventory.UseSound "RMR/useitem"
    Inventory.PickupMessage "You picked up a JetPack!"	
	Scale 0.50
	Tag "Jetpack"  	
    Inventory.RestrictedTo "RebelMoonCommando"	
	states
	{
		Use:
			TNT1 A 0 A_JumpIfInventory("SPModeOn",1,"CoopUse")
			TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"CoopUse")
			TNT1 A 0 A_GiveInventory("RMRFlyAbility_2",1)
			Stop
		CoopUse:
			TNT1 A 0 A_GiveInventory("RMRFlyAbility",1)
			Stop		
	}		
}	

actor RMRFlyAbility : PowerFlight
{
    Inventory.Icon "TNT1A0"
	Powerup.Duration -70
}

actor RMRFlyAbility_2 : PowerFlight 
{
    Inventory.Icon "TNT1A0"
	Powerup.Duration -55
}

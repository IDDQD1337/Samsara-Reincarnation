actor KatarnPlayer : PlayerPawn
{
  Player.DisplayName  "KyleKatarn"
  Gravity 			  1.15
  Mass 				  175
  Scale               0.8
  Player.Face         "KYL"
  BloodColor          "Red"
  Player.StartItem "OverMax", 200
  Player.StartItem "Bryar Pistol", 1
  Player.StartItem "  Fist_2x5  ", 1
  Player.StartItem "KatarnClass", 1
  Player.StartItem "IsSamsaraClass", 1
  Player.StartItem "Clip", 50
  Player.StartItem "KatarnStarterShield", 1
  Player.StartItem "TauntButton", 1
  Player.Soundclass "Katarn"
  Player.JumpZ 6 //Default is 8
  Player.ColorRange 112, 127
  // Shield debuffs
  DamageFactor "PoisonCloud", 1.5
  DamageFactor "Kamikaze", 1.5
  DamageFactor "ZorchKamikaze", 1.5
  DamageFactor "Melee", 1.1
  DamageFactor "DoomFist", 1.1
  DamageFactor "Chainsaw", 1.5
  DamageFactor "MightyBoot", 1.5
  DamageFactor "Pistol", 1.1
  DamageFactor "ZorchPistol", 1.5
  DamageFactor "DukePistol", 1.1
  DamageFactor "QuakePistol", 1.5
  DamageFactor "MarathonPistol", 1.5
  DamageFactor "Explosive", 1.1
  DamageFactor "DukeExplosive", 1.5
  DamageFactor "FireExplosive", 1.5
  DamageFactor "Fire", 1.1
  DamageFactor "HexGreenFire", 1.5
  DamageFactor "QuakeFire", 1.5
  DamageFactor "HereAxeGreen", 1.5
  DamageFactor "HereAxeRed", 1.5
  DamageFactor "WMCNade", 1.5
  DamageFactor "NotQuadded", 1.5
  DamageFactor "SpectralNoQuad", 1.5
  DamageFactor "ElectricBolt", 1.1
  DamageFactor "RMR-DiscoBall", 1.1			
  DamageFactor "RMR-Bullet", 1.1		
  Damagefactor "RottExplosive", 1.1
  DamageFactor "RottFire", 1.1
  DamageFactor "RottBullet", 1.1
  DamageFactor "BlakeBullet", 1.1
  DamageFactor "Dynamite", 1.1
  DamageFactor "LifeLeech", 1.1
  DamageFactor "CalebBullet", 1.1
  DamageFactor "CalebNapalm", 1.1
  DamageFactor "CalebFire", 1.1
  DamageFactor "DCannonProj", 1.1   
  // Shield buffs
  DamageFactor "DragonClaw", 0.6
  DamageFactor "BFG", 0.6
  DamageFactor "BFGSpray", 0.6
  DamageFactor "Zorch", 0.6
  DamageFactor "PhasingZorch", 0.6
  DamageFactor "Ice", 0.8
  DamageFactor "Slime", 0.8
  DamageFactor "Poison", 0.8
  DamageFactor "DukeDamage", 0.6
  DamageFactor "DukeSpectral", 0.6
  DamageFactor "DukeIce", 0.8
  DamageFactor "MarathonFusion", 0.6
  DamageFactor "DoomPlasma", 0.6
  DamageFactor "MarathonPlasma", 0.6
  DamageFactor "DoomCacodemon", 0.6
  DamageFactor "DoomHellNoble", 0.8
  DamageFactor "DoomSpiderPlasma", 0.6
  DamageFactor "HereLichWind", 0.6
  DamageFactor "HexBishop", 0.6
  DamageFactor "HexStalkerShot", 0.8
  DamageFactor "WMCBeam", 0.6
  DamageFactor "MarathonStun", 0.6
  DamageFactor "EnemyInfightDamage", 0.0
  DamageFactor "PhosFireCoop", 0.0
  DamageFactor "EradCoopGreenFire", 0.0
  DamageFactor "EradCoopExplosive2", 0.0
  DamageFactor "BCannonProj", 0.6
  DamageFactor "EradNova", 0.6
  DamageFactor "RMR-BigPlasma", 0.6
  DamageFactor "RMR-RedPlasma", 0.6	
  DamageFactor "RMR-CyanPlasma", 0.6		
  DamageFactor "RMR-GreenPlasma", 0.6
  DamageFactor "RMR-YellowPlasma2", 8
  DamageFactor "RMR-YellowPlasma", 9
  DamageFactor "BlakePlasma", 0.6
  DamageFactor "Tesla", 0.6
  DamageFactor "Shock", 0.6
  DamageFactor "SWNukeCoop", 0.0		
  DamageFactor "SWRailgunCoop", 0.0
  DamageFactor "SWFlame2Coop", 0.0
  DamageFactor "C7MineBoom", 0.0
  DamageFactor "CMDMGSHIT", 0.0  
  DamageFactor "SWStickyCoop", 0.0 
  DamageFactor "SWFlameCoop", 0.0  
  DamageFactor "DynamiteCoop", 0.0  
  BloodType "SamsaraBloodyHellBlood"
  +NOSKIN
  -DONTBLAST
  -THRUSPECIES
  Species "Player"
  States
  {
    Spawn:
      69DG A -1
      Loop
    See:
      69DG BBBBCCCCDDDDEEEEFFFFGGGG 1
      Loop
    Missile:
      69DG T 12 Bright
      Goto Spawn
    Melee:
      69DG T 6 BRIGHT
      Goto Missile
    Pain:
      69DG U 4 
      69DG U 4 A_Pain
      Goto Spawn
	Death:
	  TNT1 A 0 A_SpawnItem("UniversalBloodyHellGoreDeathEffect")
	  TNT1 A 0 A_Jump(128,"Style2")
	Style1:  
      69DG H 6 A_PlayerScream	  
      69DG I 6 A_NoBlocking
      69DG J 6
      69DG KL 6
      69DG M -1
      Stop
	Style2:  
	  69DG N 6 A_PlayerScream  
	  69DG O 6 A_NoBlocking
	  69DG P 6
	  69DG Q 6
	  69DG RS 6
	  69DG S -1
	  Stop	
	XDeath:
	  TNT1 A 0 A_SpawnItem("UniversalBloodyHellGoreXDeathEffect")
      69DG H 6 A_XScream
      69DG I 6 A_NoBlocking
      69DG J 6 
      69DG KL 6
      69DG M -1
      Stop
    Death.CorvusGrimBallista:
      69DG H 6 A_PlaySoundEx("*falling",CHAN_VOICE,0,0)
      69DG I 6
      69DG J 6 A_NoBlocking
      69DG KL 6
      69DG M -1
      Stop      
    Death.ZorchPistol:
    Death.Zorch:
    Death.ZorchKamikaze:
    Death.PhasingZorch:
    Death.ZorchSpectral:
      69DG U 0 A_Stop
      TNT1 A 0 A_ChangeFlag("DONTGIB",1)
      TNT1 A 0 A_PlaySoundEx("chex/zorch","soundslot5",0,0)
      69DG U 3 A_SpawnItem("ZorchEffectSmall")
      69DG U 3 A_SetTranslucent(0.9,0)
      69DG U 0 A_PlayerScream
      69DG U 3 A_SetTranslucent(0.8,0)
      69DG U 0 A_NoBlocking
      69DG U 3 A_SetTranslucent(0.7,0)
      69DG U 3 A_SetTranslucent(0.6,0)
      69DG U 3 A_SetTranslucent(0.5,0)
      69DG U 3 A_SetTranslucent(0.4,0)
      69DG U 3 A_SetTranslucent(0.3,0)
      69DG U 3 A_SetTranslucent(0.2,0)
      69DG U 3 A_SetTranslucent(0.1,0)
      ACLO E 1 A_SetTranslucent(1,0)
      ACLO E -1
      stop
    CoopModeOn:
      TNT1 A 0
      TNT1 A 0 A_ChangeFlag("THRUSPECIES",1)
      TNT1 A 0 A_ChangeFlag("DONTBLAST",1)
      69DG A 1
      goto Spawn
    Death.DukeDamage:
    Death.DukePistol:
      TNT1 A 0 A_Jump(218,"Death")
      TNT1 A 0 A_GiveToTarget("DukeDMTaunt1",1)
      goto Death
    Death.DukeExplosive:
    Death.DukeSpectral:		  
      TNT1 A 0 A_JumpIfHealthLower(-5,"DukeGibStart")
      goto Death.DukeDamage
    DukeGibStart:
	  69DG U 1
      TNT1 A 0 A_UnsetSolid
      TNT1 A 0 A_PlaySound("duke/enemygib")
      TNT1 A 0 A_SpawnDebris("DukeGibs1")
      TNT1 A 0 A_SpawnDebris("DukeGibs2")
      TNT1 A 0 A_SpawnDebris("DukeGibs3")
      TNT1 A 0 A_SpawnDebris("DukeGibs4")
      TNT1 A 0 A_SpawnDebris("DukeGibs5")
      TNT1 A 0 A_SpawnDebris("DukeGibs6")
      TNT1 A 0 A_Jump(96,"XDeath")
      TNT1 A 0 A_GiveToTarget("DukeDMTaunt1",1)
      Goto XDeath	
    Death.DukeIce:
      TNT1 A 0 A_Jump(218,"Ice")
      TNT1 A 0 A_GiveToTarget("DukeDMTaunt1",1)
      goto Ice
    Ice:
    Death.HexenIce:
    Death.Ice:
      69DG U 5 A_GenericFreezeDeath
      69DG U 1 A_FreezeDeathChunks
      Wait
    Pain.MightyBoot:
      69DG U 1 ACS_ExecuteAlways(312, 0, 25, 5, 24)
      69DG U 1 A_PlaySoundEx("duke/kickhit","body",0,0)
      TNT1 A 0 A_Recoil(12)
      69DG U 6 A_Pain
      Goto See
	Pain.MarathonStun:
      TNT1 A 0 A_Stop
      69DG U 1 ACS_ExecuteAlways(312, 0, 25, 5, 100)
      TNT1 A 0 A_GiveInventory("NothingSpeed")
      TNT1 A 0 A_SetBlend("White",0.9,105)
      69DG U 1 A_PlaySoundEx("marathon/tech50/stun","body",0,0)
      69DG U 6 A_Pain
      Goto See
	Death.Dynamite:
	Death.LifeLeech:
	Death.CalebBullet:
	Death.CalebNapalm:
	Death.Tesla:
	Death.CalebFire:  
	Death.Vodoo:
	  TNT1 A 0 A_Jump(218, "Death")
      TNT1 A 0 A_Jump(128, 2)
      TNT1 A 0 A_GiveToTarget("CalebDMTaunt1", 1)
	  Goto Death
      TNT1 A 0 A_GiveToTarget("CalebDMTaunt1", 1)
	  Goto Death	
	Death.EradDisc:
	Death.EradShock:
	Death.EradPiercingDart:
	Death.EradGreenFire:
	Death.EradCoopGreenFire:  
	Death.EradExplosive2:
      TNT1 A 0 A_Jump(218, "Death")
      TNT1 A 0 A_GiveToTarget("CalebDMTaunt1", 1)
      Goto Death
	Death.EradExplosive:
	Death.EradNova:
      TNT1 A 0 A_Jump(96,"XDeath")
      TNT1 A 0 A_GiveToTarget("CalebDMTaunt1",1)
      goto XDeath
    Death.RottDisintegrate:
      TNT1 A 0 A_Scream
	  TNT1 A 0 A_UnsetSolid
      TNT1 A 5 A_SpawnItem("RGodModeDeath")
      BLAN A -1 A_Fall
      stop
    Death.RottFire:
      TNT1 A 0 A_Scream
      SKE7 A 0 A_playsound("gen/burned")
      SKE7 ABCDEFGHIJKLMNOPQRSTUVWXYZ 2 bright
      SKEX ABCDEFGHIJKL 2 bright
      SKEX M 0 A_playsound("gen/skel")
      SKEX MNOPQRSTUV 3 bright
      SKEX V -1 a_fall
      Stop
    Death.RottExplosive:
  	  TNT1 A 0 A_SpawnItemEx("RottGibbedMan",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE)
	  BLAN A 1
	  TNT1 A 0 A_Jump(128,2)
	  TNT1 A 0 A_GiveToTarget("LudicrousGibsItem", 1)
	  TNT1 AA 0
	  BLAN A 5 A_NoBlocking
	  Stop
    Disintegrate:
      TNT1 A 0 A_GiveInventory("EnemyZorched",1)
      TNT1 A 0 A_NoBlocking
      TNT1 A 0 A_ChangeFlag("DONTGIB",1)
      TNT1 A 0 A_SpawnItemEx("KatarnDisintegrate",0,0,5,0,0,0,0,32)
      ACLO E 5 A_PlayerScream
      ACLO E -1
      stop
	}
}

actor KatarnClass : Boolean {}

ACTOR spark_puff
{
  Scale 0.8
  Renderstyle ADD
  +NOINTERACTION
  +CLIENTSIDEONLY
  States
  {
    Spawn:
      EXLZ BC 2 BRIGHT
      EXLZ DEF 2 BRIGHT
      Stop
  }
}

actor BlankPuffKatarn
{
  +CLIENTSIDEONLY
  States
  {
    Spawn:
    Crash:
      TNT1 A 1 A_PlaySound("katarn/punchit")
      Stop
		
    Melee:
	  TNT1 A 1 A_PlaySound("katarn/punchit")
	  Stop
  }
}

actor blaster_trail
{
  Scale 0.35
  +FORCEXYBILLBOARD
  +NOINTERACTION
  +CLIENTSIDEONLY
  States
  {
	Spawn:
	  LASR A 2 BRIGHT
	  Stop
  }
}

actor blaster_trail_2_a : blaster_trail { }

actor czerka_trail
{
  Scale 0.25
  +NOINTERACTION
  +CLIENTSIDEONLY
  RenderStyle ADD
  States
  {
	Spawn:
	  PBLT A 2 BRIGHT
	  Stop
  }
}

actor KatarnStarterShield: BasicArmorPickup { Armor.Savepercent 100 Armor.Saveamount 100 }

Actor KatarnDisintegrate : ZombiemanDisintegrate 
{
   Scale 0.85
   States
   {
      Spawn:
       TNT1 A 0
       69DG H 3 A_SpawnItem("DisintEffectSmall",0,10)
       69DG H 3 A_SetTranslucent(0.9,0)
       69DG H 3 A_SetTranslucent(0.8,0)
       69DG I 3 A_SetTranslucent(0.7,0)
       69DG I 3 A_SetTranslucent(0.6,0)
       69DG I 3 A_SetTranslucent(0.5,0)
       69DG J 2 A_SetTranslucent(0.4,0)
       69DG J 2 A_SetTranslucent(0.3,0)
       69DG J 2 A_SetTranslucent(0.2,0)
       69DG K 2 A_SetTranslucent(0.1,0)
       Stop
   }
}
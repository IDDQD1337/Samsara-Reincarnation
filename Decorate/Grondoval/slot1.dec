Actor "OnyxRing" : CustomInventory
{
    +INVENTORY.INVBAR
    +INVENTORY.UNDROPPABLE
    Inventory.Amount 1
    Inventory.MaxAmount 1
    Inventory.Icon "WIN1A0"
    Inventory.PickupSound "gpickup/gen"
    Inventory.PickupMessage "You got the Onyx Ring!"
	+FLOATBOB
	Tag "Onyx Ring"	
	Inventory.RestrictedTo "GrondovalPlayer"	
    States
    {
    Spawn:
		PWHA A 4 Bright
        Loop
/*	Pickup:
		TNT1 A 1 ACS_ExecuteAlways(707, 0, 4, 2)	//THIS PREVENTS PICKING THE RING ONLINE WAT???
		stop*/
    Use:
        TNT1 A 0 A_PlaySoundEx("guse/onyxring","body",0,0)
		TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"CoopUse")
		TNT1 A 0 A_Print("! 15 seconds protection from all ranged attacks !")
		TNT1 A 0 A_GiveInventory("WTSuperProtection_Coop",1)
		stop
	CoopUse:	
		TNT1 A 0 A_Print("! 30 seconds protection from all ranged attacks !")
		TNT1 A 0 A_GiveInventory("StopFromPickingShit",1)		
		TNT1 A 0 A_GiveInventory("WTSuperProtection",1)
		stop
    }
}

Actor StopFromPickingShit : Inventory { inventory.maxamount 4 }

Actor WTSuperProtection : PowerProtection
{
	Powerup.Duration -30
	Powerup.Color 255,255,255, 0.35
	//damagefactor "normal", 0.0
	damagefactor "DoomBullet", 0.0
	damagefactor "Pistol", 0.0
	//DamageFactor "DoomFist", 0.0
	damagefactor "ZorchPistol", 0.0
	damagefactor "Wraithverge", 0.0
	damagefactor "zorch", 0.0
	damagefactor "fire", 0.0
	damagefactor "ice", 0.0
	damagefactor "slime", 0.0
	damagefactor "bfg", 0.0
	damagefactor "bfgspray", 0.0
	damagefactor "disintegrate", 0.0
	damagefactor "electric", 0.0
	DamageFactor "BFG", 0.0
	DamageFactor "BFGSpray", 0.0
	DamageFactor "Poison", 0.0
	DamageFactor "PoisonCloud", 0.0
	//DamageFactor "Mace", 0.0
	DamageFactor "DragonClaw", 0.0
	DamageFactor "WolfenFlamethrower", 0.0
	DamageFactor "DukeDamage", 0.0
	DamageFactor "DukeExplosive", 0.0
	DamageFactor "DukeSpectral", 0.0
	//DamageFactor "MightyBoot", 0.0
	DamageFactor "DukeIce", 0.0
	DamageFactor "DukePistol", 0.0
	DamageFactor "MarathonPistol", 0.0
	DamageFactor "Explosive", 0.0
	DamageFactor "CyberExplosive", 0.0
	DamageFactor "DoomPlasma", 0.0
	DamageFactor "CorvusCrossbow", 0.0
	DamageFactor "CorvusHellstaff", 0.0
	DamageFactor "CorvusHellstaffTomed", 0.0
	DamageFactor "MarathonPlasma", 0.0
	//DamageFactor "BJSpear", 0.0
	DamageFactor "DoomCacodemon", 0.0
	DamageFactor "DoomHellNoble", 0.0
	DamageFactor "DoomSpiderPlasma", 0.0
	DamageFactor "DoomTheseGuysAreTheBest", 0.0
	DamageFactor "HereNitrogolem", 0.0
	DamageFactor "HereAxeGreen", 0.0
	DamageFactor "HereAxeRed", 0.0
	DamageFactor "Wizard", 0.0
	DamageFactor "HereLichWind", 0.0
	DamageFactor "HereDsparil", 0.0
	DamageFactor "HexBishop", 0.0
	DamageFactor "HexSlaughtaur", 0.0
	DamageFactor "HexGreenFire", 0.0
	DamageFactor "HexStalkerShot", 0.0
	DamageFactor "HexHeresiarchPurple", 0.0
	DamageFactor "QuakePistol", 0.0
	DamageFactor "NotQuadded", 0.0
	DamageFactor "SpectralNoQuad", 0.0
	//DamageFactor "WTMelee", 0.0
	DamageFactor "WTRanged", 0.0
	DamageFactor "WTRangedFire", 0.0
	//DamageFactor "WTMeleeIce", 0.0
	DamageFactor "WTRangedIce", 0.0
	DamageFactor "Nuke", 0.0
	DamageFactor "PGBullet", 0.0
	DamageFactor "PGPlasma", 0.0
	DamageFactor "PGLaser", 0.0
	DamageFactor "PGFire", 0.0
	DamageFactor "PGExplosive", 0.0
	DamageFactor "Disruptoruniversaldamageshit4", 0.0
	DamageFactor "Disruptoruniversaldamageshit3", 0.0
	DamageFactor "Disruptoruniversaldamageshit2",	0.0
	DamageFactor "DisruptorWall", 0.0
	DamageFactor "MarathonFusion", 1.0
	DamageFactor "Kamikaze", 1.0
	DamageFactor "ZorchKamikaze", 1.0
	DamageFactor "Suicide", 1.0
	DamageFactor "Telefrag", 1.0
}

Actor WTSuperProtection_Coop : WTSuperProtection { Powerup.Duration -15 }
Actor "RottKnife" : Weapon
{
  Weapon.SelectionOrder 3700
  Weapon.Kickback 100
  Weapon.SlotNumber 0
  +WEAPON.MELEEWEAPON
  +WEAPON.NOALERT
  +INVENTORY.UNDROPPABLE  
  +WEAPON.WIMPY_WEAPON  
  Tag "Knife"
  Weapon.UpSound "gen/wepswitch"  
  Inventory.PickupSound "gen/pickup"  
  Obituary "%o was stabbed by %k's knife."
  Inventory.RestrictedTo "IPFreeley"   
  States
  {
  Ready:
	TNT1 A 0 A_GiveInventory("UsingFirearm", 1)  
    TNT1 A 1 A_WeaponReady
    Goto Ready+1
  Deselect: 
     TNT1 A 1 A_Lower 
     Loop 
  Select:
     TNT1 A 1 A_Raise 
     Loop 
  Fire:
     RTKF ABCDE 2
     RTKF F 2 A_CustomPunch(2*random(3, 4)*3,1,0,"Nothing2")
     RTKF G 2
	 RTKF H 2
     TNT1 A 2
	 TNT1 AA 2 A_Refire
     Goto Ready	
  }
}

actor Nothing2
{
	Obituary "%k stab %o to death."
    ActiveSound "rottknife/swing"
	States
	{
		spawn:
		crash:
			TNT1 A 1 A_PlaySound("rottknife/fail")
			STOP
	}
}
// All monsters need species "Monster" added to them for firewall to work properly
Actor GibDelay : PowerDamage { powerup.duration -2 damagefactor "normal", 1.0 }
Actor DisplayMenu : Ammo { inventory.maxamount 1 ammo.backpackamount 0 }
Actor UsingFireArm : Inventory { inventory.amount 1 inventory.maxamount 1 }
Actor RottClass : Inventory { -INVBAR +INVENTORY.UNDROPPABLE Inventory.MaxAmount 1 }
Actor RottGasMask : Inventory { -INVBAR +INVENTORY.UNDROPPABLE Inventory.MaxAmount 1 }
Actor RottGasMaskDuplicateToken : Inventory { -INVBAR +INVENTORY.UNDROPPABLE Inventory.MaxAmount 1 }

Actor IPFreeley : PlayerPawn
{
	Player.ScoreIcon "Freeley"
	Player.ForwardMove 1.02, 1.02
	Player.SideMove 1.02, 1.02
	XScale 0.68
	YScale 0.65
	Gravity 0.8125
	Species "Player"
	Player.StartItem "OverMax", 200		
	player.viewheight 48
	Player.Jumpz 9 // Default is 8
	Player.AttackZOffset 22
	Player.SoundClass "freely"
	Player.DisplayName "IPFreeley"
	Player.StartItem "RPistol"
	Player.StartItem "RottClass", 1
	Player.StartItem "RottKnife"
	Player.StartItem "DisplayMenu"
	Player.StartItem "PlayMusic"
	Player.StartItem "IsSamsaraClass", 1
	Player.StartItem "TauntButton", 1
	Player.ColorRange 112, 127
	DamageFactor "RebelMissile", 0
	DamageFactor "DynamiteCoop", 0.0	
	DamageFactor "SWFlameCoop", 0.0	
	DamageFactor "SWStickyCoop", 0.0
    DamageFactor "Mace", 1.1
	DamageFactor "PhosFireCoop", 0.0
    DamageFactor "Telefrag", 2.0
    DamageFactor "PoisonCloud", 1.65
    DamageFactor "Wraithverge", 0.95
    DamageFactor "CorvusCrossbow", 0.920
    DamageFactor "DragonClaw", 0.9
    DamageFactor "MarathonPistol", 0.9
    DamageFactor "Pistol", 0.863
    DamageFactor "DoomFist", 0.978
    DamageFactor "ZorchPistol", 0.9
    DamageFactor "BFG", 0.9
    DamageFactor "BFGSpray", 0.9
    DamageFactor "Normal", 0.978
    DamageFactor "Zorch", 0.9
    DamageFactor "PhasingZorch", 0.9
    DamageFactor "Ice", 0.999
    DamageFactor "Fire", 0.999
    DamageFactor "Slime", 0.964
    DamageFactor "Disintegrate", 0.9
    DamageFactor "Poison", 0.921
    DamageFactor "WolfenFlamethrower", 0.9
    DamageFactor "DukeDamage", 0.9
    DamageFactor "DukeExplosive", 0.999
    DamageFactor "DukeSpectral", 0.9
    DamageFactor "MightyBoot", 1.2
    DamageFactor "DukeIce", 0.9
    DamageFactor "DukePistol", 0.9
    DamageFactor "Explosive", 0.999
    DamageFactor "MarathonFusion", 0.9
    DamageFactor "DoomPlasma", 0.9
    DamageFactor "CorvusCrossbow", 0.9
    DamageFactor "CorvusHellstaff", 0.9
	DamageFactor "CorvusHellstaffTomed", 0.9
    DamageFactor "MarathonPlasma", 0.9
    DamageFactor "BJSpear", 0.9
    DamageFactor "DoomCacodemon", 0.764
    DamageFactor "DoomHellNoble", 0.888
    DamageFactor "DoomSpiderPlasma", 0.899
    DamageFactor "DoomTheseGuysAreTheBest", 0.9
    DamageFactor "HereNitrogolem", 0.941
    DamageFactor "HereAxeGreen", 0.933
    DamageFactor "HereAxeRed", 0.956
    DamageFactor "Wizard", 0.978
    DamageFactor "HereLichWind", 0.900
    DamageFactor "HereDsparil", 0.912
    DamageFactor "HexBishop", 0.917
    DamageFactor "HexSlaughtaur", 0.981
    DamageFactor "HexGreenFire", 0.989
    DamageFactor "HexStalkerShot", 0.998
    DamageFactor "HexHeresiarchPurple", 0.990
    DamageFactor "WMCBeam", 0.65
    DamageFactor "WMCNade", 0.65
    DamageFactor "QuakePistol", 0.9
    DamageFactor "NotQuadded", 0.9
    DamageFactor "SpectralNoQuad", 0.9
	DamageFactor "MarathonStun", 1.0
    DamageFactor "QuakeFire", 0.9
	DamageFactor "FireExplosive", 0.9	
	DamageFactor "PunchDagger", 0.8
	DamageFactor "ElectricBolt", 1.0
	DamageFactor "PoisonBolt", 0.9
	DamageFactor "MiniExplosive", 0.9
	DamageFactor "StrifeExplosive", 0.9
	DamageFactor "StrifeRebelBullet", 0.9
    DamageFactor "Kamikaze", 1.23333333333
    DamageFactor "ZorchKamikaze", 1.23333333333
	DamageFactor "EnemyInfightDamage", 0.0	
	DamageFactor "CMDMGSHIT", 0.0    
	Damagefactor "RottExplosive", 0.94
	DamageFactor "RottFire", 0.94
	DamageFactor "RottBullet", 0.99
	DamageFactor "BlakePlasma", 0.9
	DamageFactor "BlakeBullet", 0.9
	DamageFactor "Dynamite", 0.9
	DamageFactor "LifeLeech", 0.9
	DamageFactor "Tesla", 0.9
	DamageFactor "CalebBullet", 0.9
	DamageFactor "CalebNapalm", 0.9
	DamageFactor "CalebFire", 0.9
    DamageFactor "C7MineBoom", 0.0
    DamageFactor "EradCoopGreenFire", 0.0
	DamageFactor "EradCoopExplosive2", 0.0
	DamageFactor "BCannonProj", 0.75
    DamageFactor "RMR-BigPlasma", 0.85		
	DamageFactor "SWNukeCoop", 0.0		
	DamageFactor "SWRailgunCoop", 0.0
	DamageFactor "SWFlame2Coop", 0.0
	BloodType "RottFreeleyBlood"
    +NOSKIN
    -DONTBLAST
    -THRUSPECIES
    Species "Player"
	states
	{
	  Spawn:
		IPFS A -1
		Loop
	  See:
		IPFW ABCD 4 
		Loop	  
	  Missile:
	    TNT1 A 0 A_JumpIfInventory("Usingfirearm", 1, "Missile2")
		IPMS D 3
		IPMS E 3 BRIGHT
		Goto Spawn
	  Missile2:
		IPFS B 3
		IPFS C 3 Bright
		Goto Spawn
      Death:
	    TNT1 A 0 A_SpawnItem("UniversalBloodyHellGoreDeathEffect")
		IPFD B 4 A_PlayerScream
		IPFD C 4 A_NoBlocking
		IPFD D 4
		IPFD EFG 4
		IPFD A -1
	    Stop
	  Pain:
		IPFS A 6 A_Pain
		Goto Spawn
	  Pain.Slime:
		TNT1 A 0 A_GiveInventory("SlimeToken", 1)
		IPFS A 6 A_Playsound("freely/cough", CHAN_VOICE)
		Goto Spawn
	  Pain.LifeLeech:
		TNT1 A 0 A_GiveToTarget("SerpentHealth", random(1,2))
		TNT1 A 0 A_GiveToTarget("HealthBonus",1)
		Goto Pain		
      Death.DukeIce:
        TNT1 A 0 A_Jump(218,"Ice")
        TNT1 A 0 A_GiveToTarget("DukeDMTauntDuke",1)
        goto Ice
      Ice:
      Death.HexenIce:
      Death.Ice:
        IPFS A 5 A_GenericFreezeDeath
        IPFS A 1 A_FreezeDeathChunks
        Wait
      XDeath:
	  Death.RottExplosive:	  
		TNT1 A 0 A_SpawnItemEx("RottGibbedMan",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE)
		BLAN A 1 
		TNT1 A 0 A_Jump(128,2)
		TNT1 A 0 A_GiveToTarget("LudicrousGibsItem", 1)
		TNT1 AA 0
		BLAN A 5 A_NoBlocking
		ACLO E -1
		Stop
	  Death.RottDisintegrate:
		TNT1 A 0 A_Scream
		TNT1 A 0 A_UnsetSolid
		BLAN A 5 A_SpawnItem("RGodModeDeath")
		BLAN A -1 A_Fall
		Stop
	  Burn:
	  Death.RottFire:
        TNT1 A 0 A_Scream
	    TNT1 A 0 A_UnsetSolid
	    SKE7 A 0 A_PlaySound("gen/burned") 
	    SKE7 ABCDEFGHIJKLMNOPQRSTUVWXYZ 2 bright
	    SKEX ABCDEFGHIJKL 2 bright
	    SKEX M 0 A_PlaySound("gen/skel") 
        SKEX MNOPQRSTUV 3 bright
	    SKEX V -1 A_Fall    
	    Stop		  
	  Death.Dynamite:
	  Death.LifeLeech:
	  Death.CalebBullet:
	  Death.CalebNapalm:
	  Death.Tesla:
	  Death.Vodoo:
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("CalebDMTaunt1", 1)
		Goto Death
	  Death.CalebFire:
		TNT1 A 0 A_Jump(218, "Burn")
		TNT1 A 0 A_GiveToTarget("CalebDMTaunt1", 1)
		Goto Burn	  
      Death.EradDisc:
	  Death.EradShock:
	  Death.EradPiercingDart:
	  Death.EradExplosive2:	  
		TNT1 A 0 A_Jump(218, "Death")
		TNT1 A 0 A_GiveToTarget("EleenaDMTaunt1", 1)
		Goto Death
	  Death.EradGreenFire:
	  Death.EradCoopGreenFire:	  
		TNT1 A 0 A_Jump(218, "Burn")
		TNT1 A 0 A_GiveToTarget("EleenaDMTaunt1", 1)
		Goto Burn
	  Death.EradExplosive:
	  Death.EradNova:
		TNT1 A 0 A_Jump(218, "XDeath")
		TNT1 A 0 A_GiveToTarget("EleenaGibTaunt", 1)
		Goto XDeath	   
      CoopModeOn:
        TNT1 A 0 
		TNT1 A 0 A_TakeInventory("Doggie", 1)
        TNT1 A 0 A_ChangeFlag("THRUSPECIES",1)
        TNT1 A 0 A_ChangeFlag("DONTBLAST",1)
        IPFS A 1
        Goto Spawn
      Death.DukeDamage:
      Death.DukePistol:
        TNT1 A 0 A_Jump(218,"Death")
        TNT1 A 0 A_GiveToTarget("DukeDMTaunt1",1)
        Goto Death
      Death.DukeExplosive:
        TNT1 A 0 A_JumpIfHealthLower(-5,"DukeGibStart")
        Goto Death.DukeDamage
      DukeGibStart:
		IPFS A 1
        TNT1 A 0 A_UnsetSolid
        TNT1 A 0 A_PlaySound("duke/enemygib")
        TNT1 A 0 A_SpawnDebris("DukeGibs1")
        TNT1 A 0 A_SpawnDebris("DukeGibs2")
        TNT1 A 0 A_SpawnDebris("DukeGibs3")
        TNT1 A 0 A_SpawnDebris("DukeGibs4")
        TNT1 A 0 A_SpawnDebris("DukeGibs5")
        TNT1 A 0 A_SpawnDebris("DukeGibs6")
        TNT1 A 0 A_Jump(96,"XDeath")
        TNT1 A 0 A_GiveToTarget("DukeDMTaunt1",1)
        Goto XDeath			
      Death.ZorchPistol:
      Death.Zorch:
      Death.ZorchKamikaze:
      Death.PhasingZorch:
      Death.ZorchSpectral:
        TNT1 A 0 A_Stop
        TNT1 A 0 A_PlaySoundEx("chex/zorch","soundslot5",0,0)
        IPFS A 3 A_SpawnItem("ZorchEffectSmall")
        IPFS A 3 A_SetTranslucent(0.9,0)
        IPFS A 0 A_PlayerScream
        IPFS A 3 A_SetTranslucent(0.8,0)
        IPFS A 0 A_NoBlocking
        IPFS A 3 A_SetTranslucent(0.7,0)
        IPFS A 3 A_SetTranslucent(0.6,0)
        IPFS A 3 A_SetTranslucent(0.5,0)
        IPFS A 3 A_SetTranslucent(0.4,0)
        IPFS A 3 A_SetTranslucent(0.3,0)
        IPFS A 3 A_SetTranslucent(0.2,0)
        IPFS A 3 A_SetTranslucent(0.1,0)
        ACLO E 1 A_SetTranslucent(1,0)
        ACLO E -1
        stop
      Disintegrate:
        TNT1 A 0 A_GiveInventory("EnemyZorched",1)
        TNT1 A 0 A_NoBlocking
        TNT1 A 0 A_ChangeFlag("DONTGIB",1)
        TNT1 A 0 A_SpawnItemEx("FreelyDisintegrate",0,0,5,0,0,0,0,32)
        ACLO E 5 A_PlayerScream
        ACLO E -1
        stop
    }
}

actor FreelyDisintegrate : ZombiemanDisintegrate 
{
   XScale 0.68
   YScale 0.65
   States
   {
      Spawn:
        TNT1 A 0
        IPFS B 3 A_SpawnItem("DisintEffectSmall",0,10)
        IPFS B 3 A_SetTranslucent(0.9,0)
        IPFS B 3 A_SetTranslucent(0.8,0)
        IPFS B 3 A_SetTranslucent(0.7,0)
        IPFS C 3 A_SetTranslucent(0.6,0)
        IPFS C 3 A_SetTranslucent(0.5,0)
        IPFS C 2 A_SetTranslucent(0.4,0)
        IPFS C 2 A_SetTranslucent(0.3,0)
        IPFS D 2 A_SetTranslucent(0.2,0)
        IPFS D 2 A_SetTranslucent(0.1,0)
        Stop
   }
}

Actor LudicrousGibsItem : CustomInventory {
	+INVENTORY.ALWAYSPICKUP
	+INVENTORY.AUTOACTIVATE
	Inventory.Maxamount 1
	+IGNORESKILL	
	States {
		Pickup:
			TNT1 A 0 A_JumpIfInventory("RoTTClass", 1, "Success")
			Stop
		Success:
			TNT1 A 0 ACS_ExecuteAlways(996, 0)
			Stop
	}
}

Actor SlimeToken : Inventory { Inventory.MaxAmount 1 -INVENTORY.INVBAR }
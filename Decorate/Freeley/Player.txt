// All monsters need species "Monster" added to them for firewall to work properly
Actor GibDelay : PowerDamage { powerup.duration -2 damagefactor "normal", 1.0 }
Actor DisplayMenu : Ammo { inventory.maxamount 1 ammo.backpackamount 0 }
Actor UsingFireArm : Inventory { inventory.amount 1 inventory.maxamount 1 }
Actor RottClass : Inventory { -INVBAR +INVENTORY.UNDROPPABLE Inventory.MaxAmount 1 }
Actor RottGasMask : Inventory { -INVBAR +INVENTORY.UNDROPPABLE Inventory.MaxAmount 1 }
Actor RottGasMaskDuplicateToken : Inventory { -INVBAR +INVENTORY.UNDROPPABLE Inventory.MaxAmount 1 }
Actor RottMode : Inventory { -INVBAR +INVENTORY.UNDROPPABLE Inventory.MaxAmount 4 }

Actor IPFreeley : SamsaraPlayerPawnNormalRedBlood
{
	Player.ScoreIcon "Freeley"
	XScale 0.68
	YScale 0.65
	Gravity 0.8125
	Species "Player"
	player.viewheight 48
	Player.Jumpz 9 // Default is 8
	Player.AttackZOffset 22
	Player.SoundClass "freely"
	Player.DisplayName "IPFreeley"
	Player.StartItem "RPistol"
	Player.StartItem "RottClass", 1
	Player.StartItem "RottKnife"
	Player.StartItem "DisplayMenu"
	//Player.StartItem "PlayMusic"
	Player.StartItem "IsSamsaraClass", 1
	Player.StartItem "TauntButton", 1
	Player.ColorRange 112, 127
	DamageFactor "RebelMissile", 0
	DamageFactor "DynamiteCoop", 0.0	
	DamageFactor "SWFlameCoop", 0.0	
	DamageFactor "SWStickyCoop", 0.0
    DamageFactor "Mace", 1.1
	DamageFactor "PhosFireCoop", 0.0
    DamageFactor "Telefrag", 2.0
    DamageFactor "PoisonCloud", 1.65
    DamageFactor "Wraithverge", 0.95
    DamageFactor "CorvusCrossbow", 0.920
    DamageFactor "DragonClaw", 0.9
    DamageFactor "MarathonPistol", 0.9
    DamageFactor "Pistol", 0.863
    DamageFactor "DoomFist", 0.978
    DamageFactor "ZorchPistol", 0.9
    DamageFactor "BFG", 0.9
    DamageFactor "BFGSpray", 0.9
    DamageFactor "Normal", 0.978
    DamageFactor "Zorch", 0.9
    DamageFactor "PhasingZorch", 0.9
    DamageFactor "Ice", 0.999
    DamageFactor "Fire", 0.999
    DamageFactor "MarathonFire", 0.999
    DamageFactor "MarathonPlasmaFire", 0.999
    DamageFactor "Slime", 0.964
    DamageFactor "Disintegrate", 0.9
    DamageFactor "Poison", 0.921
    DamageFactor "WolfenFlamethrower", 0.9
    DamageFactor "DukeDamage", 0.9
    DamageFactor "DukeExplosive", 0.999
    DamageFactor "DukeSpectral", 0.9
    DamageFactor "MightyBoot", 1.2
    DamageFactor "DukeIce", 0.9
    DamageFactor "DukePistol", 0.9
    DamageFactor "Explosive", 0.999
    DamageFactor "MarathonFusion", 0.9
    DamageFactor "DoomPlasma", 0.9
    DamageFactor "CorvusCrossbow", 0.9
    DamageFactor "CorvusHellstaff", 0.9
	DamageFactor "CorvusHellstaffTomed", 0.9
    DamageFactor "MarathonPlasma", 0.9
    DamageFactor "BJSpear", 0.9
    DamageFactor "DoomCacodemon", 0.764
    DamageFactor "DoomHellNoble", 0.888
    DamageFactor "DoomSpiderPlasma", 0.899
    DamageFactor "DoomTheseGuysAreTheBest", 0.9
    DamageFactor "HereNitrogolem", 0.941
    DamageFactor "HereAxeGreen", 0.933
    DamageFactor "HereAxeRed", 0.956
    DamageFactor "Wizard", 0.978
    DamageFactor "HereLichWind", 0.900
    DamageFactor "HereDsparil", 0.912
    DamageFactor "HexBishop", 0.917
    DamageFactor "HexSlaughtaur", 0.981
    DamageFactor "HexGreenFire", 0.989
    DamageFactor "HexStalkerShot", 0.998
    DamageFactor "HexHeresiarchPurple", 0.990
    DamageFactor "WMCBeam", 0.65
    DamageFactor "WMCNade", 0.65
    DamageFactor "QuakePistol", 0.9
    DamageFactor "NotQuadded", 0.9
    DamageFactor "SpectralNoQuad", 0.9
	DamageFactor "MarathonStun", 1.0
    DamageFactor "QuakeFire", 0.9
	DamageFactor "FireExplosive", 0.9	
	DamageFactor "PunchDagger", 0.8
	DamageFactor "ElectricBolt", 1.0
	DamageFactor "PoisonBolt", 0.9
	DamageFactor "MiniExplosive", 0.9
	DamageFactor "StrifeExplosive", 0.9
	DamageFactor "StrifeRebelBullet", 0.9
    DamageFactor "Kamikaze", 1.23333333333
    DamageFactor "ZorchKamikaze", 1.23333333333
	DamageFactor "EnemyInfightDamage", 0.0	
	DamageFactor "CMDMGSHIT", 0.0    
	Damagefactor "RottExplosive", 0.94
	DamageFactor "RottFire", 0.94
	DamageFactor "RottBullet", 0.99
	DamageFactor "BlakePlasma", 0.9
	DamageFactor "BlakeBullet", 0.9
	DamageFactor "Dynamite", 0.9
	DamageFactor "LifeLeech", 0.9
	DamageFactor "Tesla", 0.9
	DamageFactor "CalebBullet", 0.9
	DamageFactor "CalebNapalm", 0.9
	DamageFactor "CalebFire", 0.9
    DamageFactor "C7MineBoom", 0.0
    DamageFactor "EradCoopGreenFire", 0.0
	DamageFactor "EradCoopExplosive2", 0.0
	DamageFactor "BCannonProj", 0.75
    DamageFactor "RMR-BigPlasma", 0.85		
	DamageFactor "SWNukeCoop", 0.0		
	DamageFactor "SWRailgunCoop", 0.0
	DamageFactor "SWFlame2Coop", 0.0
	BloodType "RottFreeleyBlood"
	var int user_scalex;
	var int user_scaley;
	states
	{
		Spawn:
			IPFS A 0 NoDelay ACS_NamedExecuteWithResult("DisableVoodooDoll")
			IPFS A 0 A_JumpIfInventory("RottMode", 4, 12)
			IPFS A 0 A_JumpIfInventory("RottMode", 3, 9)
			IPFS A 0 A_JumpIfInventory("RottMode", 2, 6)
			IPFS A 0 A_JumpIfInventory("RottMode", 1, 3)
			IPFS A 5
			IPFS A -1 A_Jump(256,"Spawn")
			AL15 A 5
			AL15 A -1 A_Jump(256,"Spawn")
			AL16 A 5
			AL16 A -1 A_Jump(256,"Spawn")
			AL17 A 5
			AL17 A -1 A_Jump(256,"Spawn")
			AL18 A 5
			AL18 A -1 A_Jump(256,"Spawn")
			Loop
		See:
			IPFW A 0 A_JumpIfInventory("RottMode", 4, 24)
			IPFW A 0 A_JumpIfInventory("RottMode", 3, 18)
			IPFW A 0 A_JumpIfInventory("RottMode", 2, 12)
			IPFW A 0 A_JumpIfInventory("RottMode", 1, 6)
			IPFW ABCD 4 
			IPFW A -1 A_Jump(256,"See")
			AL15 BCDE 4 
			AL15 A -1 A_Jump(256,"See")
			AL16 BCDE 4 
			AL16 A -1 A_Jump(256,"See")
			AL17 BCDE 4 
			AL17 A -1 A_Jump(256,"See")
			AL18 BCDE 4 
			AL18 A -1 A_Jump(256,"See")
			Loop
		Missile:
			TNT1 A 0 A_JumpIfInventory("Usingfirearm", 1, "Missile2")
			TNT1 A 0 A_JumpIfInventory("RottMode", 4, 16)
			TNT1 A 0 A_JumpIfInventory("RottMode", 3, 12)
			TNT1 A 0 A_JumpIfInventory("RottMode", 2, 8)
			TNT1 A 0 A_JumpIfInventory("RottMode", 1, 4)
			IPMS D 3
			IPMS E 3 BRIGHT
			TNT1 A -1 A_Jump(256,"Spawn")
			AL15 F 3
			AL15 G 3 BRIGHT
			TNT1 A -1 A_Jump(256,"Spawn")
			AL16 H 3
			AL16 I 3 BRIGHT
			TNT1 A -1 A_Jump(256,"Spawn")
			AL17 H 3
			AL17 I 3 BRIGHT
			TNT1 A -1 A_Jump(256,"Spawn")
			AL18 H 3
			AL18 I 3 BRIGHT
			Goto Spawn
		Missile2:
			TNT1 A 0 A_JumpIfInventory("RottMode", 4, 16)
			TNT1 A 0 A_JumpIfInventory("RottMode", 3, 12)
			TNT1 A 0 A_JumpIfInventory("RottMode", 2, 8)
			TNT1 A 0 A_JumpIfInventory("RottMode", 1, 4)
			IPFS B 3
			IPFS C 3 Bright
			TNT1 A -1 A_Jump(256,"Spawn")
			AL15 O 3
			AL15 P 3 Bright
			TNT1 A -1 A_Jump(256,"Spawn")
			AL16 F 3
			AL16 G 3 Bright
			TNT1 A -1 A_Jump(256,"Spawn")
			AL17 F 3
			AL17 G 3 Bright
			TNT1 A -1 A_Jump(256,"Spawn")
			AL18 F 3
			AL18 G 3 Bright
			TNT1 A -1 A_Jump(256,"Spawn")
			Goto Spawn
		Death:
			TNT1 A 0 A_SpawnItem("UniversalBloodyHellGoreDeathEffect")
			TNT1 A 0 A_JumpIfInventory("RottMode", 4, "DeathDoug")
			TNT1 A 0 A_JumpIfInventory("RottMode", 3, "DeathLorelei")
			TNT1 A 0 A_JumpIfInventory("RottMode", 2, "DeathThi")
			TNT1 A 0 A_JumpIfInventory("RottMode", 1, "DeathTaradino")
			IPFD B 4 A_GiveInventory("ROTTPlayerDeathSoundTrigger")
			IPFD C 4 A_NoBlocking
			IPFD DEFG 4
			IPFD A -1
			Stop
		DeathTaradino:
			AL15 H 4 A_GiveInventory("ROTTPlayerDeathSoundTrigger")
			AL15 I 4 A_NoBlocking
			AL15 JKLM 4
			AL15 N -1
			Stop
		DeathThi:
			AL16 J 4 A_GiveInventory("ROTTPlayerDeathSoundTrigger")
			AL16 K 4 A_NoBlocking
			AL16 LMNO 4
			AL16 P -1
			Stop
		DeathLorelei:
			AL17 J 4 A_GiveInventory("ROTTPlayerDeathSoundTrigger")
			AL17 K 4 A_NoBlocking
			AL17 LMNO 4
			AL17 P -1
			Stop
		DeathDoug:
			AL18 J 4 A_GiveInventory("ROTTPlayerDeathSoundTrigger")
			AL18 K 4 A_NoBlocking
			AL18 LMNO 4
			AL18 P -1
			Stop
		Pain:
			TNT1 A 0 A_JumpIfInventory("RottMode", 4, "PainDoug")
			TNT1 A 0 A_JumpIfInventory("RottMode", 3, "PainLorelei")
			TNT1 A 0 A_JumpIfInventory("RottMode", 2, "PainThi")
			TNT1 A 0 A_JumpIfInventory("RottMode", 1, "PainTaradino")
			IPFS A 6 A_GiveInventory("ROTTPlayerPainSoundTrigger")
			Goto Spawn
		PainTaradino:
			AL15 A 6 A_GiveInventory("ROTTPlayerPainSoundTrigger")
			Goto Spawn
		PainThi:
			AL16 A 6 A_GiveInventory("ROTTPlayerPainSoundTrigger")
			Goto Spawn
		PainLorelei:
			AL17 A 6 A_GiveInventory("ROTTPlayerPainSoundTrigger")
			Goto Spawn
		PainDoug:
			AL18 A 6 A_GiveInventory("ROTTPlayerPainSoundTrigger")
			Goto Spawn
        Pain.DoomDamageTypeStunner:
            TNT1 A 0 A_JumpIfInventory("PowerSamsaraDoomguyStrStunnerSpeedDebuff",1,"Pain") // ensure the timer doesn't reset when you are already slowed
            TNT1 A 0 A_GiveInventory("SamsaraDoomguyStrStunnerSpeedDebuff") // slows down, but not stopped completely
            goto Pain
		Pain.Slime:
			TNT1 A 0 A_JumpIfInventory("RottMode", 4, "PainSlimeDoug")
			TNT1 A 0 A_JumpIfInventory("RottMode", 3, "PainSlimeLorelei")
			TNT1 A 0 A_JumpIfInventory("RottMode", 2, "PainSlimeThi")
			TNT1 A 0 A_JumpIfInventory("RottMode", 1, "PainSlimeTaradino")
			IPFS A 0 A_GiveInventory("SlimeToken", 1)
			IPFS A 6 A_GiveInventory("ROTTPlayerPoisonPainSoundTrigger")
			Goto Spawn
		PainSlimeTaradino:
			AL15 A 0 A_GiveInventory("SlimeToken", 1)
			AL15 A 6 A_GiveInventory("ROTTPlayerPoisonPainSoundTrigger")
			Goto Spawn
		PainSlimeThi:
			AL16 A 0 A_GiveInventory("SlimeToken", 1)
			AL16 A 6 A_GiveInventory("ROTTPlayerPoisonPainSoundTrigger")
			Goto Spawn
		PainSlimeLorelei:
			AL17 A 0 A_GiveInventory("SlimeToken", 1)
			AL17 A 6 A_GiveInventory("ROTTPlayerPoisonPainSoundTrigger")
			Goto Spawn
		PainSlimeDoug:
			AL18 A 0 A_GiveInventory("SlimeToken", 1)
			AL18 A 6 A_GiveInventory("ROTTPlayerPoisonPainSoundTrigger")
			Goto Spawn
		Pain.LifeLeech:
			TNT1 A 0 A_GiveToTarget("SerpentHealth", random(1,2))
			TNT1 A 0 A_GiveToTarget("HealthBonus",1)
			Goto Pain	
		Death.RottExplosive:
		XDeath:
			TNT1 A 0 A_SpawnItem("UniversalBloodyHellGoreXDeathEffect")
			TNT1 A 0 A_SpawnItemEx("RottGibbedMan",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
			TNT1 A 0 A_Jump(128,2)
			TNT1 A 0 A_GiveToTarget("LudicrousGibsItem", 1)
			TNT1 A 1 A_UnsetSolid
			TNT1 A -1
			Stop
		Death.RottFire:
		Burn:
			TNT1 A 0 A_UnsetSolid
			TNT1 A 0 A_SpawnItem("BurningSkeleton") 
			TNT1 A -1
			Stop
		Death.ExpanderDMG:
		XDeath.ExpanderDMG:
			"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
			"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 0 A_PlaySound("duke/expand")
			Goto ExpanderLoop
		ExpanderLoop:
			"####" "#" 1 A_SetScale(1.1*(user_scalex/65536.0)+((0.01*(user_scalex/65536.0))*CallACS("Samsara_Expander",1))+((0.01*(user_scalex/65536.0))*(CallACS("Samsara_Expander",1)-CallACS("Samsara_Expander",2)))*(CallACS("Samsara_Expander",3)*2),1.1*(user_scaley/65536.0)+((0.01*(user_scaley/65536.0))*CallACS("Samsara_Expander",2)))
			"####" "#" 0 A_GiveInventory("ExpanderGrowthX", 1)
			"####" "#" 0 A_JumpIf(ceilingz - (z + height + CallACS("Samsara_Expander",1) + 32) <= 0, 2)
			"####" "#" 0 A_GiveInventory("ExpanderGrowthY", 1)
			"####" "#" 0 A_GiveInventory("ExpanderDoubleX", 1)
			"####" "#" 0 A_JumpIfInventory("ExpanderGrowthX", 40, "ExpanderPop")
			loop
		ExpanderPop:	
			"####" "#" 10
			"####" A 0 A_SpawnItemEx("ExpanderExplosion_Basic",0,0,height*2,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
			"####" A 0 A_PlaySound("duke/explosion", 6, 1.0)
			"####" A 1 ACS_NamedExecuteWithResult("SamsaraDecorate",36,2)
			"####" A 0 A_Jump(96,2)
			"####" A 0 A_GiveToTarget("DukeDMTaunt1", 1)
			"####" A 0 A_SetScale (1.0, 1.0)
			"####" A 0 A_UnsetSolid
			"####" A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR|1048576)
			"####" A 0 A_SpawnItemEx("DukeGibPopSpawner", 0, 0, height*2, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			"####" A 0 A_GiveToTarget("DukeDMTaunt1",1)
			TNT1 A -1 A_UnsetSolid
			Stop
		Death.ExpanderDMGCoop:
		XDeath.ExpanderDMGCoop:
			"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
			"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 0 A_PlaySound("duke/expand")
			Goto ExpanderLoopCoop
		ExpanderLoopCoop:
			"####" "#" 1 A_SetScale(1.1*(user_scalex/65536.0)+((0.01*(user_scalex/65536.0))*CallACS("Samsara_Expander",1))+((0.01*(user_scalex/65536.0))*(CallACS("Samsara_Expander",1)-CallACS("Samsara_Expander",2)))*(CallACS("Samsara_Expander",3)*2),1.1*(user_scaley/65536.0)+((0.01*(user_scaley/65536.0))*CallACS("Samsara_Expander",2)))
			"####" "#" 0 A_GiveInventory("ExpanderGrowthX", 1)
			"####" "#" 0 A_JumpIf(ceilingz - (z + height + CallACS("Samsara_Expander",1) + 32) <= 0, 2)
			"####" "#" 0 A_GiveInventory("ExpanderGrowthY", 1)
			"####" "#" 0 A_GiveInventory("ExpanderDoubleX", 1)
			"####" "#" 0 A_JumpIfInventory("ExpanderGrowthX", 40, "ExpanderPopCoop")
			loop
		ExpanderPopCoop:	
			"####" "#" 10
			"####" A 0 A_SpawnItemEx("ExpanderExplosion_Coop",0,0,height*2,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
			"####" A 0 A_PlaySound("duke/explosion", 6, 1.0)
			"####" A 1 ACS_NamedExecuteWithResult("SamsaraDecorate",36,2)
			"####" A 0 A_Jump(96,2)
			"####" A 0 A_GiveToTarget("DukeDMTaunt1", 1)
			"####" A 0 A_SetScale (1.0, 1.0)
			"####" A 0 A_UnsetSolid
			"####" A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR|1048576)
			"####" A 0 A_SpawnItemEx("DukeGibPopSpawner", 0, 0, height*2, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			"####" A 0 A_GiveToTarget("DukeDMTaunt1",1)
			TNT1 A -1 A_UnsetSolid
			Stop
		Pain.ShrinkerDMG:
			TNT1 A 0 A_JumpIfInventory("GodProtection",1,"Spawn")
			TNT1 A 0 A_ChangeFlag("NOPAIN",true)
			TNT1 A 0 A_ChangeFlag("NODAMAGE",true)
			TNT1 A 0 A_JumpIfInventory("RottMode", 4, "ShrinkDoug")
			TNT1 A 0 A_JumpIfInventory("RottMode", 3, "ShrinkLorelei")
			TNT1 A 0 A_JumpIfInventory("RottMode", 2, "ShrinkThi")
			TNT1 A 0 A_JumpIfInventory("RottMode", 1, "ShrinkTaradino")
			IPFS A 0 ACS_NamedExecuteAlways("Samsara_PlayerShrinker")
			"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
			"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 0 A_PlaySound("duke/shrink")
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("IPFreeley_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("IPFreeley_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("IPFreeley_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("IPFreeley_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("IPFreeley_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("IPFreeley_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("IPFreeley_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 4 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			TNT1 A 0 A_ChangeFlag("NODAMAGE",false)
			TNT1 A 0 A_ChangeFlag("NOPAIN",false)
			Goto Spawn
		ShrinkTaradino:
			TNT1 A 0 A_ChangeFlag("NOPAIN",true)
			TNT1 A 0 A_ChangeFlag("NODAMAGE",true)
			AL15 A 0 ACS_NamedExecuteAlways("Samsara_PlayerShrinker")
			"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
			"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 0 A_PlaySound("duke/shrink")
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("TaradinoCassatt_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("TaradinoCassatt_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("TaradinoCassatt_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("TaradinoCassatt_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("TaradinoCassatt_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("TaradinoCassatt_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("TaradinoCassatt_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 4 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			TNT1 A 0 A_ChangeFlag("NOPAIN",false)
			TNT1 A 0 A_ChangeFlag("NODAMAGE",false)
			Goto Spawn
		ShrinkThi:
			TNT1 A 0 A_ChangeFlag("NOPAIN",true)
			TNT1 A 0 A_ChangeFlag("NODAMAGE",true)
			AL16 A 0 ACS_NamedExecuteAlways("Samsara_PlayerShrinker")
			"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
			"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 0 A_PlaySound("duke/shrink")
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("ThiBarrett_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("ThiBarrett_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("ThiBarrett_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("ThiBarrett_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("ThiBarrett_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("ThiBarrett_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("ThiBarrett_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 4 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			TNT1 A 0 A_ChangeFlag("NOPAIN",false)
			TNT1 A 0 A_ChangeFlag("NODAMAGE",false)
			Goto Spawn
		ShrinkLorelei:
			TNT1 A 0 A_ChangeFlag("NOPAIN",true)
			TNT1 A 0 A_ChangeFlag("NODAMAGE",true)
			AL17 A 0 ACS_NamedExecuteAlways("Samsara_PlayerShrinker")
			"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
			"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 0 A_PlaySound("duke/shrink")
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("LoreleiNi_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("LoreleiNi_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("LoreleiNi_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("LoreleiNi_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("LoreleiNi_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("LoreleiNi_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("LoreleiNi_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 4 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			TNT1 A 0 A_ChangeFlag("NOPAIN",false)
			TNT1 A 0 A_ChangeFlag("NODAMAGE",false)
			Goto Spawn
		ShrinkDoug:
			TNT1 A 0 A_ChangeFlag("NOPAIN",true)
			TNT1 A 0 A_ChangeFlag("NODAMAGE",true)
			AL18 A 0 ACS_NamedExecuteAlways("Samsara_PlayerShrinker")
			"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
			"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 0 A_PlaySound("duke/shrink")
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("DougWendt_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("DougWendt_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("DougWendt_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("DougWendt_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("DougWendt_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("DougWendt_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("DougWendt_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 4 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			TNT1 A 0 A_ChangeFlag("NOPAIN",false)
			TNT1 A 0 A_ChangeFlag("NODAMAGE",false)
			Goto Spawn
		Pain.MightyBoot:
			"####" A 0 ACS_NamedExecuteAlways("SamsaraRecoil", 0, 25, 5, 24)
			"####" A 0 A_PlaySoundEx("duke/kickhit","body",0,0)
			"####" A 0 A_Recoil(12)
			"####" A 0 A_GiveInventory("ROTTPlayerPainSoundTrigger")
			"####" A -1 A_Jump(256,"Spawn")
			wait
		Pain.MarathonStun:
			"####" A 0 A_Stop
			"####" A 0 ACS_NamedExecuteAlways("SamsaraRecoil", 0, 25, 5, 100)
			"####" A 0 A_GiveInventory("NothingSpeed")
			"####" A 0 A_SetBlend("White",0.9,105)
			"####" A 0 A_PlaySoundEx("marathon/tech50/stun","body",0,0)
			"####" A 0 A_GiveInventory("ROTTPlayerPainSoundTrigger")
			"####" A -1 A_Jump(256,"Spawn")
			wait
		Pain.Shock:
		Pain.Tesla:
			CBGS G 4 A_GiveInventory("ROTTPlayerPainSoundTrigger")
			CBGS G 4
			Goto See
		Death.TotenkopfFire:
			TNT1 A 0 A_GiveInventory("ROTTPlayerDeathSoundTrigger")
			TNT1 A 0 A_SpawnItem("Totenkopf_BurningGuard")
			TNT1 A -1 A_UnsetSolid
			Stop
		Death.PhosFire:
		Death.PhosFireCoop:
			TNT1 A 0 A_GiveInventory("ROTTPlayerDeathSoundTrigger")
			TNT1 A 0 A_SpawnItem("StrifeBurningHuman")
			TNT1 A -1 A_UnsetSolid
			Stop
		Death.MarathonFire:
		Death.MarathonPlasmaFire:
			TNT1 A 0 A_GiveInventory("ROTTPlayerDeathSoundTrigger")
			TNT1 A 0 A_SpawnItem("SamsaraMarathonBurningCorpse")
			TNT1 A -1 A_UnsetSolid
			Stop
		Death.ZorchPistol:
		Death.Zorch:
		Death.ZorchKamikaze:
		Death.PhasingZorch:
		Death.ZorchSpectral:
			"####" "#" 0 A_Stop
			"####" "#" 0 A_PlaySoundEx("chex/zorch","soundslot5",0,0)
			"####" "#" 3 A_SpawnItem("ZorchEffectSmall")
			"####" "#" 3 A_SetTranslucent(0.9,0)
			"####" "#" 0 A_GiveInventory("ROTTPlayerDeathSoundTrigger")
			"####" "#" 3 A_SetTranslucent(0.8,0)
			"####" "#" 0 A_UnsetSolid
			"####" "#" 3 A_SetTranslucent(0.7,0)
			"####" "#" 3 A_SetTranslucent(0.6,0)
			"####" "#" 3 A_SetTranslucent(0.5,0)
			"####" "#" 3 A_SetTranslucent(0.4,0)
			"####" "#" 3 A_SetTranslucent(0.3,0)
			"####" "#" 3 A_SetTranslucent(0.2,0)
			"####" "#" 3 A_SetTranslucent(0.1,0)
			TNT1 A 1 A_SetTranslucent(1,0)
			TNT1 A -1 A_UnsetSolid
			Stop
		Disintegrate:
			"####" "#" 0 A_UnsetSolid
			"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
			"####" "#" 0 A_GiveInventory("ROTTPlayerDeathSoundTrigger")
			"####" "#" 0 A_Stop
			"####" "#" 3 A_SpawnItem("DisintEffectSmall",0,10)
			"####" "#" 3 A_SetTranslucent(0.9,0)
			"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
			"####" "#" 3 A_SetTranslucent(0.8,0)
			"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
			"####" "#" 3 A_SetTranslucent(0.7,0)
			"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
			"####" "#" 3 A_SetTranslucent(0.6,0)
			"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
			"####" "#" 3 A_SetTranslucent(0.5,0)
			"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
			"####" "#" 2 A_SetTranslucent(0.4,0)
			"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
			"####" "#" 2 A_SetTranslucent(0.3,0)
			"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
			"####" "#" 2 A_SetTranslucent(0.2,0)
			"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
			"####" "#" 2 A_SetTranslucent(0.1,0)
			TNT1 A -1
			Stop
		Death.Nuke:
			"####" "#" 0 A_GiveInventory("ROTTPlayerDeathSoundTrigger")
			"####" "#" 0 A_UnsetSolid		
			"####" "#" 0 A_SpawnItem("WTNukeDeathSmall")
			"####" "#" 0 A_Stop
			"####" "#################" 3 A_Fadeout(0.05)
			TNT1 A -1
			Stop
		Death.DukePlasma:
            "####" "#" 0 A_Stop
            "####" "#" 1 A_NoBlocking
            "####" "#" 0 A_Jump(218,2)
            "####" "#" 0 A_GiveToTarget("DukeDMTaunt1",1)
            "####" "#" 0 ACS_NamedExecuteAlways("DN64PlasmaDeath")
            "####" "#" 3 A_SpawnItem("Duke64PlasmaEffectSmall")
            "####" "#" 0 A_GiveInventory("EnemyZorched",1)
            "####" "#" 27 A_GiveInventory("ROTTPlayerDeathSoundTrigger")
			TNT1 A 1 A_SetTranslucent(1,0)
            TNT1 A -1
            Stop
    }
}

Actor IPFreeley_Shrink : IPFreeley
{
	Player.ForwardMove 0.25
	Player.SideMove 0.25
	Player.MorphWeapon "ShrunkWeapon"
	Player.ViewHeight 8
	DamageFactor "ZorchPistol", 0.0
	DamageFactor "Zorch", 0.0
	DamageFactor "ZorchKamikaze", 0.0
	DamageFactor "PhasingZorch", 0.0
	DamageFactor "ZorchSpectral", 0.0
	MaxStepHeight 2
	Height 8
	Radius 4
	-SOLID
	+NOPAIN
	States
	{
		Death.PhosFire:
		Death.PhosFireCoop:
		Death.HexGreenFire:
		Death.QuakeFire:
		Death.FireExplosive:
		Death.PGFire:
		Death.WTRangedFire:
		Death.WolfenFlamethrower:
		Death.MarathonFire:
		Death.MarathonPlasmaFire:
		Burn:
		Death.TotenkopfFire:
		Death.DukeDamage:
		Death.DukePistol:
		Death.MightyBoot:
		Death.DukeExplosive:
		Death.DukeIce:
		Ice:
		Death.HexenIce:
		Death.Ice:
		Death.ExpanderDMG:
		XDeath.ExpanderDMG:
		Death.ExpanderDMGCoop:
		XDeath.ExpanderDMGCoop:
		Death.QuakeElectric:
		Death.NotQuadded:
		Death.QuakeExplosive:
		XDeath.QuakeElectric:
		XDeath.NotQuadded:
		XDeath.QuakeExplosive:
		Death.RottExplosive:
		Death.RottFire:
		Death.RottDisintegrate:
		Death.CalebFire:
		Death.LifeLeech:
		Death.CalebNapalm:
		Death.Vodoo:
		Death.VoodooPuff:
		Death.DynamiteCoop:
		Death.Dynamite:
		Death.Shock:  
		Death.Tesla:
		Death.CalebBullet:
		Disintegrate:
		Death.EradExplosive:
		Death.EradNova:
		Death.EradShock:
		Death.EradExplosive2:
		Death.EradDisc:
		Death.EradPiercingDart:
		Death.EradGreenFire:
		Death.EradCoopGreenFire:
		Death.Nuke:
		Death.HLLaser:
		Death.HLExplosive:
		Death.HLRPGExplosive:
		Death.HLEgon:
		Death.FreemanGibs:
		Death.SWFist:
		Death.SWKatana:
		Death.SWShuriken:
		Death.SWSticky:
		Death.SWStickyCoop:
		Death.SWGrenade:
		Death.SWNuke:
		Death.SWRocket:
		Death.SWRailgun:
		Death.SWRailgunCoop:
		Death.SWNukeCoop:
		Death.SWFlame:
		Death.SWFlame2:
		Death.SWFlame2Coop:
		Death.SWFlame3:	
		Death.SWBullet:
		Death.PSRAPower:
		Death.PSRAPowerCoop:
		Death.PSExplosive:
		Death.PSExplosiveCoop:
		Death.PSBullet:
		Death.PSFire:
		Death.PSFire:
		Death.LeonardDamage2:
		Death.LeonardDamage3:
		Death.LeonardDamage0:
		Death.LeonardDamage1:	
		Death.BittermanDamage:
		Death.Hexen2Damage:
		Death.Hexen2Fire:
		Death.Hexen2Electric:
		Death.Hexen2Extreme:
		Death.Hexen2ElectricExtreme:
		Death.Painkiller:
		Death.PainkillerBullet:
		Death.PainkillerElectro:
		Death.PainkillerExplosive:
		Death.PainkillerShuriken:
		Death.PainkillerDemon:
		Death.PainkillerStake:
		Death.PainkillerFire:
		PainkillerGib:
		Death.UnrealDamage:
		Death.UnrealPlasma:
		Death.UnrealSludge:
		Death.ASMDShockTrace:
		Death.UnrealExplosive:
		Death.UnrealRazor:
		Death.UnrealExtreme:
		Death.UnrealRedeemer:
		Death.UnrealShredded:
		UnrealXDeath:
		Death.RTCWVenomBullet:
		Death.RTCWExplosive:
		RTCWXDeath:
		RTCWXDeath2:
		Death.Q3Explosive:
		Death.Q3Energy:
		Death.Q3BFG:
		XDeath.Q3Explosive:
		XDeath.Q3Energy:
		Death.DeusExPistolFire:
		Death.DeusExFlamed:
		Death.DeusExLAM:
		Death.DeusExRifleExploded:
		Death.DeusExSabotPistol:
		Death.DeusExSabot:
		Death.DeusExBurned:
		Death.DeusExExploded:
		DeusXDeath:
		Death:
		XDeath:
		Death.Squish:
		XDeath.Squish:
			TNT1 A 0 A_PlaySound("duke/enemygib", CHAN_BODY)
			TNT1 A 1 A_SpawnItemEx("DukeBloodPool",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
			TNT1 A -1
			stop
		Death.DukeSquish:
		XDeath.DukeSquish:
			TNT1 A 0 A_JumpIfInventory("RottMode", 4, "DukeSquishDoug")
			TNT1 A 0 A_JumpIfInventory("RottMode", 3, "DukeSquishLorelei")
			TNT1 A 0 A_JumpIfInventory("RottMode", 2, "DukeSquishThi")
			TNT1 A 0 A_JumpIfInventory("RottMode", 1, "DukeSquishTaradino")
			TNT1 A 0 A_GiveToTarget("DukeStomp", 1)
			TNT1 A 0 SetPlayerProperty(0,1,PROP_TOTALLYFROZEN)
			IPFS A 15
			TNT1 A 0 A_Jump(64,2)
			TNT1 A 0 A_GiveToTarget("DukeBootTaunt",1)
			TNT1 A 0 SetPlayerProperty(0,0,PROP_TOTALLYFROZEN)
			TNT1 A 0 A_PlaySound("duke/enemygib", CHAN_BODY)
			TNT1 A 1 A_SpawnItemEx("DukeBloodPool",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
			TNT1 A -1
			stop
		DukeSquishTaradino:
			TNT1 A 0 A_GiveToTarget("DukeStomp", 1)
			TNT1 A 0 SetPlayerProperty(0,1,PROP_TOTALLYFROZEN)
			AL15 A 15
			TNT1 A 0 A_Jump(64,2)
			TNT1 A 0 A_GiveToTarget("DukeBootTaunt",1)
			TNT1 A 0 SetPlayerProperty(0,0,PROP_TOTALLYFROZEN)
			TNT1 A 0 A_PlaySound("duke/enemygib", CHAN_BODY)
			TNT1 A 1 A_SpawnItemEx("DukeBloodPool",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
			TNT1 A -1
			stop
		DukeSquishThi:
			TNT1 A 0 A_GiveToTarget("DukeStomp", 1)
			TNT1 A 0 SetPlayerProperty(0,1,PROP_TOTALLYFROZEN)
			AL16 A 15
			TNT1 A 0 A_Jump(64,2)
			TNT1 A 0 A_GiveToTarget("DukeBootTaunt",1)
			TNT1 A 0 SetPlayerProperty(0,0,PROP_TOTALLYFROZEN)
			TNT1 A 0 A_PlaySound("duke/enemygib", CHAN_BODY)
			TNT1 A 1 A_SpawnItemEx("DukeBloodPool",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
			TNT1 A -1
			stop
		DukeSquishLorelei:
			TNT1 A 0 A_GiveToTarget("DukeStomp", 1)
			TNT1 A 0 SetPlayerProperty(0,1,PROP_TOTALLYFROZEN)
			AL17 A 15
			TNT1 A 0 A_Jump(64,2)
			TNT1 A 0 A_GiveToTarget("DukeBootTaunt",1)
			TNT1 A 0 SetPlayerProperty(0,0,PROP_TOTALLYFROZEN)
			TNT1 A 0 A_PlaySound("duke/enemygib", CHAN_BODY)
			TNT1 A 1 A_SpawnItemEx("DukeBloodPool",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
			TNT1 A -1
			stop
		DukeSquishDoug:
			TNT1 A 0 A_GiveToTarget("DukeStomp", 1)
			TNT1 A 0 SetPlayerProperty(0,1,PROP_TOTALLYFROZEN)
			AL18 A 15
			TNT1 A 0 A_Jump(64,2)
			TNT1 A 0 A_GiveToTarget("DukeBootTaunt",1)
			TNT1 A 0 SetPlayerProperty(0,0,PROP_TOTALLYFROZEN)
			TNT1 A 0 A_PlaySound("duke/enemygib", CHAN_BODY)
			TNT1 A 1 A_SpawnItemEx("DukeBloodPool",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
			TNT1 A -1
			stop
	}
}

actor IPFreeley_ShrinkEffect : IPFreeley
{
	-ISMONSTER
	-COUNTKILL
	-SHOOTABLE
	-SOLID
	+NOINTERACTION
	-NOGRAVITY
	+CLIENTSIDEONLY	
	Renderstyle Translucent
	Alpha 0.4
	States
	{
		Spawn:
			IPFS A 0
			IPFS A 0 A_SetUserVar("user_scalex", scalex*65536.0)
			IPFS A 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			Stop
	}
}

actor TaradinoCassatt_ShrinkEffect : IPFreeley
{
	-ISMONSTER
	-COUNTKILL
	-SHOOTABLE
	-SOLID
	+NOINTERACTION
	-NOGRAVITY
	+CLIENTSIDEONLY	
	Renderstyle Translucent
	Alpha 0.4
	States
	{
		Spawn:
			AL15 A 0
			AL15 A 0 A_SetUserVar("user_scalex", scalex*65536.0)
			AL15 A 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			Stop
	}
}

actor ThiBarrett_ShrinkEffect : IPFreeley
{
	-ISMONSTER
	-COUNTKILL
	-SHOOTABLE
	-SOLID
	+NOINTERACTION
	-NOGRAVITY
	+CLIENTSIDEONLY	
	Renderstyle Translucent
	Alpha 0.4
	States
	{
		Spawn:
			AL16 A 0
			AL16 A 0 A_SetUserVar("user_scalex", scalex*65536.0)
			AL16 A 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			Stop
	}
}

actor LoreleiNi_ShrinkEffect : IPFreeley
{
	-ISMONSTER
	-COUNTKILL
	-SHOOTABLE
	-SOLID
	+NOINTERACTION
	-NOGRAVITY
	+CLIENTSIDEONLY	
	Renderstyle Translucent
	Alpha 0.4
	States
	{
		Spawn:
			AL17 A 0
			AL17 A 0 A_SetUserVar("user_scalex", scalex*65536.0)
			AL17 A 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			Stop
	}
}

actor DougWendt_ShrinkEffect : IPFreeley
{
	-ISMONSTER
	-COUNTKILL
	-SHOOTABLE
	-SOLID
	+NOINTERACTION
	-NOGRAVITY
	+CLIENTSIDEONLY	
	Renderstyle Translucent
	Alpha 0.4
	States
	{
		Spawn:
			AL18 A 0
			AL18 A 0 A_SetUserVar("user_scalex", scalex*65536.0)
			AL18 A 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			Stop
	}
}

Actor LudicrousGibsItem : CustomInventory {
	+INVENTORY.ALWAYSPICKUP
	+INVENTORY.AUTOACTIVATE
	Inventory.Maxamount 1
	+IGNORESKILL	
	States {
		Pickup:
			TNT1 A 0 A_JumpIfInventory("RoTTClass", 1, "Success")
			Stop
		Success:
			TNT1 A 0 ACS_NamedExecuteAlways("RoTTLudicrousGibs", 0)
			Stop
	}
}

Actor SlimeToken : Inventory { Inventory.MaxAmount 1 -INVENTORY.INVBAR }

actor ROTTPlayerPainSoundTrigger : Trigger
{
    States
    {
      Pickup:
        TNT1 A 0 A_JumpIfInventory("RottMode",4,"PickupDoug")
        TNT1 A 0 A_JumpIfInventory("RottMode",3,"PickupLorelei")
        TNT1 A 0 A_JumpIfInventory("RottMode",2,"PickupThi")
        TNT1 A 0 A_JumpIfInventory("RottMode",1,"PickupTaradino")
      PickupIan:
        TNT1 A 0 A_Pain
      PickupFinish:
        TNT1 A 0 A_RailWait
        stop

      PickupTaradino:
        TNT1 A 0 A_PlaySound("Taradino/Pain",CHAN_VOICE)
        goto PickupFinish

      PickupThi:
        TNT1 A 0 A_PlaySound("Thi/Pain",CHAN_VOICE)
        goto PickupFinish

      PickupLorelei:
        TNT1 A 0 A_PlaySound("Lorelei/Pain",CHAN_VOICE)
        goto PickupFinish

      PickupDoug:
        TNT1 A 0 A_PlaySound("Doug/Pain",CHAN_VOICE)
        goto PickupFinish
    }
}

actor ROTTPlayerPoisonPainSoundTrigger : Trigger
{
    States
    {
      Pickup:
        TNT1 A 0 A_JumpIfInventory("RottMode",4,"PickupMale")
        TNT1 A 0 A_JumpIfInventory("RottMode",3,"PickupFemale")
        TNT1 A 0 A_JumpIfInventory("RottMode",2,"PickupFemale")
        TNT1 A 0 A_JumpIfInventory("RottMode",1,"PickupMale")
      PickupMale:
        TNT1 A 0 A_Playsound("freely/cough", CHAN_VOICE)
      PickupFinish:
        TNT1 A 0 A_RailWait
        stop

      PickupFemale:
        TNT1 A 0 A_Playsound("rottf/cough", CHAN_VOICE)
        goto PickupFinish
    }
}

actor ROTTPlayerDeathSoundTrigger : Trigger
{
    States
    {
      Pickup:
        TNT1 A 0 A_JumpIfInventory("RottMode",4,"PickupDoug")
        TNT1 A 0 A_JumpIfInventory("RottMode",3,"PickupLorelei")
        TNT1 A 0 A_JumpIfInventory("RottMode",2,"PickupThi")
        TNT1 A 0 A_JumpIfInventory("RottMode",1,"PickupTaradino")
      PickupIan:
        TNT1 A 0 A_PlayerScream
      PickupFinish:
        TNT1 A 0 A_RailWait
        stop

      PickupTaradino:
        TNT1 A 0 A_PlaySound("Taradino/Death",CHAN_VOICE)
        goto PickupFinish

      PickupThi:
        TNT1 A 0 A_PlaySound("Thi/Death",CHAN_VOICE)
        goto PickupFinish

      PickupLorelei:
        TNT1 A 0 A_PlaySound("Lorelei/Death",CHAN_VOICE)
        goto PickupFinish

      PickupDoug:
        TNT1 A 0 A_PlaySound("Doug/Death",CHAN_VOICE)
        goto PickupFinish
    }
}

actor ROTTPlayerFallingSoundTrigger : ROTTPlayerDeathSoundTrigger
{
    States
    {
      Pickup:
        TNT1 A 0 A_JumpIfInventory("RottMode",4,"PickupDoug")
        TNT1 A 0 A_JumpIfInventory("RottMode",3,"PickupLorelei")
        TNT1 A 0 A_JumpIfInventory("RottMode",2,"PickupThi")
        TNT1 A 0 A_JumpIfInventory("RottMode",1,"PickupTaradino")
      PickupIan:
        TNT1 A 0 A_PlaySound("*falling",CHAN_VOICE)
        goto PickupFinish
    }
}

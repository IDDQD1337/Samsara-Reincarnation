actor "Rapid Assault Weapon": InstantSwitchWeapon
{
    Weapon.SelectionOrder 800
    Weapon.SlotNumber 4
	Weapon.BobStyle Alpha
	Weapon.BobRangeX 0
	Weapon.BobRangeY 0.6
	Weapon.BobSpeed 1.5	
    Inventory.PickUpSound "wolfen/knifeget"
    Obituary "%k \cvvaporized\c- %o \cvwith the Rapid Assault Rifle\c-"
    Inventory.PickupMessage "You got a Rapid Assault Rifle!"
    Weapon.AmmoUse 1
    Weapon.AmmoGive 25
	Weapon.AmmoType "Clip"
    +INVENTORY.UNDROPPABLE
    Weapon.YAdjust 12
	Inventory.RestrictedTo "BlakeStone"		
    States
    {
      Spawn:
        BWP4 A -1
        Loop

      Ready:
        BRIF A 1 A_WeaponReady
        loop

      Fire:
        TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"CoopFire")
        BRIF B 2
        TNT1 A 0 A_PlayWeaponSound("BRifle/Fire")
		BRIF C 2 BRIGHT A_FireCustomMissile("BlakeBullet4",frandom(-1.8,1.8),1,0,1,0,frandom(-1.8,1.8))
        //BRIF C 2 BRIGHT A_FireBullets(2.8,2.8,1,7,"BlankPuffBlake")
        BRIF D 2
		BRIF A 3 A_Refire 
        Goto Ready

      CoopFire:
		BRIF B 2
        TNT1 A 0 A_PlayWeaponSound("BRifle/Fire")
        BRIF C 2 BRIGHT A_FireCustomMissile("BlakeBullet4Coop",frandom(-1.8,1.8),1,0,1,0,frandom(-1.8,1.8))
        BRIF D 2
        BRIF A 3 A_Refire
		Goto Ready
    }
}

actor BlakeBullet4: FastProjectile
{
    Damage (24) //17
    Radius 1
    Height 1
    Speed 300
    Projectile
    DamageType "BlakeBullet"
    +BLOODSPLATTER
    +NOTIMEFREEZE
	-EXTREMEDEATH
	+NOEXTREMEDEATH
    Alpha 1.0
    States
    {
      Spawn:
        TNT1 A 1
        loop

      Death:
        TNT1 A 1
        stop
    }
}

actor BlakeBullet4Coop : BlakeBullet4 { Species "Player" +THRUSPECIES }
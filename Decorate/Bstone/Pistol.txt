actor "Auto Charge Pistol": InstantSwitchWeapon
{
    Weapon.SelectionOrder 1899
	Weapon.BobStyle Alpha
	Weapon.BobRangeX 0
	Weapon.BobRangeY 0.6
	Weapon.BobSpeed 1.5
    Weapon.SlotNumber 1
    Inventory.PickUpSound "wolfen/knifeget"
    Obituary "%k \cvovercharged\c- %o \cvwith the Auto Charge Pistol.\c-"
    Inventory.PickupMessage "You got an Auto Charge Pistol!"
    Weapon.AmmoUse 0
    Weapon.AmmoGive 0
    +INVENTORY.UNDROPPABLE
    +WEAPON.WIMPY_WEAPON	
	+NOALERT
    Weapon.YAdjust 11
	Inventory.RestrictedTo "BlakeStone"	
    States
    {
      Spawn:
        BWP1 A -1
        Loop
      Ready:
        BPIS A 1 A_WeaponReady
        loop
      Fire:
		TNT1 A 0 A_JumpIfInventory("BlakeSuperAutoCharge", 1, "Fire2")
        TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"CoopFire")
        BPIS B 3
		TNT1 A 0 A_PlayWeaponSound("BPistol/Fire")
		BPIS C 3 BRIGHT A_FireCustomMissile("BlakeBullet1",0,0,0,1)
        BPIS DE 4
		BPIS A 15
        Goto Ready
	  Fire2:
        TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"CoopFire2")
        BPIS B 3
		TNT1 A 0 A_PlayWeaponSound("BPistol/Fire")
		BPIS C 3 BRIGHT A_FireCustomMissile("BlakeBullet1_2",0,0,0,1)
        BPIS DE 4
		BPIS A 15
        Goto Ready	
      CoopFire:
		BPIS B 3
		TNT1 A 0 A_PlayWeaponSound("BPistol/Fire")
        BPIS C 3 BRIGHT A_FireCustomMissile("BlakeBullet1Coop",0,0,0,1)
        BPIS DE 4
		BPIS A 15
        Goto Ready
      CoopFire2:
		BPIS B 3
		TNT1 A 0 A_PlayWeaponSound("BPistol/Fire")
        BPIS C 3 BRIGHT A_FireCustomMissile("BlakeBullet1_2Coop",0,0,0,1)
        BPIS DE 4
		BPIS A 15
        Goto Ready		
    }
}

actor BlankPuffBlake: BlankPuff { DamageType "BlakeBullet" }

actor BlakeBullet1: FastProjectile
{
    Damage (25+Random(0,10))
    Radius 1
    Height 1
    Speed 300
    Projectile
    DamageType "BlakeBullet"
    +BLOODSPLATTER
    +NOTIMEFREEZE
	-EXTREMEDEATH
	+NOEXTREMEDEATH
    Alpha 1.0
    States
    {
      Spawn:
        TNT1 A 1
        loop
      Death:
        TNT1 A 1
        stop
    }
}

actor BlakeBullet1Coop: BlakeBullet1 { Species "Player" +THRUSPECIES }
actor BlakeBullet1_2 : BlakeBullet1 { Damage (50+Random(0,15)) }
actor BlakeBullet1_2Coop : BlakeBullet1_2 { Species "Player" +THRUSPECIES }
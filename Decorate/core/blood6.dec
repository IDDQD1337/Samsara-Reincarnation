// LEVEL 5: KETCHUP GIBS (also actual brutal gibs)
// ========================

actor Ketchup_FlyingBloodTrail
{
	Scale 0.70
	Mass 1
	RenderStyle Translucent
	Alpha 0.7
	Gravity 0.125
	Speed 2
	//Decal BloodSplat
	+MISSILE
	+NOTELEPORT
	+NOBLOCKMAP
	+FORCEXYBILLBOARD
	+CLIENTSIDEONLY
	+THRUACTORS
	+BOUNCEONWALLS
	+DONTSPLASH
	+NOCLIP
	States
	{
	Spawn:
		//BLHT NNNNNNNNN 4 A_JumpIf(waterlevel > 1, "Splash")
		TNT1 AAAAAAAAA 4 A_JumpIf(waterlevel > 1, "Splash")
		Stop
	Death:
		TNT1 A 0
		Stop
	}
}

actor Ketchup_FlyingBlood
{
	Scale 0.5
	Speed 4
	Radius 8
	Height 1
	Alpha 0.95
	Gravity 0.8
	+MISSILE
	+CLIENTSIDEONLY
	+NOTELEPORT
	+NOBLOCKMAP
	+THRUACTORS
	+FORCEXYBILLBOARD
	+MOVEWITHSECTOR
	+DONTSPLASH
	+BLOODLESSIMPACT
	+NODAMAGETHRUST
	States
	{
	Spawn:
		BLHT IJ 2
		TNT1 A 0 A_Jump(256, "Spawn1", "Spawn2")
	Spawn1:
		BLHT K 1
		Loop
	Spawn2:
		BLHT M 1
		Loop
	Death:
		TNT1 A 0 A_PlaySound("bolognese/blooddrop2")
		TNT1 A 0 A_SpawnItemEx("ketchup_BloodSpot",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		Stop
	}
}

ACTOR Ketchup_BloodSpot
{
	Radius 2
	Height 2
	Mass 1
	+NOTELEPORT
	+CLIENTSIDEONLY
	+FORCEXYBILLBOARD
	+MOVEWITHSECTOR
	+FLOORCLIP
	+DONTSPLASH
	-SOLID
	+THRUACTORS
	-SHOOTABLE
	Alpha 0.9
	Scale 0.5
	Decal BloodSplat
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 1
		TNT1 A 0 A_CheckFloor("SpawnNormally")
		Stop
	SpawnNormally:
		TNT1 A 0 A_Jump(256, "SpawnBFrameOnly", "SpawnCFrameOnly", "SpawnDFrameOnly")
	SpawnAFrameOnly:
		BPDL A 2100
		"####" A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "SpawnAFrameOnly")
		"####" AAAAAAAAAA 1 A_FadeOut(0.1)
		Loop
	SpawnBFrameOnly:
		BPDL B 2100
		"####" B 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "SpawnBFrameOnly")
		"####" BBBBBBBBBB 1 A_FadeOut(0.1)
		Loop
	SpawnCFrameOnly:
		BPDL C 2100
		"####" C 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "SpawnCFrameOnly")
		"####" CCCCCCCCCC 1 A_FadeOut(0.1)
		Loop
	SpawnDFrameOnly:
		BPDL D 2100
		"####" D 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "SpawnDFrameOnly")
		"####" DDDDDDDDDD 1 A_FadeOut(0.1)
		Loop
	Death:
		TNT1 A 0
		TNT1 A 0 A_NoBlocking
		Stop
	}
}

ACTOR Ketchup_MinuscleBloodSpot : Ketchup_BloodSpot { Scale 0.25 }
ACTOR Ketchup_BigBloodSpot : Ketchup_BloodSpot { Scale 0.7 }

ACTOR Ketchup_CeilingBlood : Ketchup_FlyingBlood
{
	+THRUACTORS
	-DOOMBOUNCE
	-SKYEXPLODE
	+BOUNCEONWALLS
	+BLOODLESSIMPACT
	Speed 100
	Gravity 0.0
	Radius 1
	Height 1
	States
	{
	Spawn:
		TNT1 A 4
		Stop
	Death:
		TNT1 A 0
		TNT1 A 0 A_CheckCeiling("IsOnCeiling")
		TNT1 A 0
		Stop
	IsOnCeiling:
		TNT1 A 0
		TNT1 A 1 A_SpawnItemEx("Ketchup_CeilingBloodSpot",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		Stop
	Melee:
	XDeath:
		TNT1 A 1
		Stop
	}
}

ACTOR Ketchup_CeilingBloodSpot
{
	+MISSILE
	+CEILINGHUGGER
	-SKYEXPLODE
	+THRUACTORS
	+DONTSPLASH
	Height 1
	Radius 2
	Mass 0
	Scale 0.5
	Gravity 0.0
	Renderstyle Normal
	Alpha 0.9
	States
	{
	Spawn:
		BPDL A 1
		BPDL A 0 A_SpawnItemEx("Ketchup_DripingBloodLeavesPool",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		BPDL A 0 A_SpawnItemEx("Ketchup_CeilBloodTinyBloodSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
	Live:
		BPDL A 2100
		"####" A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "Live")
		"####" AAAAAAAAAA 1 A_FadeOut(0.1)
		Loop
	}
}

ACTOR Ketchup_CeilBloodTinyBloodSpawner : Ketchup_FlyingBlood
{
	+NOGRAVITY
	+THRUACTORS
	+NOCLIP
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 AAAAAAAAAAAAAA 5 A_SpawnItemEx("Ketchup_BloodDripingFromCeiling",random(-5,5),random(-5,5),0,0,0,-5,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		TNT1 AAAAAAAAAAAAAA 10 A_SpawnItemEx("Ketchup_BloodDripingFromCeiling",random(-5,5),random(-5,5),0,0,0,-5,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		TNT1 AAAAAAAAAAAAAA 16 A_SpawnItemEx("Ketchup_BloodDripingFromCeiling",random(-5,5),random(-5,5),0,0,0,-5,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		TNT1 AAAAAAAAAAAAAA 24 A_SpawnItemEx("Ketchup_BloodDripingFromCeiling",random(-5,5),random(-5,5),0,0,0,-5,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		Stop
	}
}

ACTOR Ketchup_BloodDripingFromCeiling : Ketchup_FlyingBlood
{
	-NOGRAVITY
	+FORCEXYBILLBOARD
	-FORCEYBILLBOARD
	+DONTSPLASH
	+THRUACTORS
	Gravity 0.7
	Radius 4
	Height 1
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_Jump(230, "NoSpawn")
		BSPX K 500
		Loop
	Death:
		TNT1 A 0
		TNT1 A 0 A_PlaySound("bolognese/blooddrop3")
		TNT1 A 0 A_Stop
		XDT1 EFGHIJKL 2
		Stop
	}
}

ACTOR Ketchup_DripingBloodLeavesPool : Ketchup_BloodDripingFromCeiling
{
	-NOGRAVITY
	+FORCEXYBILLBOARD
	-FORCEYBILLBOARD
	Gravity 0.7
	Scale 0.3
	Radius 4
	Height 1
	States
	{
	Spawn:
		BSPX K 4
		Loop
     Death:
	    TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("Ketchup_MinuscleBloodSpot",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_PlaySound("bolognese/blooddrop2")
        XDT1 EFGHIJKL 2
        Stop
	}
}

ACTOR Ketchup_XDeath1
{
	Radius 8
	Height 8
	Speed 10
	Scale 1.2
	Mass 1
	+NOBLOCKMAP
	+MISSILE
	+NOTELEPORT
	+MOVEWITHSECTOR
	+CLIENTSIDEONLY
	+RIPPER
    +BLOODLESSIMPACT 
	-DONTSPLASH
	+THRUGHOST
	+THRUACTORS
	+FLOORCLIP
	SeeSound "bolognese/xdeath4"
    DeathSound "bolognese/xdeath1"
	Mass 1
	States
	{
	Spawn:
		BLDT A 4 A_SpawnItemEx("Ketchup_XDeath1Trail",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		Loop
	Death:
		TNT1 A 0 A_SpawnItemEx("Ketchup_BloodSpot",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		XDT1 EFGHIJKL 5
		Stop
	}
}

ACTOR Ketchup_XDeath1Trail : Ketchup_FlyingBlood 
{
	Scale 0.8
	Gravity 1
	Speed 0
	States
	{
	Spawn:
		TNT1 A 0
		BLHT IJKLM 2
		Stop
	Death:
		TNT1 A 0
		Stop
	}
}

ACTOR Ketchup_XDeath2 : Ketchup_XDeath1
{
	+CLIENTSIDEONLY
	+DONTSPLASH
	Speed 10
	Gravity 0.4
	DeathSound "bolognese/xdeath2"
	//Decal BloodSplat
	Scale 1.1
	States
	{
	Spawn:
		XME1 ABCD 3 A_SpawnItemEx("Ketchup_FlyingBloodTrail",0,0,0,0,0,0,random(0,360),SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		Loop
	Death:
		TNT1 AAAAAAA 0 A_SpawnItemEx("Ketchup_FlyingBloodTrail",0,0,0,0,0,0,random(0,180),SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_CheckFloor("SpawnFloor")
		TNT1 A 0 A_CheckCeiling("SpawnCeiling")
		TNT1 A 0 A_SpawnItemEx("Ketchup_SmearingXDeath2",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		Stop
	SpawnFloor:
		XME1 E 1
		XME1 E 0 A_SpawnItemEx("Ketchup_BloodSpot",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
	SpawnFloor2:
		XME1 E 2100
		"####" M 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "SpawnFloor2")
		"####" MMMMMMMMMM 1 A_FadeOut(0.1)
		Stop
	SpawnCeiling:
		TNT1 A 0 A_SpawnItemEx("Ketchup_CeilXDeath2",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_SpawnItemEx("Ketchup_CeilingBloodSpot",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		Stop
	}
}

ACTOR Ketchup_SmearingXDeath2
{
	Radius 2
	Height 2
	Speed 10
	Mass 1
	Scale 1.0
	Gravity 0.25
	+NOBLOCKMAP
	+NOTELEPORT
	+THRUGHOST
	+CLIENTSIDEONLY
	+DONTSPLASH
	+MOVEWITHSECTOR
	+FORCEXYBILLBOARD
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag("NOGRAVITY", 1)
		TNT1 A 0 A_Jump(256, "Spawn1", "Spawn2", "Spawn3", "Spawn4")
	Spawn1:
		XME1 GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG 1 A_CheckFloor("Rest")
		Goto Death
	Spawn2:
		XME1 GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG 1 A_CheckFloor("Rest")
		Goto Death
	Spawn3:
		XME1 GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG 1 A_CheckFloor("Rest")
		Goto Death
	Spawn4:
		XME1 GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG 1 A_CheckFloor("Rest")
		Goto Death
	Death:
		TNT1 A 0 A_SpawnItemEx("Ketchup_XDeath2NoStick",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		Stop
	Rest:
		XME1 E 4
		XMT1 M 0 A_SpawnItemEx("Ketchup_BloodSpot",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
	Rest2:
		XME1 E 2100
		"####" M 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "Rest2")
		"####" MMMMMMMMMM 1 A_FadeOut(0.1)
		Stop
	}
}

actor Ketchup_CeilXDeath2 : Ketchup_BloodSpot
{
	PROJECTILE
	+MISSILE
	+SPAWNCEILING
	+MOVEWITHSECTOR
	+NOGRAVITY
	+DONTSPLASH
	+CEILINGHUGGER
	RenderStyle Normal
	Scale 1.1
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_Jump(256, "Live1", "Live2", "Live3")
		Goto Live1
	Live1:
		XME1 FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF 3 ThrustThingZ(0,35,0,1)
		Goto Fall
	Live2:
		XME1 FFFFFFFFFFFFFFFFFFFFFFFFFFFF 3 ThrustThingZ(0,35,0,1)
		Goto Fall
	Live3:
		XME1 FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF 3 ThrustThingZ(0,35,0,1)
		Goto Fall
	Fall:
		TNT1 A 0 A_SpawnItemEx("Ketchup_XDeath2NoStick",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		Stop
	}
}

ACTOR Ketchup_XDeath2NoStick : Ketchup_XDeath2
{
	Speed 0
	Gravity 0.4
	DeathSound "bolognese/xdeath2"
	Radius 1
	Height 0
	States
	{
	Spawn:
		TNT1 A 0 A_CheckFloor("Death")
		XME1 H 3
		Loop
	Death:
		TNT1 AAAAAAA 0 A_SpawnItemEx("Ketchup_FlyingBloodTrail",0,0,0,0,0,0,random(0,360),SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		XME1 E 4
		XME1 E 0 A_SpawnItemEx("Ketchup_BloodSpot",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
	Death2:
		XME1 E 600
		"####" E 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "Death2")
		"####" EEEEEEEEEE 1 A_FadeOut(0.1)
		Stop
	}
}

ACTOR Ketchup_XDeath3 : Ketchup_XDeath2
{
	SeeSound "bolognese/xdeath4"
	DeathSound "bolognese/xdeath3"
	//Decal BloodSplat
	Scale 1.1
	States
	{
	Spawn:
		XME2 ABCD 3 A_SpawnItemEx("Ketchup_FlyingBloodTrail",0,0,0,0,0,0,random(0,360),SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		Loop
	Death:
		TNT1 AAAAAAA 0 A_SpawnItemEx("Ketchup_FlyingBloodTrail",0,0,0,0,0,0,random(0,180),SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_CheckFloor("SpawnFloor")
		TNT1 A 0 A_CheckCeiling("SpawnCeiling")
		TNT1 A 0 A_SpawnItemEx("Ketchup_SmearingXDeath3",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		Stop
	SpawnFloor:
		XME2 E 4
		XMT2 I 0 A_SpawnItemEx("Ketchup_BloodSpot",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
	SpawnFloor2:
		XME2 E 2100
		"####" E 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "SpawnFloor2")
		"####" EEEEEEEEEE 1 A_FadeOut(0.1)
		Stop
	SpawnCeiling:
		TNT1 A 0 A_SpawnItemEx("Ketchup_CeilXDeath3",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_SpawnItemEx("Ketchup_CeilingBloodSpot",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		Stop
	}
}

ACTOR Ketchup_SmearingXDeath3 : Ketchup_SmearingXDeath2
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_JumpIf(waterlevel > 1, "Death")
		TNT1 A 0 A_ChangeFlag("NOGRAVITY", 1)
		TNT1 A 0 A_Jump(256, "Spawn1", "Spawn2", "Spawn3", "Spawn4")
	Spawn1:
		XME2 GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG 1 A_CheckFloor("Rest")
		Goto Death
	Spawn2:
		XME2 GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG 1 A_CheckFloor("Rest")
		Goto Death
	Spawn3:
		XME2 GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG 1 A_CheckFloor("Rest")
		Goto Death
	Spawn4:
		XME2 GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG 1 A_CheckFloor("Rest")
		Goto Death
	Death:
		TNT1 A 0 A_SpawnItemEx("Ketchup_XDeath3NoStick",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		Stop
	Rest:
		XME2 E 4
		XMT2 E 0 A_SpawnItemEx("Ketchup_BloodSpot",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
	Rest2:
		XMT2 E 2100
		"####" E 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "Rest2")
		"####" EEEEEEEEEE 1 A_FadeOut(0.1)
		Stop
	}
}

actor Ketchup_CeilXDeath3 : Ketchup_CeilXDeath2
{
	States
	{
	Spawn:
		Goto Crash
	Death:
	Crash:
		TNT1 A 0
		TNT1 A 0 A_Jump(256, "Live1", "Live2", "Live3")
		Goto Live1
	Live1:
		XME2 FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF 3 ThrustThingZ(0,35,0,1)
		Goto Fall
	Live2:
		XME2 FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF 3 ThrustThingZ(0,35,0,1)
		Goto Fall
	Live3:
		XME2 FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF 3 ThrustThingZ(0,35,0,1)
		Goto Fall
	Fall:
		TNT1 A 0 A_SpawnItemEx("Ketchup_XDeath3NoStick",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		Stop
	}
}

ACTOR Ketchup_XDeath3NoStick : Ketchup_XDeath2NoStick
{
	States
	{
	Spawn:
		XME2 H 3 A_CheckFloor("Death")
		Loop
	Death:
		TNT1 AAAAAAA 0 A_SpawnItemEx("Ketchup_FlyingBloodTrail",0,0,0,0,0,0,random(0,360),SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		XME2 E 4
		XME2 E 0 A_SpawnItemEx("Ketchup_BloodSpot",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
	Death2:
		XME2 E 2100
		"####" E 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "Death2")
		"####" EEEEEEEEEE 1 A_FadeOut(0.1)
		Stop
	}
}

ACTOR Ketchup_XDeath4 : Ketchup_XDeath2
{
	SeeSound "bolognese/xdeath4"
	DeathSound "bolognese/xdeath3"
	Scale 1.1
	+DOOMBOUNCE
	BounceFactor 0.3
	WallBounceFactor 0.2
	States
	{
	Spawn:
		XME3 ABCDEFGH 3 A_SpawnItemEx("Ketchup_FlyingBloodTrail",0,0,0,0,0,0,random(0,360),SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		Loop
	Death:
		XME3 GH 3
		XME3 A 1
		XME3 A 0 A_SpawnItemEx("Ketchup_BloodSpot",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_Jump(256, "Death1", "Death2")
		Goto Death1
	Death1:
		XME3 A 2100
		"####" A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "Death1")
		"####" AAAAAAAAAA 1 A_FadeOut(0.1)
		Stop
	Death2:
		XME3 I 2100
		"####" I 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "Death2")
		"####" IIIIIIIIII 1 A_FadeOut(0.1)
		Stop
	}
}

ACTOR Ketchup_XDeath5 : Ketchup_XDeath2
{
	SeeSound "bolognese/xdeath4"
	DeathSound "bolognese/xdeath3"
	Scale 1.1
	States
	{
	Spawn:
		XDT8 P 3 A_SpawnItemEx("Ketchup_FlyingBloodTrail",0,0,0,0,0,0,random(0,360),SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		Loop
	Death:
		TNT1 AAAAAAA 0 A_SpawnItemEx("Ketchup_FlyingBloodTrail",0,0,0,0,0,0,random(0,360),SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_SpawnItemEx("Ketchup_BloodSpot",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		XDT8 Q 3
	Death2:
		XDT8 Q 2100
		"####" B 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "Death2")
		"####" BBBBBBBBBB 1 A_FadeOut(0.1)
		Stop
	}
}

ACTOR Ketchup_XDeathOrgan1 : Ketchup_XDeath2
{
	SeeSound "bolognese/xdeath4"
	DeathSound "bolognese/xdeath3"
	Scale 0.9
	Speed 4
	States
	{
	Spawn:
		XME8 A 4 A_SpawnItemEx("Ketchup_FlyingBloodTrail",0,0,0,0,0,0,random(0,360),SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		Loop
	Death:
		XME8 A 1
	Death2:
		XME8 A 2100
		"####" A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "Death2")
		"####" AAAAAAAAAA 1 A_FadeOut(0.1)
		Stop
	}
}

ACTOR Ketchup_XDeathOrgan2 : Ketchup_XDeath2
{
	SeeSound "bolognese/xdeath4"
	DeathSound "bolognese/xdeath3"
	Scale 0.9
	Speed 4
	States
	{
	Spawn:
		XME8 B 4 A_SpawnItemEx("Ketchup_FlyingBloodTrail",0,0,0,0,0,0,random(0,360),SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		Loop
	Death:
		XME8 B 1
	Death2:
		XME8 B 2100
		"####" B 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "Death2")
		"####" BBBBBBBBBB 1 A_FadeOut(0.1)
		Stop
	}
}

ACTOR Ketchup_SmallBrainPiece
{
    Radius 2
    Height 2
	Speed 10
	Mass 1
	Scale 0.5
	+MISSILE
    +NOBLOCKMAP
    +NOTELEPORT
	+THRUGHOST
	+THRUACTORS
	+CLIENTSIDEONLY
    +DONTSPLASH
    +MOVEWITHSECTOR
	-DONTSPLASH
	+FORCEXYBILLBOARD
	+FLOORCLIP
    States
    {
	Spawn:
		TNT1 A 0 A_Jump(32, "DoNothing")
		TNT1 A 0 A_ChangeFlag("NOGRAVITY", 0)
		Goto SpawnLoop
	SpawnLoop:
		XDB7 ABCDEFGH 3
		Loop
	Death:
		TNT1 A 0 A_CheckFloor("SpawnFloor")
		TNT1 A 0 A_CheckCeiling("SpawnCeiling")
		Stop
	SpawnFloor:
		TNT1 A 0 A_Jump(256, "SpawnFloor1", "SpawnFloor2")
		Goto SpawnFloor1
	SpawnFloor1:
		XDT8 B 2100
		"####" B 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "SpawnFloor1")
		"####" BBBBBBBBBB 1 A_FadeOut(0.1)
		Stop
	SpawnFloor2:
		XDT8 O 2100
		"####" O 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "SpawnFloor2")
		"####" OOOOOOOOOO 1 A_FadeOut(0.1)
		Stop
	SpawnCeiling:
		TNT1 A 0 A_SpawnItemEx("Ketchup_SmearingBrain",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		Stop
	DoNothing:
		TNT1 A 0
		Stop
	}
}

ACTOR Ketchup_SmearingBrain
{
    Radius 2
    Height 2
	Speed 10
	Mass 1
	Scale 0.5
    +NOBLOCKMAP
    +NOTELEPORT
	+THRUGHOST
	+CLIENTSIDEONLY
    +DONTSPLASH
    +MOVEWITHSECTOR
	-DONTSPLASH
	+FORCEXYBILLBOARD
	+QUARTERGRAVITY
    States
    {
	Spawn:
		TNT1 A 0 A_ChangeFlag("NOGRAVITY", 1)
		TNT1 A 0 A_Jump(255, "Spawn1", "Spawn2", "Spawn3", "Spawn4")
		Goto Spawn1
	Spawn1:
		XDB7 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_CheckFloor("Rest")
		Goto Fall
	Spawn2:
		XDB7 BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB 1 A_CheckFloor("Rest")
		Goto Fall
	Spawn3:
		XDB7 CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC 1 A_CheckFloor("Rest")
		Goto Fall
	Spawn4:
		XDB7 DDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDD 1 A_CheckFloor("Rest")
		Goto Fall
	Fall:
	Rest:
		TNT1 A 0 A_ChangeFlag("QUARTERGRAVITY", 1)
		XDB7 A 2 ThrustThingZ(0,-2,0,1)
		TNT1 A 0 A_CheckFloor("Sleep")
		Loop
	Sleep:
		XDT8 B 2100
		"####" B 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "Sleep")
		"####" BBBBBBBBBB 1 A_FadeOut(0.1)
		Stop
	}
}

ACTOR Ketchup_Eyeball
{
    Radius 2
    Height 2
    Speed 6
	Mass 1
	BounceFactor 0.5
	+DOOMBOUNCE
    +NOBLOCKMAP
	+MISSILE
    +NOTELEPORT
    +MOVEWITHSECTOR
    +CLIENTSIDEONLY
    +FORCEXYBILLBOARD
	-EXPLODEONWATER
	//Decal BloodSplat
	Scale 0.8
	States
	{
	Spawn:
		BRIB EFGH 4
		Loop
	Death:
		BRIB E 1
		Goto Rest
	Rest:
		TNT1 A 0 A_Jump(256, "Rest1", "Rest2", "Rest3", "Rest4")
	Rest1:
		BRIB E 2100
		"####" E 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "Rest1")
		"####" EEEEEEEEEE 1 A_FadeOut(0.1)
		Stop
	Rest2:
		BRIB F 2100
		"####" F 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "Rest2")
		"####" FFFFFFFFFF 1 A_FadeOut(0.1)
		Stop
	Rest3:
		BRIB G 2100
		"####" G 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "Rest3")
		"####" GGGGGGGGGG 1 A_FadeOut(0.1)
		Stop
	Rest4:
		BRIB H 2100
		"####" H 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "Rest4")
		"####" HHHHHHHHHH 1 A_FadeOut(0.1)
		Stop
	}
}

ACTOR Ketchup_Intestine
{
    Radius 8
    Height 12
    Speed 6
	Mass 1
	BounceFactor 0.4
	Renderstyle Translucent
	Alpha 0.9
	+DOOMBOUNCE
    +NOBLOCKMAP
	+MISSILE
    +NOTELEPORT
    +MOVEWITHSECTOR
    +CLIENTSIDEONLY
    +FORCEXYBILLBOARD
	-EXPLODEONWATER
    DeathSound "bolognese/xdeath1"
	//Decal BloodSplat
	Scale 1.1
	States
	{
	Spawn:
		XDT9 ABCD 8
		Loop
	Death:
		XDT9 E 1
		TNT1 A 0 A_Jump(256, "Death1", "Death2")
		Goto Death1
	Death1:
		XDT9 E 2100
		"####" E 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "Rest1")
		"####" EEEEEEEEEE 1 A_FadeOut(0.1)
		Stop
	Death2:
		XDT9 F 2100
		"####" F 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "Rest2")
		"####" FFFFFFFFFF 1 A_FadeOut(0.1)
		Stop
	}
}

actor Ketchup_Bloodmist : Ketchup_FlyingBlood
{
	Scale 0.8
	Radius 2
	Height 2
	Speed  8
	Gravity 0.4
	RenderStyle Translucent
	Alpha 0.9
	States
	{
	Spawn:
		BLHT QRSTUVWX 1
		BLHT XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 1 A_FadeOut(0.005)
	Death:
		TNT1 A 0 A_CheckFloor("Disappear")
		BLHT XXXXXXXX 1 A_FadeOut(0.1)
		Stop
	Disappear:
		TNT1 A 2
		Stop
	}
}

actor Ketchup_SuperGore
{
	//Decal BloodSplat
	Alpha 0.6
	+FORCEXYBILLBOARD
	+GHOST
	+NOBLOCKMAP
	Gravity 0.05
	+DONTSPLASH
	-EXPLODEONWATER
	-ALLOWPARTICLES 
	+CLIENTSIDEONLY
	-NOGRAVITY
	+THRUACTORS
	+NOCLIP
	Scale 1.0
	Speed 3
	States
	{
	Spawn:
		TNT1 A 0
		B1OR LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL 1 A_FadeOut(0.01)
		Stop
	}
}

Actor Ketchup_SuperGoreMist : Ketchup_SuperGore
{
	Scale 3.0
	Speed 8
	Gravity 0.3
}

Actor Ketchup_SuperGoreMistTiny : Ketchup_SuperGore
{
	Scale 0.4
	Speed 1
	Gravity 0.1
}

actor Ketchup_GrowingBloodPool : Ketchup_BloodSpot
{
	var int user_bloodpoolsize;
	Radius 1
	Height 1
	Mass 1
	Health 600
	RenderStyle Normal
	Alpha 1.0
	+NOTELEPORT
	+CLIENTSIDEONLY
	+FORCEXYBILLBOARD
	+MOVEWITHSECTOR
	+FLOORCLIP
	+MISSILE
	+DONTSPLASH
	Scale 1.0
	States
	{
	Spawn:
		TNT1 A 0 A_JumpIf(waterlevel > 1, "Splash")
		TNT5 A 1
		TNT5 A 30
		TNT5 BCD 5
		TNT5 EFGHIJKLMNOP 5
		TNT5 QRSTUVWXYZ 5
	Live:
		TNT5 Z 2100
		"####" A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",31) == 1, "Live")
		"####" AAAAAAAAAA 1 A_FadeOut(0.1)
		Stop
	Splash:
		BLDT A 0
		Stop
	 }
}

// Armor Scraps
Actor ArmorScrap : CustomInventory
{
	Scale 0.5
	RenderStyle Add
	Alpha 0.9
	+FLOATBOB
	+INVENTORY.QUIET
	-INVENTORY.ALWAYSPICKUP
	-COUNTITEM
	//Inventory.Pickupmessage "$SAMSARA_ARMORSCRAP"
	//Inventory.PickupSound "armor0get"
	Inventory.Icon "RMR1A0"
	//Armor.Saveamount 1
	//Armor.MaxSaveAmount 200
	States
	{
	Spawn:
		TNT1 A 0
		BON2 A 0 BRIGHT
		BON2 A 35 BRIGHT ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
		wait
	Pickup:
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 200, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupActual")
		wait
	PickupActual:
		TNT1 A 0 ACS_NamedExecute("ArmorScrapPickupMessage")
		TNT1 A 0 A_SetBlend("d7ba45", 0.3, 4)
		TNT1 A 0 A_PlaySound("armor0get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("ArmorScrapArmor", 1)
		stop
	PickupFail:
        BON2 A 1 BRIGHT
        fail
	PickupStop:
		TNT1 A 0
		stop
	SpawnCancel:
		TNT1 A 1 A_FadeOut
		stop
	}
}

Actor QuakeArmorScrap : CustomInventory
{
	Scale 0.5
	RenderStyle Add
	Alpha 0.9
	+FLOATBOB
	+INVENTORY.QUIET
	-INVENTORY.ALWAYSPICKUP
	-COUNTITEM
	//Inventory.Pickupmessage "$SAMSARA_ARMORSCRAP"
	//Inventory.PickupSound "armor0get"
	Inventory.Icon "RMR1A0"
	//Armor.Saveamount 1
	//Armor.MaxSaveAmount 200
	States
	{
	Spawn:
		TNT1 A 0
		BON2 A 0 BRIGHT
		BON2 A 35 BRIGHT ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
		wait
	Pickup:
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 200, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupActual")
		wait
	PickupActual:
		TNT1 A 0 ACS_NamedExecute("ArmorScrapPickupMessage")
		TNT1 A 0 A_SetBlend("d7ba45", 0.3, 4)
		TNT1 A 0 A_PlaySound("armor0get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("QuakeArmorScrapArmor", 1)
		stop
	PickupFail:
        BON2 A 1 BRIGHT
        fail
	PickupStop:
		TNT1 A 0
		stop
	SpawnCancel:
		TNT1 A 1 A_FadeOut
		stop
	}
}

Actor QuakeArmorScrap2 : CustomInventory
{
	Scale 0.5
	RenderStyle Add
	Alpha 0.9
	+FLOATBOB
	+INVENTORY.QUIET
	-INVENTORY.ALWAYSPICKUP
	-COUNTITEM
	//Inventory.Pickupmessage "$SAMSARA_ARMORSCRAP"
	//Inventory.PickupSound "armor0get"
	Inventory.Icon "RMR1A0"
	//Armor.Saveamount 1
	//Armor.MaxSaveAmount 200
	States
	{
	Spawn:
		TNT1 A 0
		BON2 A 0 BRIGHT
		BON2 A 35 BRIGHT ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
		wait
	Pickup:
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 200, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupActual")
		wait
	PickupActual:
		TNT1 A 0 ACS_NamedExecute("ArmorScrapPickupMessage")
		TNT1 A 0 A_SetBlend("d7ba45", 0.3, 4)
		TNT1 A 0 A_PlaySound("armor0get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("QuakeArmorScrap2Armor", 1)
		stop
	PickupFail:
        BON2 A 1 BRIGHT
        fail
	PickupStop:
		TNT1 A 0
		stop
	SpawnCancel:
		TNT1 A 1 A_FadeOut
		stop
	}
}

Actor MarathonArmorScrap : CustomInventory
{
	Scale 0.5
	RenderStyle Add
	Alpha 0.9
	+FLOATBOB
	+INVENTORY.QUIET
	-INVENTORY.ALWAYSPICKUP
	-COUNTITEM
	//Inventory.Pickupmessage "$SAMSARA_ARMORSCRAP"
	//Inventory.PickupSound "armor0get"
	Inventory.Icon "RMR1A0"
	//Armor.Saveamount 1
	//Armor.MaxSaveAmount 200
	States
	{
	Spawn:
		TNT1 A 0
		BON2 A 0 BRIGHT
		BON2 A 35 BRIGHT ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
		wait
	Pickup:
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 200, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupActual")
		wait
	PickupActual:
		TNT1 A 0 ACS_NamedExecute("ArmorScrapMarathonPickupMessage")
		TNT1 A 0 A_SetBlend("FFFFF0", 0.3, 4) // Ivory
		TNT1 A 0 A_PlaySound("armor0get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("MarathonArmorScrapArmor", 1)
		stop
	PickupFail:
        BON2 A 1 BRIGHT
        fail
	PickupStop:
		TNT1 A 0
		stop
	SpawnCancel:
		TNT1 A 1 A_FadeOut
		stop
	}
}

Actor ArmorScrapNoDrop : ArmorScrap
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag("DROPPED", 0)
		goto Super::Spawn
	}
}

Actor QuakeArmorScrapNoDrop : QuakeArmorScrap
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag("DROPPED", 0)
		goto Super::Spawn
	}
}

Actor QuakeArmorScrap2NoDrop : QuakeArmorScrap2
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag("DROPPED", 0)
		goto Super::Spawn
	}
}

Actor MarathonArmorScrapNoDrop : MarathonArmorScrap
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag("DROPPED", 0)
		goto Super::Spawn
	}
}

Actor ArmorScrapArmor : BasicArmorBonus
{
	Armor.SaveAmount 1
	Armor.SavePercent 33.335
	Armor.MaxSaveAmount 200
}

Actor QuakeArmorScrapArmor : BasicArmorBonus
{
	Armor.SaveAmount 1
	Armor.SavePercent 30
	Armor.MaxSaveAmount 200
}

Actor QuakeArmorScrap2Armor : BasicArmorBonus
{
	Armor.SaveAmount 1
	Armor.SavePercent 60
	Armor.MaxSaveAmount 200
}

Actor MarathonArmorScrapArmor : BasicArmorBonus
{
	Armor.SaveAmount 1
	Armor.SavePercent 100
	Armor.MaxSaveAmount 200
}

Actor ArmorBonusPickup replaces ArmorBonus
{
	+NOINTERACTION
	States
	{
	Spawn:
		BON2 A 0 BRIGHT
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate", 29, 0, 0) == 1, "Armor5")
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate", 19), "Armor5")
		TNT1 A 35 ACS_NamedExecuteWithResult("SamsaraDecorate", 18, 0)
		stop

	// Default Armor
	Armor1:
	Armor1_WithYellow:
		TNT1 A 0 A_SpawnItemEx("ArmorScrapNoDrop", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor1_Drop:
	Armor1_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("ArmorScrap", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop

	// Quake Armor
	Armor2:
	Armor2_WithYellow:
		TNT1 A 0 A_SpawnItemEx("QuakeArmorScrapNoDrop", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor2_Drop:
	Armor2_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("QuakeArmorScrap", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop

	// Quake+ Armor
	Armor3:
	Armor3_WithYellow:
		TNT1 A 0 A_SpawnItemEx("QuakeArmorScrap2NoDrop", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor3_Drop:
	Armor3_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("QuakeArmorScrap2", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop

	// Marathon Armor
	Armor4:
	Armor4_WithYellow:
		TNT1 A 0 A_SpawnItemEx("MarathonArmorScrapNoDrop", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor4_Drop:
	Armor4_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("MarathonArmorScrap", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop

	// No Armor
	Armor5:
	Armor5_WithYellow:
	Armor5_Drop:
	Armor5_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("NoArmor", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop	
	}
}

Actor ArmorScrap100 : ArmorScrapArmor { Armor.MaxSaveAmount 100 }
Actor ArmorScrap200 : ArmorScrapArmor { Armor.MaxSaveAmount 200 }
Actor InfiniteArmorBonus : ArmorScrapArmor { Armor.MaxSaveAmount 0x7FFFFFFF }

// Green Armor Pickups
Actor ArmorPack1 : CustomInventory
{
	Scale 0.75
	RenderStyle Add
	Alpha 0.9
	+FLOATBOB
	+INVENTORY.QUIET
	-INVENTORY.ALWAYSPICKUP
	-COUNTITEM
	//Inventory.Pickupmessage "$SAMSARA_ARMOR0_1"
	//Inventory.PickupSound "armor1get"
	Inventory.Icon "RMR1A0"
	//Armor.Saveamount 100
	//Armor.MaxSaveAmount 200
	States
	{
	Spawn:
		TNT1 A 0
		RMR1 A 0 BRIGHT
		RMR1 A 35 BRIGHT Light("ARMORGREEN1") ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
		wait
	Pickup:
		TNT1 A 0 A_JumpIfInventory("SamsaraHasProsperity", 1, "CheckForProsperity")
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 100, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupActual")
		wait
	CheckForProsperity:
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 250, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupProsperity")
		wait
	PickupActual:
		TNT1 A 0 ACS_NamedExecute("ArmorPack1PickupMessage")
		TNT1 A 0 A_SetBlend("d7ba45", 0.3, 4)
		TNT1 A 0 A_PlaySound("armor1get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("ArmorPack1Armor", 100)
		stop
	PickupProsperity:
		TNT1 A 0 ACS_NamedExecute("ArmorPack1PickupMessage")
		TNT1 A 0 A_SetBlend("d7ba45", 0.3, 4)
		TNT1 A 0 A_PlaySound("armor1get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("ArmorPack1ProsperityArmor", 100)
		stop
	PickupFail:
        RMR1 A 1 BRIGHT
        fail
	PickupStop:
		TNT1 A 0
		stop
	SpawnCancel:
		TNT1 A 1 A_FadeOut
		stop
	}
}

Actor QuakeGreenArmor : CustomInventory
{
	Scale 0.75
	RenderStyle Add
	Alpha 0.9
	+FLOATBOB
	+INVENTORY.QUIET
	-INVENTORY.ALWAYSPICKUP
	-COUNTITEM
	//Inventory.Pickupmessage "$SAMSARA_ARMOR0_1"
	//Inventory.PickupSound "armor1get"
	Inventory.Icon "RMR7A0"
	//Armor.Saveamount 100
	//Armor.MaxSaveAmount 200
	States
	{
	Spawn:
		TNT1 A 0
		RMR7 A 0 BRIGHT
		RMR7 A 35 BRIGHT ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
		wait
	Pickup:
		TNT1 A 0 A_JumpIfInventory("SamsaraHasProsperity", 1, "CheckForProsperity")
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 100, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupActual")
		wait
	CheckForProsperity:
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 250, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupProsperity")
		wait
	PickupActual:
		TNT1 A 0 ACS_NamedExecute("ArmorPack1PickupMessage")
		TNT1 A 0 A_SetBlend("d7ba45", 0.3, 4)
		TNT1 A 0 A_PlaySound("armor1get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("QuakeGreenArmorArmor", 100)
		stop
	PickupProsperity:
		TNT1 A 0 ACS_NamedExecute("ArmorPack1PickupMessage")
		TNT1 A 0 A_SetBlend("d7ba45", 0.3, 4)
		TNT1 A 0 A_PlaySound("armor1get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("QuakeGreenArmorProsperityArmor", 100)
		stop
	PickupFail:
        RMR7 A 1 BRIGHT
        fail
	PickupStop:
		TNT1 A 0
		stop
	SpawnCancel:
		TNT1 A 1 A_FadeOut
		stop
	}
}

Actor QuakeYellowArmor : CustomInventory
{
	Scale 0.75
	RenderStyle Add
	Alpha 0.9
	+FLOATBOB
	+INVENTORY.QUIET
	-INVENTORY.ALWAYSPICKUP
	-COUNTITEM
	//Inventory.Pickupmessage "$SAMSARA_ARMOR0_1"
	//Inventory.PickupSound "armor1get"
	Inventory.Icon "RMR5A0"
	//Armor.Saveamount 100
	//Armor.MaxSaveAmount 200
	States
	{
	Spawn:
		TNT1 A 0
		RMR5 A 0 BRIGHT
		RMR5 A 35 BRIGHT ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
		wait
	Pickup:
		TNT1 A 0 A_JumpIfInventory("SamsaraHasProsperity", 1, "CheckForProsperity")
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 150, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupActual")
		wait
	CheckForProsperity:
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 250, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupProsperity")
		wait
	PickupActual:
		TNT1 A 0 ACS_NamedExecute("ArmorPack1QuakePlusPickupMessage")
		TNT1 A 0 A_SetBlend("d7ba45", 0.3, 4)
		TNT1 A 0 A_PlaySound("armor1get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("QuakeYellowArmorArmor", 100)
		stop
	PickupProsperity:
		TNT1 A 0 ACS_NamedExecute("ArmorPack1QuakePlusPickupMessage")
		TNT1 A 0 A_SetBlend("d7ba45", 0.3, 4)
		TNT1 A 0 A_PlaySound("armor1get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("QuakeYellowArmorProsperityArmor", 100)
		stop
	PickupFail:
        RMR5 A 1 BRIGHT
        fail
	PickupStop:
		TNT1 A 0
		stop
	SpawnCancel:
		TNT1 A 1 A_FadeOut
		stop
	}
}

Actor MarathonGreenArmor : CustomInventory
{
	Scale 0.75
	RenderStyle Add
	Alpha 0.9
	+FLOATBOB
	+INVENTORY.QUIET
	-INVENTORY.ALWAYSPICKUP
	-COUNTITEM
	//Inventory.Pickupmessage "$SAMSARA_ARMOR0_1"
	//Inventory.PickupSound "armor1get"
	Inventory.Icon "RMR0A0"
	//Armor.Saveamount 100
	//Armor.MaxSaveAmount 200
	States
	{
	Spawn:
		TNT1 A 0
		RMR0 A 0 BRIGHT
		RMR0 A 35 bright ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
		wait
	Pickup:
		TNT1 A 0 A_JumpIfInventory("SamsaraHasProsperity", 1, "CheckForProsperity")
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 100, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupActual")
		wait
	CheckForProsperity:
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 250, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupProsperity")
		wait
	PickupActual:
		TNT1 A 0 ACS_NamedExecute("ArmorPack1MarathonPickupMessage")
		TNT1 A 0 A_SetBlend("FFFFF0", 0.3, 4) // Ivory
		TNT1 A 0 A_PlaySound("armor1get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("MarathonGreenArmorArmor", 100)
		stop
	PickupProsperity:
		TNT1 A 0 ACS_NamedExecute("ArmorPack1MarathonPickupMessage")
		TNT1 A 0 A_SetBlend("FFFFF0", 0.3, 4) // Ivory
		TNT1 A 0 A_PlaySound("armor1get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("MarathonGreenArmorProsperityArmor", 100)
		stop
	PickupFail:
        RMR0 A 1 BRIGHT
        fail
	PickupStop:
		TNT1 A 0
		stop
	SpawnCancel:
		TNT1 A 1 A_FadeOut
		stop
	}
}

Actor GreenArmorNoDrop : ArmorPack1
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag("DROPPED", 0)
		goto Super::Spawn
	}
}

Actor QGreenArmorNoDrop : QuakeGreenArmor
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag("DROPPED", 0)
		goto Super::Spawn
	}
}

Actor QYellowArmorNoDrop : QuakeYellowArmor
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag("DROPPED", 0)
		goto Super::Spawn
	}
}

Actor MarathonGreenArmorNoDrop : MarathonGreenArmor
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag("DROPPED", 0)
		goto Super::Spawn
	}
}

Actor ArmorPack1Armor : BasicArmorBonus
{
	Armor.SaveAmount 100
	Armor.SavePercent 33.335
	Armor.MaxSaveAmount 100
}

Actor QuakeGreenArmorArmor : BasicArmorBonus
{
	Armor.SaveAmount 100
	Armor.SavePercent 30
	Armor.MaxSaveAmount 100
}

Actor QuakeYellowArmorArmor : BasicArmorBonus
{
	Armor.SaveAmount 150
	Armor.SavePercent 60
	Armor.MaxSaveAmount 150
}

Actor MarathonGreenArmorArmor : BasicArmorBonus
{
	Armor.SaveAmount 100
	Armor.SavePercent 100
	Armor.MaxSaveAmount 100
}

Actor ArmorPack1ProsperityArmor : BasicArmorBonus
{
	Armor.SaveAmount 100
	Armor.SavePercent 33.335
	Armor.MaxSaveAmount 250
}

Actor QuakeGreenArmorProsperityArmor : BasicArmorBonus
{
	Armor.SaveAmount 100
	Armor.SavePercent 30
	Armor.MaxSaveAmount 250
}

Actor QuakeYellowArmorProsperityArmor : BasicArmorBonus
{
	Armor.SaveAmount 150
	Armor.SavePercent 60
	Armor.MaxSaveAmount 250
}

Actor MarathonGreenArmorProsperityArmor : BasicArmorBonus
{
	Armor.SaveAmount 100
	Armor.SavePercent 100
	Armor.MaxSaveAmount 250
}

Actor GreenArmorPickup replaces GreenArmor
{
	+NOINTERACTION
	States
	{
	Spawn:
		RMR1 A 0 BRIGHT
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate", 29, 0, 0) == 1, "Armor5")
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate", 19), "Armor5")
		TNT1 A 35 ACS_NamedExecuteWithResult("SamsaraDecorate", 18, 0)
		stop

	// Default Armor
	Armor1:
	Armor1_WithYellow:
		TNT1 A 0 A_SpawnItemEx("GreenArmorNoDrop", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor1_Drop:
	Armor1_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("ArmorPack1", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop

	// Quake Armor
	Armor2:
	Armor2_WithYellow:
		TNT1 A 0 A_SpawnItemEx("QGreenArmorNoDrop", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor2_Drop:
	Armor2_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("QuakeGreenArmor", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop

	// Quake+ Armor
	Armor3:
	Armor3_WithYellow:
		TNT1 A 0 A_SpawnItemEx("QYellowArmorNoDrop", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor3_Drop:
	Armor3_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("QuakeYellowArmor", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop

	// Marathon Armor
	Armor4:
	Armor4_WithYellow:
		TNT1 A 0 A_SpawnItemEx("MarathonGreenArmorNoDrop", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor4_Drop:
	Armor4_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("MarathonGreenArmor", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop

	// No Armor
	Armor5:
	Armor5_WithYellow:
	Armor5_Drop:
	Armor5_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("NoArmor", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop	
	}
}

// Yellow Armor Pickups
Actor SamsaraYellowArmor : CustomInventory
{
	Scale 0.75
	RenderStyle Add
	Alpha 0.95
	+FLOATBOB
	+INVENTORY.QUIET
	-INVENTORY.ALWAYSPICKUP
	-COUNTITEM
	//Inventory.Pickupmessage "$SAMSARA_ARMOR0_2"
	//Inventory.PickupSound "armor1get"
	Inventory.Icon "RMR5A0"
	//Armor.Saveamount 150
	//Armor.MaxSaveAmount 150
	States
	{
	Spawn:
		TNT1 A 0
		RMR5 A 0 BRIGHT
		RMR5 A 35 BRIGHT Light("ARMORYELLOW1") ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
		wait
	Pickup:
		TNT1 A 0 A_JumpIfInventory("SamsaraHasProsperity", 1, "CheckForProsperity")
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 150, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupActual")
		wait
	CheckForProsperity:
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 250, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupProsperity")
		wait
	PickupActual:
		TNT1 A 0 ACS_NamedExecute("ArmorPack4PickupMessage")
		TNT1 A 0 A_SetBlend("d7ba45", 0.3, 4)
		TNT1 A 0 A_PlaySound("armor1get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("ArmorPack4Armor", 100)
		stop
	PickupProsperity:
		TNT1 A 0 ACS_NamedExecute("ArmorPack4PickupMessage")
		TNT1 A 0 A_SetBlend("d7ba45", 0.3, 4)
		TNT1 A 0 A_PlaySound("armor1get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("ArmorPack4ProsperityArmor", 100)
		stop
	PickupFail:
        RMR5 A 1 BRIGHT
        fail
	PickupStop:
		TNT1 A 0
		stop
	SpawnCancel:
		TNT1 A 1 A_FadeOut
		stop
	}
}

// Quake does not have yellow armor pickups

Actor MarathonYellowArmor : CustomInventory
{
	Scale 0.75
	RenderStyle Add
	Alpha 0.95
	+FLOATBOB
	+INVENTORY.QUIET
	-INVENTORY.ALWAYSPICKUP
	-COUNTITEM
	//Inventory.Pickupmessage "$SAMSARA_ARMOR3_2"
	//Inventory.PickupSound "armor1get"
	Inventory.Icon "RMR8A0"
	//Armor.Saveamount 150
	//Armor.MaxSaveAmount 150
	States
	{
	Spawn:
		TNT1 A 0
		RMR8 A 0 BRIGHT
		RMR8 A 35 bright ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
		wait
	Pickup:
		TNT1 A 0 A_JumpIfInventory("SamsaraHasProsperity", 1, "CheckForProsperity")
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 150, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupActual")
		wait
	CheckForProsperity:
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 250, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupProsperity")
		wait
	PickupActual:
		TNT1 A 0 ACS_NamedExecute("ArmorPack4MarathonPickupMessage")
		TNT1 A 0 A_SetBlend("FFFFF0", 0.3, 4) // Ivory
		TNT1 A 0 A_PlaySound("armor1get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("MarathonYellowArmorArmor", 100)
		stop
	PickupProsperity:
		TNT1 A 0 ACS_NamedExecute("ArmorPack4MarathonPickupMessage")
		TNT1 A 0 A_SetBlend("FFFFF0", 0.3, 4) // Ivory
		TNT1 A 0 A_PlaySound("armor1get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("MarathonYellowArmorProsperityArmor", 100)
		stop
	PickupFail:
        RMR8 A 1 BRIGHT
        fail
	PickupStop:
		TNT1 A 0
		stop
	SpawnCancel:
		TNT1 A 1 A_FadeOut
		stop
	}
}

Actor YellowArmorNoDrop : SamsaraYellowArmor
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag("DROPPED", 0)
		goto Super::Spawn
	}
}

Actor MarathonYellowArmorNoDrop : MarathonYellowArmor
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag("DROPPED", 0)
		goto Super::Spawn
	}
}

Actor ArmorPack4Armor : BasicArmorBonus
{
	Armor.SaveAmount 150
	Armor.SavePercent 40
	Armor.MaxSaveAmount 150
}

Actor MarathonYellowArmorArmor : BasicArmorBonus
{
	Armor.SaveAmount 150
	Armor.SavePercent 100
	Armor.MaxSaveAmount 150
}

Actor ArmorPack4ProsperityArmor : BasicArmorBonus
{
	Armor.SaveAmount 150
	Armor.SavePercent 40
	Armor.MaxSaveAmount 150
}

Actor MarathonYellowArmorProsperityArmor : BasicArmorBonus
{
	Armor.SaveAmount 150
	Armor.SavePercent 100
	Armor.MaxSaveAmount 150
}

Actor YellowArmorPickup
{
	+NOINTERACTION
	States
	{
	Spawn:
		RMR5 A 0 BRIGHT
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate", 29, 0, 0) == 1, "Armor5")
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate", 19), "Armor5")
		TNT1 A 35 ACS_NamedExecuteWithResult("SamsaraDecorate", 18, 1)
		stop

	// Default Armor
	Armor1:
	Armor1_WithYellow:
		TNT1 A 0 A_SpawnItemEx("YellowArmorNoDrop", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor1_Drop:
	Armor1_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("SamsaraYellowArmor", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop

	// Quake Armor
	Armor2:
	Armor2_WithYellow:
		TNT1 A 0 A_SpawnItemEx("QYellowArmorNoDrop", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor2_Drop:
	Armor2_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("QuakeYellowArmor", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop

	// Quake+ Armor
	Armor3:
	Armor3_WithYellow:
		TNT1 A 0 A_SpawnItemEx("QRedArmorNoDrop", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor3_Drop:
	Armor3_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("QuakeRedArmor", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop

	// Marathon Armor
	Armor4:
	Armor4_WithYellow:
		TNT1 A 0 A_SpawnItemEx("MarathonYellowArmorNoDrop", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor4_Drop:
	Armor4_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("MarathonYellowArmor", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop

	// No Armor
	Armor5:
	Armor5_WithYellow:
	Armor5_Drop:
	Armor5_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("NoArmor", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop	
	}
}

// Blue Armor Pickups
Actor ArmorPack2 : CustomInventory
{
	Scale 0.75
	RenderStyle Add
	Alpha 0.975
	+FLOATBOB
	+INVENTORY.QUIET
	-INVENTORY.ALWAYSPICKUP
	-COUNTITEM
	//Inventory.Pickupmessage "$SAMSARA_ARMOR0_3"
	//Inventory.PickupSound "armor2get"
	Inventory.Icon "RMR2A0"
	//Armor.Saveamount 200
	//Armor.MaxSaveAmount 200
	States
	{
	Spawn:
		TNT1 A 0
		RMR2 A 0 BRIGHT
		RMR2 A 35 BRIGHT Light("ARMORBLUE1") ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 98)
		wait
	Pickup:
		TNT1 A 0 A_JumpIfInventory("SamsaraHasProsperity", 1, "CheckForProsperity")
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 200, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupActual")
		wait
	CheckForProsperity:
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 250, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupProsperity")
		wait
	PickupActual:
		TNT1 A 0 ACS_NamedExecute("ArmorPack2PickupMessage")
		TNT1 A 0 A_SetBlend("d7ba45", 0.3, 4)
		TNT1 A 0 A_PlaySound("armor2get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("ArmorPack2Armor", 200)
		stop
	PickupProsperity:
		TNT1 A 0 ACS_NamedExecute("ArmorPack2PickupMessage")
		TNT1 A 0 A_SetBlend("d7ba45", 0.3, 4)
		TNT1 A 0 A_PlaySound("armor2get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("ArmorPack2ProsperityArmor", 200)
		stop
	PickupFail:
        RMR2 A 1 BRIGHT
        fail
	PickupStop:
		TNT1 A 0
		stop
	SpawnCancel:
		TNT1 A 1 A_FadeOut
		stop
	}
}

// The Quake armors use different types of armor for the blue armor pickups

Actor MarathonBlueArmor : CustomInventory
{
	Scale 0.75
	RenderStyle Add
	Alpha 0.95
	+FLOATBOB
	+INVENTORY.QUIET
	-INVENTORY.ALWAYSPICKUP
	-COUNTITEM
	//Inventory.Pickupmessage "$SAMSARA_ARMOR3_3"
	//Inventory.PickupSound "armor2get"
	Inventory.Icon "RMR5A0"
	//Armor.Saveamount 200
	//Armor.MaxSaveAmount 200
	States
	{
	Spawn:
		TNT1 A 0
		RMR5 A 0 BRIGHT
		RMR5 A 35 bright ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
		wait
	Pickup:
		TNT1 A 0 A_JumpIfInventory("SamsaraHasProsperity", 1, "CheckForProsperity")
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 200, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupActual")
		wait
	CheckForProsperity:
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 250, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupProsperity")
		wait
	PickupActual:
		TNT1 A 0 ACS_NamedExecute("ArmorPack2MarathonPickupMessage")
		TNT1 A 0 A_SetBlend("FFFFF0", 0.3, 4) // Ivory
		TNT1 A 0 A_PlaySound("armor2get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("MarathonBlueArmorArmor", 100)
		stop
	PickupProsperity:
		TNT1 A 0 ACS_NamedExecute("ArmorPack2MarathonPickupMessage")
		TNT1 A 0 A_SetBlend("FFFFF0", 0.3, 4) // Ivory
		TNT1 A 0 A_PlaySound("armor2get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("MarathonBlueArmorProsperityArmor", 100)
		stop
	PickupFail:
        RMR5 A 1 BRIGHT
        fail
	PickupStop:
		TNT1 A 0
		stop
	SpawnCancel:
		TNT1 A 1 A_FadeOut
		stop
	}
}

Actor BlueArmorNoDrop : ArmorPack2
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag("DROPPED", 0)
		goto Super::Spawn
	}
}

Actor MarathonBlueArmorNoDrop : MarathonBlueArmor
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag("DROPPED", 0)
		goto Super::Spawn
	}
}

Actor ArmorPack2Armor : BasicArmorBonus
{
	Armor.SaveAmount 200
	Armor.SavePercent 50
	Armor.MaxSaveAmount 200
}

Actor MarathonBlueArmorArmor : BasicArmorBonus
{
	Armor.SaveAmount 200
	Armor.SavePercent 100
	Armor.MaxSaveAmount 200
}

Actor ArmorPack2ProsperityArmor : BasicArmorBonus
{
	Armor.SaveAmount 200
	Armor.SavePercent 50
	Armor.MaxSaveAmount 250
}

Actor MarathonBlueArmorProsperityArmor : BasicArmorBonus
{
	Armor.SaveAmount 200
	Armor.SavePercent 100
	Armor.MaxSaveAmount 250
}

Actor BlueArmorPickup replaces BlueArmor
{
	+NOINTERACTION
	States
	{
	Spawn:
		RMR2 A 0 BRIGHT
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate", 29, 0, 0) == 1, "Armor5")
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate", 19), "Armor5")
		TNT1 A 35 ACS_NamedExecuteWithResult("SamsaraDecorate", 18, 2)
		stop

	// Default Armor
	Armor1:
	Armor1_WithYellow:
		TNT1 A 0 A_SpawnItemEx("BlueArmorNoDrop", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor1_Drop:
	Armor1_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("ArmorPack2", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop

	// Quake Armor
	Armor2:
		TNT1 A 0 A_SpawnItemEx("QYellowArmorNoDrop", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor2_WithYellow:
		TNT1 A 0 A_SpawnItemEx("QRedArmorNoDrop", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor2_Drop:
		TNT1 A 0 A_SpawnItemEx("QuakeYellowArmor", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor2_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("QuakeRedArmor", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop

	// Quake+ Armor
	Armor3:
		TNT1 A 0 A_SpawnItemEx("QRedArmorNoDrop", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor3_WithYellow:
		TNT1 A 0 A_SpawnItemEx("SilverArmorNoDrop", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor3_Drop:
		TNT1 A 0 A_SpawnItemEx("QuakeRedArmor", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor3_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("SamsaraSilverArmor", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop

	// Marathon Armor
	Armor4:
	Armor4_WithYellow:
		TNT1 A 0 A_SpawnItemEx("MarathonBlueArmorNoDrop", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor4_Drop:
	Armor4_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("MarathonBlueArmor", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop

	// No Armor
	Armor5:
	Armor5_WithYellow:
	Armor5_Drop:
	Armor5_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("NoArmor", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop	
	}
}

// Red Armor Pickups
Actor ArmorPack3 : CustomInventory
{
	Scale 0.75
	RenderStyle Add
	Alpha 0.95
	+FLOATBOB
	+INVENTORY.QUIET
	-INVENTORY.ALWAYSPICKUP
	-COUNTITEM
	//Inventory.Pickupmessage "$SAMSARA_ARMOR0_4"
	//Inventory.PickupSound "armor3get"
	Inventory.Icon "RMR3A0"
	//Armor.Saveamount 250
	//Armor.MaxSaveAmount 250
	States
	{
	Spawn:
		TNT1 A 0
		RMR3 A 0 BRIGHT
		RMR3 A 35 BRIGHT Light("ARMORRED1") ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
		wait
	Pickup:
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 250, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupActual")
		wait
	PickupActual:
		TNT1 A 0 ACS_NamedExecute("ArmorPack3PickupMessage")
		TNT1 A 0 A_SetBlend("d7ba45", 0.3, 4)
		TNT1 A 0 A_PlaySound("armor3get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("ArmorPack3Armor", 250)
		stop
	PickupFail:
        RMR3 A 1 BRIGHT
        fail
	PickupStop:
		TNT1 A 0
		stop
	SpawnCancel:
		TNT1 A 1 A_FadeOut
		stop
	}
}

Actor QuakeRedArmor : CustomInventory
{
	Scale 0.75
	RenderStyle Add
	Alpha 0.975
	+FLOATBOB
	+INVENTORY.QUIET
	-INVENTORY.ALWAYSPICKUP
	-COUNTITEM
	//Inventory.Pickupmessage "$SAMSARA_ARMOR12_3"
	//Inventory.PickupSound "armor2get"
	Inventory.Icon "RMR3A0"
	//Armor.Saveamount 200
	//Armor.MaxSaveAmount 200
	States
	{
	Spawn:
		TNT1 A 0
		RMR3 A 0 BRIGHT
		RMR3 A 35 BRIGHT ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
		wait
	Pickup:
		TNT1 A 0 A_JumpIfInventory("SamsaraHasProsperity", 1, "CheckForProsperity")
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 200, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupActual")
		wait
	CheckForProsperity:
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 250, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupProsperity")
		wait
	PickupActual:
		TNT1 A 0 ACS_NamedExecute("ArmorPack3QuakePickupMessage")
		TNT1 A 0 A_SetBlend("d7ba45", 0.3, 4)
		TNT1 A 0 A_PlaySound("armor2get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("QuakeRedArmorArmor", 200)
		stop
	PickupProsperity:
		TNT1 A 0 ACS_NamedExecute("ArmorPack3QuakePickupMessage")
		TNT1 A 0 A_SetBlend("d7ba45", 0.3, 4)
		TNT1 A 0 A_PlaySound("armor2get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("QuakeRedArmorProsperityArmor", 200)
		stop
	PickupFail:
        RMR3 A 1 BRIGHT
        fail
	PickupStop:
		TNT1 A 0
		stop
	SpawnCancel:
		TNT1 A 1 A_FadeOut
		stop
	}
}

Actor SamsaraSilverArmor : CustomInventory
{
	Scale 0.75
	RenderStyle Add
	Alpha 0.95
	+FLOATBOB
	+INVENTORY.QUIET
	-INVENTORY.ALWAYSPICKUP
	-COUNTITEM
	//Inventory.Pickupmessage "$SAMSARA_ARMOR12_4"
	//Inventory.PickupSound "armor3get"
	Inventory.Icon "RMR6A0"
	//Armor.Saveamount 250
	//Armor.MaxSaveAmount 250
	States
	{
	Spawn:
		TNT1 A 0
		RMR6 A 0 BRIGHT
		RMR6 A 35 BRIGHT ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
		wait
	Pickup:
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 250, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupActual")
		wait
	PickupActual:
		TNT1 A 0 ACS_NamedExecute("ArmorPack3QuakePlusPickupMessage")
		TNT1 A 0 A_SetBlend("d7ba45", 0.3, 4)
		TNT1 A 0 A_PlaySound("armor3get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("SamsaraSilverArmorArmor", 250)
		stop
	PickupFail:
        RMR6 A 1 BRIGHT
        fail
	PickupStop:
		TNT1 A 0
		stop
	SpawnCancel:
		TNT1 A 1 A_FadeOut
		stop
	}
}

Actor MarathonRedArmor : CustomInventory
{
	Scale 0.75
	RenderStyle Add
	Alpha 0.95
	+FLOATBOB
	+INVENTORY.QUIET
	-INVENTORY.ALWAYSPICKUP
	-COUNTITEM
	//Inventory.Pickupmessage "$SAMSARA_ARMOR3_4"
	//Inventory.PickupSound "armor3get"
	Inventory.Icon "RMR9A0"
	//Armor.Saveamount 300
	//Armor.MaxSaveAmount 300
	States
	{
	Spawn:
		TNT1 A 0
		RMR9 A 0 BRIGHT
		RMR9 A 35 bright ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
		wait
	Pickup:
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 300, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupActual")
		wait
	PickupActual:
		TNT1 A 0 ACS_NamedExecute("ArmorPack3MarathonPickupMessage")
		TNT1 A 0 A_SetBlend("FFFFF0", 0.3, 4) // Ivory
		TNT1 A 0 A_PlaySound("armor3get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("MarathonRedArmorArmor", 300)
		stop
	PickupFail:
        RMR9 A 1 BRIGHT
        fail
	PickupStop:
		TNT1 A 0
		stop
	SpawnCancel:
		TNT1 A 1 A_FadeOut
		stop
	}
}

Actor RedArmorNoDrop : ArmorPack3
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag("DROPPED", 0)
		goto Super::Spawn
	}
}

Actor QRedArmorNoDrop : QuakeRedArmor
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag("DROPPED", 0)
		goto Super::Spawn
	}
}

Actor SilverArmorNoDrop : SamsaraSilverArmor
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag("DROPPED", 0)
		goto Super::Spawn
	}
}

Actor MarathonRedArmorNoDrop : MarathonRedArmor
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag("DROPPED", 0)
		goto Super::Spawn
	}
}

Actor ArmorPack3Armor : BasicArmorBonus
{
	Armor.SaveAmount 250
	Armor.SavePercent 66.66666
	Armor.MaxSaveAmount 250
}

Actor QuakeRedArmorArmor : BasicArmorBonus
{
	Armor.SaveAmount 200
	Armor.SavePercent 80
	Armor.MaxSaveAmount 200
}

Actor SamsaraSilverArmorArmor : BasicArmorBonus
{
	Armor.SaveAmount 250
	Armor.SavePercent 90
	Armor.MaxSaveAmount 250
}

Actor MarathonRedArmorArmor : BasicArmorBonus
{
	Armor.SaveAmount 300
	Armor.SavePercent 100
	Armor.MaxSaveAmount 300
}

Actor QuakeRedArmorProsperityArmor : BasicArmorBonus
{
	Armor.SaveAmount 200
	Armor.SavePercent 80
	Armor.MaxSaveAmount 250
}

Actor RedArmor 5040
{
	+NOINTERACTION
	States
	{
	Spawn:
		RMR3 A 0 BRIGHT
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate", 29, 0, 0) == 1, "Armor5")
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate", 19), "Armor5")
		TNT1 A 35 ACS_NamedExecuteWithResult("SamsaraDecorate", 18, 3)
		stop

	// Default Armor
	Armor1:
	Armor1_WithYellow:
		TNT1 A 0 A_SpawnItemEx("RedArmorNoDrop", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor1_Drop:
	Armor1_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("ArmorPack3", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop

	// Quake Armor
	Armor2:
		TNT1 A 0 A_SpawnItemEx("QRedArmorNoDrop", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor2_WithYellow:
		TNT1 A 0 A_SpawnItemEx("SilverArmorNoDrop", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor2_Drop:
		TNT1 A 0 A_SpawnItemEx("QuakeRedArmor", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor2_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("SamsaraSilverArmor", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop

	// Quake+ Armor
	Armor3:
	Armor3_WithYellow:
		TNT1 A 0 A_SpawnItemEx("SilverArmorNoDrop", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor3_Drop:
	Armor3_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("SamsaraSilverArmor", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop

	// Marathon Armor
	Armor4:
	Armor4_WithYellow:
		TNT1 A 0 A_SpawnItemEx("MarathonRedArmorNoDrop", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor4_Drop:
	Armor4_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("MarathonRedArmor", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop

	// No Armor
	Armor5:
	Armor5_WithYellow:
	Armor5_Drop:
	Armor5_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("NoArmor", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop	
	}
}

Actor NoArmor : BasicArmorPickup
{
	Armor.SaveAmount 0
	Armor.SavePercent 0
	States
	{
	States:
		TNT1 A 0
		stop
	}
}

// Heretic Armor Scraps
Actor HereticArmorScrap : CustomInventory
{
	Scale 0.55
	RenderStyle Add
	Alpha 0.9
	+FLOATBOB
	+INVENTORY.QUIET
	-INVENTORY.ALWAYSPICKUP
	-COUNTITEM
	//Inventory.Pickupmessage "$SAMSARA_ARMORSCRAP_HERETIC"
	//Inventory.PickupSound "armor0get"
	Inventory.Icon "RMR1A0"
	//Armor.Saveamount 5
	//Armor.MaxSaveAmount 200
	States
	{
	Spawn:
		TNT1 A 0
		BON3 A 0 BRIGHT
		BON3 A 35 BRIGHT ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
		wait
	Pickup:
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 200, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupActual")
		wait
	PickupActual:
		TNT1 A 0 ACS_NamedExecute("HereticArmorScrapPickupMessage")
		TNT1 A 0 A_SetBlend("d7ba45", 0.3, 4)
		TNT1 A 0 A_PlaySound("armor0get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("HereticArmorScrapArmor", 1)
		stop
	PickupFail:
        BON3 A 1 BRIGHT
        fail
	PickupStop:
		TNT1 A 0
		stop
	SpawnCancel:
		TNT1 A 1 A_FadeOut
		stop
	}
}

Actor HereticQuakeArmorScrap : CustomInventory
{
	Scale 0.55
	RenderStyle Add
	Alpha 0.9
	+FLOATBOB
	+INVENTORY.QUIET
	-INVENTORY.ALWAYSPICKUP
	-COUNTITEM
	//Inventory.Pickupmessage "$SAMSARA_ARMORSCRAP_HERETIC"
	//Inventory.PickupSound "armor0get"
	Inventory.Icon "RMR1A0"
	//Armor.Saveamount 5
	//Armor.MaxSaveAmount 200
	States
	{
	Spawn:
		TNT1 A 0
		BON3 A 0 BRIGHT
		BON3 A 35 BRIGHT ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
		wait
	Pickup:
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 200, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupActual")
		wait
	PickupActual:
		TNT1 A 0 ACS_NamedExecute("HereticArmorScrapPickupMessage")
		TNT1 A 0 A_SetBlend("d7ba45", 0.3, 4)
		TNT1 A 0 A_PlaySound("armor0get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("HereticQuakeArmorScrapArmor", 1)
		stop
	PickupFail:
        BON3 A 1 BRIGHT
        fail
	PickupStop:
		TNT1 A 0
		stop
	SpawnCancel:
		TNT1 A 1 A_FadeOut
		stop
	}
}

Actor HereticQuakeArmorScrap2 : CustomInventory
{
	Scale 0.55
	RenderStyle Add
	Alpha 0.9
	+FLOATBOB
	+INVENTORY.QUIET
	-INVENTORY.ALWAYSPICKUP
	-COUNTITEM
	//Inventory.Pickupmessage "$SAMSARA_ARMORSCRAP_HERETIC"
	//Inventory.PickupSound "armor0get"
	Inventory.Icon "RMR1A0"
	//Armor.Saveamount 5
	//Armor.MaxSaveAmount 200
	States
	{
	Spawn:
		TNT1 A 0
		BON3 A 0 BRIGHT
		BON3 A 35 BRIGHT ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
		wait
	Pickup:
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 200, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupActual")
		wait
	PickupActual:
		TNT1 A 0 ACS_NamedExecute("HereticArmorScrapPickupMessage")
		TNT1 A 0 A_SetBlend("d7ba45", 0.3, 4)
		TNT1 A 0 A_PlaySound("armor0get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("HereticQuakeArmorScrap2Armor", 1)
		stop
	PickupFail:
        BON3 A 1 BRIGHT
        fail
	PickupStop:
		TNT1 A 0
		stop
	SpawnCancel:
		TNT1 A 1 A_FadeOut
		stop
	}
}

Actor HereticMarathonArmorScrap : CustomInventory
{
	Scale 0.55
	RenderStyle Add
	Alpha 0.9
	+FLOATBOB
	+INVENTORY.QUIET
	-INVENTORY.ALWAYSPICKUP
	-COUNTITEM
	//Inventory.Pickupmessage "$SAMSARA_ARMORSCRAP3_HERETIC"
	//Inventory.PickupSound "armor0get"
	Inventory.Icon "RMR1A0"
	//Armor.Saveamount 5
	//Armor.MaxSaveAmount 200
	States
	{
	Spawn:
		TNT1 A 0
		BON3 A 0 BRIGHT
		BON3 A 35 BRIGHT ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
		wait
	Pickup:
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 200, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupActual")
		wait
	PickupActual:
		TNT1 A 0 ACS_NamedExecute("HereticArmorScrapMarathonPickupMessage")
		TNT1 A 0 A_SetBlend("FFFFF0", 0.3, 4) // Ivory
		TNT1 A 0 A_PlaySound("armor0get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("HereticMarathonArmorScrapArmor", 1)
		stop
	PickupFail:
        BON3 A 1 BRIGHT
        fail
	PickupStop:
		TNT1 A 0
		stop
	SpawnCancel:
		TNT1 A 1 A_FadeOut
		stop
	}
}

Actor HereticArmorScrapNoDrop : HereticArmorScrap
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag("DROPPED", 0)
		goto Super::Spawn
	}
}

Actor HereticQuakeArmorScrapNoDrop : HereticQuakeArmorScrap
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag("DROPPED", 0)
		goto Super::Spawn
	}
}

Actor HereticQuakeArmorScrap2NoDrop : HereticQuakeArmorScrap2
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag("DROPPED", 0)
		goto Super::Spawn
	}
}

Actor HereticMarathonArmorScrapNoDrop : HereticMarathonArmorScrap
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag("DROPPED", 0)
		goto Super::Spawn
	}
}

Actor HereticArmorScrapArmor : BasicArmorBonus
{
	Armor.SaveAmount 5
	Armor.SavePercent 33.335
	Armor.MaxSaveAmount 200
}

Actor HereticQuakeArmorScrapArmor : BasicArmorBonus
{
	Armor.SaveAmount 5
	Armor.SavePercent 30
	Armor.MaxSaveAmount 200
}

Actor HereticQuakeArmorScrap2Armor : BasicArmorBonus
{
	Armor.SaveAmount 5
	Armor.SavePercent 60
	Armor.MaxSaveAmount 200
}

Actor HereticMarathonArmorScrapArmor : BasicArmorBonus
{
	Armor.SaveAmount 5
	Armor.SavePercent 100
	Armor.MaxSaveAmount 200
}

Actor HereticArmorDump replaces ArtiTimeBomb
{
	+NOINTERACTION
	States
	{
	Spawn:
		BON3 A 0 BRIGHT
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate", 29, 0, 0) == 1, "Armor5")
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate", 19), "Armor5")
		TNT1 A 35 ACS_NamedExecuteWithResult("SamsaraDecorate", 18, 0)
		stop

	// Default Armor
	Armor1:
	Armor1_WithYellow:
		TNT1 A 0 A_SpawnItemEx("HereticArmorScrapNoDrop", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor1_Drop:
	Armor1_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("HereticArmorScrap", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop

	// Quake Armor
	Armor2:
	Armor2_WithYellow:
		TNT1 A 0 A_SpawnItemEx("HereticQuakeArmorScrapNoDrop", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor2_Drop:
	Armor2_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("HereticQuakeArmorScrap", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop

	// Quake+ Armor
	Armor3:
	Armor3_WithYellow:
		TNT1 A 0 A_SpawnItemEx("HereticQuakeArmorScrap2NoDrop", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor3_Drop:
	Armor3_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("HereticQuakeArmorScrap2", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop

	// Marathon Armor
	Armor4:
	Armor4_WithYellow:
		TNT1 A 0 A_SpawnItemEx("HereticMarathonArmorScrapNoDrop", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor4_Drop:
	Armor4_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("HereticMarathonArmorScrap", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop

	// No Armor
	Armor5:
	Armor5_WithYellow:
	Armor5_Drop:
	Armor5_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("NoArmor", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop	
	}
}

// Heretic Green Armor Pickups
Actor HereticArmorPack1 : CustomInventory
{
	Scale 0.75
	RenderStyle Add
	Alpha 0.9
	+FLOATBOB
	+INVENTORY.QUIET
	-INVENTORY.ALWAYSPICKUP
	-COUNTITEM
	//Inventory.Pickupmessage "$SAMSARA_ARMOR0_1"
	//Inventory.PickupSound "armor1get"
	Inventory.Icon "RMR1A0"
	//Armor.Saveamount 100
	//Armor.MaxSaveAmount 200
	States
	{
	Spawn:
		TNT1 A 0
		RMR1 A 0 BRIGHT
		RMR1 A 35 BRIGHT Light("ARMORGREEN1") ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
		wait
	Pickup:
		TNT1 A 0 A_JumpIfInventory("SamsaraHasProsperity", 1, "CheckForProsperity")
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 100, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupActual")
		wait
	CheckForProsperity:
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 250, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupProsperity")
		wait
	PickupActual:
		TNT1 A 0 ACS_NamedExecute("ArmorPack1PickupMessage")
		TNT1 A 0 A_SetBlend("d7ba45", 0.3, 4)
		TNT1 A 0 A_PlaySound("armor1get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("HereticArmorPack1Armor", 100)
		stop
	PickupProsperity:
		TNT1 A 0 ACS_NamedExecute("ArmorPack1PickupMessage")
		TNT1 A 0 A_SetBlend("d7ba45", 0.3, 4)
		TNT1 A 0 A_PlaySound("armor1get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("HereticArmorPack1ProsperityArmor", 100)
		stop
	PickupFail:
        RMR1 A 1 BRIGHT
        fail
	PickupStop:
		TNT1 A 0
		stop
	SpawnCancel:
		TNT1 A 1 A_FadeOut
		stop
	}
}

Actor HereticGreenArmorNoDrop : HereticArmorPack1
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag("DROPPED", 0)
		goto Super::Spawn
	}
}

Actor HereticArmorPack1Armor : BasicArmorBonus
{
	Armor.SaveAmount 100
	Armor.SavePercent 50
	Armor.MaxSaveAmount 100
}

Actor HereticArmorPack1ProsperityArmor : BasicArmorBonus
{
	Armor.SaveAmount 100
	Armor.SavePercent 50
	Armor.MaxSaveAmount 250
}

Actor HereticGreenArmorPickup : GreenArmorPickup replaces SilverShield
{
	+NOINTERACTION
	States
	{
	// Default Armor
	Armor1:
	Armor1_WithYellow:
		TNT1 A 0 A_SpawnItemEx("HereticGreenArmorNoDrop", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor1_Drop:
	Armor1_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("HereticArmorPack1", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	}
}

// Heretic Blue Armor Pickups
Actor HereticArmorPack2 : CustomInventory
{
	Scale 0.75
	RenderStyle Add
	Alpha 0.975
	+FLOATBOB
	+INVENTORY.QUIET
	-INVENTORY.ALWAYSPICKUP
	-COUNTITEM
	//Inventory.Pickupmessage "$SAMSARA_ARMOR0_3"
	//Inventory.PickupSound "armor2get"
	Inventory.Icon "RMR2A0"
	//Armor.Saveamount 200
	//Armor.MaxSaveAmount 200
	States
	{
	Spawn:
		TNT1 A 0
		RMR2 A 0 BRIGHT
		RMR2 A 35 BRIGHT Light("ARMORBLUE1") ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 98)
		wait
	Pickup:
		TNT1 A 0 A_JumpIfInventory("SamsaraHasProsperity", 1, "CheckForProsperity")
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 200, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupActual")
		wait
	CheckForProsperity:
		TNT1 A 0 A_JumpIfInventory("BasicArmor", 250, "PickupFail")
		TNT1 A -1 A_Jump(256,"PickupProsperity")
		wait
	PickupActual:
		TNT1 A 0 ACS_NamedExecute("ArmorPack2PickupMessage")
		TNT1 A 0 A_SetBlend("d7ba45", 0.3, 4)
		TNT1 A 0 A_PlaySound("armor2get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("HereticArmorPack2Armor", 200)
		stop
	PickupProsperity:
		TNT1 A 0 ACS_NamedExecute("ArmorPack2PickupMessage")
		TNT1 A 0 A_SetBlend("d7ba45", 0.3, 4)
		TNT1 A 0 A_PlaySound("armor2get", CHAN_ITEM)
		TNT1 A 1 A_GiveInventory("HereticArmorPack2ProsperityArmor", 200)
		stop
	PickupFail:
        RMR2 A 1 BRIGHT
        fail
	PickupStop:
		TNT1 A 0
		stop
	SpawnCancel:
		TNT1 A 1 A_FadeOut
		stop
	}
}

Actor HereticBlueArmorNoDrop : HereticArmorPack2
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag("DROPPED", 0)
		goto Super::Spawn
	}
}

Actor HereticArmorPack2Armor : BasicArmorBonus
{
	Armor.SaveAmount 200
	Armor.SavePercent 75
	Armor.MaxSaveAmount 200
}

Actor HereticArmorPack2ProsperityArmor : BasicArmorBonus
{
	Armor.SaveAmount 200
	Armor.SavePercent 75
	Armor.MaxSaveAmount 250
}

Actor HereticBlueArmorPickup : BlueArmorPickup replaces EnchantedShield
{
	+NOINTERACTION
	States
	{
	// Default Armor
	Armor1:
	Armor1_WithYellow:
		TNT1 A 0 A_SpawnItemEx("HereticBlueArmorNoDrop", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	Armor1_Drop:
	Armor1_YellowDrop:
		TNT1 A 0 A_SpawnItemEx("HereticArmorPack2", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERSPECIAL)
		stop
	}
}

/*
actor ArmorScrap : ArmorBonus replaces ArmorBonus
{
    Scale 0.5
    RenderStyle Add
    Alpha 0.9
    +FLOATBOB
    -INVENTORY.ALWAYSPICKUP
    -COUNTITEM
    Inventory.Pickupmessage "$SAMSARA_ARMORSCRAP"
    Inventory.PickupSound "armor0get"
    Inventory.Icon "RMR1A0"
    Armor.Saveamount 1
    Armor.MaxSaveAmount 200
    States
    {
      Spawn:
        BON2 A 0 BRIGHT
        BON2 A 35 BRIGHT ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
        wait
    }
}

actor InfiniteArmorBonus: ArmorScrap {	Armor.MaxSaveAmount 0x7FFFFFFF	}

actor ArmorScrapTrail
{
    Renderstyle Add
    Alpha 0.4
    Scale 0.45
    -SOLID
    +NOCLIP
    +NOGRAVITY
    +NOINTERACTION
    +CLIENTSIDEONLY
    States
    {
      Spawn:
        BON2 A 2 A_FadeOut(0.125)
        Loop
    }
}

actor ArmorScrap100 : ArmorScrap { Armor.MaxSaveAmount 100 }

actor ArmorScrap200 : ArmorScrap replaces ArmorScrap
{ 
	Armor.MaxSaveAmount 200 
	States
	{
	Spawn:
		TNT1 A 3
        BON2 A 0 BRIGHT
        BON2 A 35 BRIGHT ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
        wait

	SpawnCancel:
		TNT1 A 1 A_FadeOut
		stop

	}
}

actor ArmorPack1: GreenArmor
{
    Scale 0.75
    RenderStyle Add
    Alpha 0.9
    +FLOATBOB
    Inventory.PickupMessage "$SAMSARA_ARMOR0_1"
    Inventory.PickupSound "armor1get"
    Inventory.Icon "RMR1A0"
    States
    {
      Spawn:
        RMR1 A 0 BRIGHT
        RMR1 A 35 BRIGHT Light("ARMORGREEN1") ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90) 
        wait
    }
}

actor ArmorPack1Trail
{
    Renderstyle Add
    Alpha 0.5
    Scale 0.7
    -SOLID
    +NOCLIP
    +NOGRAVITY
    +NOINTERACTION
    +CLIENTSIDEONLY
    States
    {
      Spawn:
        RMR1 A 2 A_FadeOut(0.125)
        Loop
    }
}

actor ArmorPack2: BlueArmor
{
    RenderStyle Add
    Alpha 0.975
    +FLOATBOB
    Inventory.PickupMessage "$SAMSARA_ARMOR0_3"
    Inventory.PickupSound "armor2get"
    Inventory.Icon "RMR2A0"
    States
    {
      Spawn:
        RMR2 A 0 BRIGHT
        RMR2 A 35 BRIGHT Light("ARMORBLUE1") ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 98)
        wait
    }
}

actor ArmorPack2Trail
{
    Renderstyle Add
    Alpha 0.5
    Scale 0.95
    -SOLID
    +NOCLIP
    +NOGRAVITY
    +NOINTERACTION
    +CLIENTSIDEONLY
    States
    {
      Spawn:
        RMR2 A 2 A_FadeOut(0.125)
        Loop
    }
}

actor ArmorPack3: BasicArmorPickup
{
    Game Doom
    SpawnID 168
    Radius 20
    Height 16
    Armor.Savepercent 66.66666
    Armor.Saveamount 250
    Inventory.Icon "RMR3A0"
    RenderStyle Add
    Alpha 0.95
    +FLOATBOB
    Inventory.Pickupmessage "$SAMSARA_ARMOR0_4"
    Inventory.PickupSound "armor3get"
    Inventory.Icon "RMR3A0"
    DamageFactor "Fire", 0.125
    DamageFactor "Explosive", 0.125
    DamageFactor "DoomTheseGuysAreTheBest", 0.125
    DamageFactor "DoomHellNoble", 0.125
    DamageFactor "DukeSpectral", 0.125
    DamageFactor "DukeExplosive", 0.125
    DamageFactor "NotQuadded", 0.125
    DamageFactor "SpectralNoQuad", 0.125

    States
    {
      Spawn:
        RMR3 A 0
        RMR3 A 35 bright Light("ARMORRED1") ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
        wait
    }
}

actor SamsaraYellowArmor: BasicArmorPickup
{
    Radius 20
    Height 16

    Armor.Savepercent 40
    Armor.Saveamount 150

    Inventory.Icon "RMR5A0"
    RenderStyle Add
    Alpha 0.95
    +FLOATBOB

    Inventory.Pickupmessage "$SAMSARA_ARMOR0_2"
    Inventory.PickupSound "armor1get"

    States
    {
      Spawn:
        RMR5 A 0
        RMR5 A 35 bright Light("ARMORYELLOW1") ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
        wait
    }
}

actor QuakeGreenArmor: BasicArmorPickup
{
    Scale 0.75
    RenderStyle Add
    Alpha 0.9
    +FLOATBOB

    Inventory.PickupMessage "$SAMSARA_ARMOR12_1"
    Inventory.PickupSound "armor1get"
    Inventory.Icon "RMR7A0"

    Armor.SaveAmount 100
    Armor.SavePercent 30

    States
    {
      Spawn:
        RMR7 A 0 BRIGHT
        RMR7 A 35 BRIGHT ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
        wait
    }
}

actor QuakeYellowArmor: BasicArmorPickup
{
    Radius 20
    Height 16

    Armor.Savepercent 60
    Armor.Saveamount 150

    Inventory.Icon "RMR5A0"
    RenderStyle Add
    Alpha 0.95
    +FLOATBOB

    Inventory.Pickupmessage "$SAMSARA_ARMOR12_2"
    Inventory.PickupSound "armor1get"

    States
    {
      Spawn:
        RMR5 A 0
        RMR5 A 35 bright ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
        wait
    }
}

actor QuakeRedArmor: BasicArmorPickup
{
    Armor.SaveAmount 200
    Armor.SavePercent 80
    Inventory.Icon "RMR3A0"
    Inventory.PickupMessage "$SAMSARA_ARMOR12_3"
    Inventory.PickupSound "armor2get"

    RenderStyle Add
    Alpha 0.975
    +FLOATBOB

    States
    {
      Spawn:
        RMR3 A 0
        RMR3 A 35 bright ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
        wait
    }
}

actor SamsaraSilverArmor: BasicArmorPickup
{
    Radius 20
    Height 16
    Armor.Savepercent 90
    Armor.Saveamount 250
    DamageFactor "Fire", 0.125
    DamageFactor "Explosive", 0.125
    DamageFactor "DoomTheseGuysAreTheBest", 0.125
    DamageFactor "DoomHellNoble", 0.125
    DamageFactor "DukeSpectral", 0.125
    DamageFactor "DukeExplosive", 0.125
    DamageFactor "NotQuadded", 0.125
    DamageFactor "SpectralNoQuad", 0.125

    Inventory.Pickupmessage "$SAMSARA_ARMOR12_4"
    Inventory.PickupSound "armor3get"
    Inventory.Icon "RMR6A0"

    RenderStyle Add
    Alpha 0.95
    +FLOATBOB

    States
    {
      Spawn:
        RMR6 A 0
        RMR6 A 35 bright ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
        wait
    }
}

actor MarathonGreenArmor: BasicArmorPickup
{
    Radius 20
    Height 16

    Armor.Savepercent 100
    Armor.Saveamount 100

    Inventory.Icon "RMR0A0"
    RenderStyle Add
    Alpha 0.95
    +FLOATBOB

    Inventory.Pickupmessage "$SAMSARA_ARMOR3_1"
    Inventory.PickupSound "armor1get"

    States
    {
      Spawn:
        RMR0 A 0
        RMR0 A 35 bright ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
        wait
    }
}

actor MarathonYellowArmor: BasicArmorPickup
{
    Radius 20
    Height 16

    Armor.Savepercent 100
    Armor.Saveamount 150

    Inventory.Icon "RMR8A0"
    RenderStyle Add
    Alpha 0.95
    +FLOATBOB

    Inventory.Pickupmessage "$SAMSARA_ARMOR3_2"
    Inventory.PickupSound "armor1get"

    States
    {
      Spawn:
        RMR8 A 0
        RMR8 A 35 bright ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
        wait
    }
}

actor MarathonBlueArmor: BasicArmorPickup
{
    Radius 20
    Height 16

    Armor.Savepercent 100
    Armor.Saveamount 200

    Inventory.Icon "RMR5A0"
    RenderStyle Add
    Alpha 0.95
    +FLOATBOB

    Inventory.Pickupmessage "$SAMSARA_ARMOR3_3"
    Inventory.PickupSound "armor2get"

    States
    {
      Spawn:
        RMR5 A 0
        RMR5 A 35 bright ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
        wait
    }
}

actor MarathonRedArmor: BasicArmorPickup
{
    Radius 20
    Height 16

    Armor.Savepercent 100
    Armor.Saveamount 300

    Inventory.Icon "RMR9A0"
    RenderStyle Add
    Alpha 0.95
    +FLOATBOB

    Inventory.Pickupmessage "$SAMSARA_ARMOR3_4"
    Inventory.PickupSound "armor3get"

    States
    {
      Spawn:
        RMR9 A 0
        RMR9 A 35 bright ACS_NamedExecuteAlways("SamsaraClientDecorate", 0, 4, 100, 90)
        wait
    }
}

actor GreenArmorPickup replaces GreenArmor
{
    +NOINTERACTION
    States
    {
      Spawn:
        RMR1 A 0 bright
	    TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",29,0,0) == 1, "Armor5")
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate", 19), "Armor5")
        TNT1 A 35 ACS_NamedExecuteWithResult("SamsaraDecorate", 18, 0)
        stop

      Armor1:
      Armor1_WithYellow:
        TNT1 A 0 A_SpawnItemEx("GreenArmorNoDrop",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor1_Drop:
      Armor1_YellowDrop:
        TNT1 A 0 A_SpawnItemEx("ArmorPack1",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor2:
      Armor2_WithYellow:
        TNT1 A 0 A_SpawnItemEx("QGreenArmorNoDrop",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor2_Drop:
      Armor2_YellowDrop:
        TNT1 A 0 A_SpawnItemEx("QuakeGreenArmor",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor3:
      Armor3_WithYellow:
        TNT1 A 0 A_SpawnItemEx("QYellowArmorNoDrop",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor3_Drop:
      Armor3_YellowDrop:
        TNT1 A 0 A_SpawnItemEx("QuakeYellowArmor",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor4:
      Armor4_WithYellow:
        TNT1 A 0 A_SpawnItemEx("MarathonGreenArmorNoDrop",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor4_Drop:
      Armor4_YellowDrop:
        TNT1 A 0 A_SpawnItemEx("MarathonGreenArmor",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor5:
      Armor5_WithYellow:
      Armor5_Drop:
      Armor5_YellowDrop:
        TNT1 A 0 A_SpawnItemEx("NoArmor",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop
    }
}

actor YellowArmorPickup //28636
{
    +NOINTERACTION

    States
    {
      Spawn:
        RMR5 A 0 bright
	    TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",29,0,0) == 1, "Armor5")
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate", 19), "Armor5")
        TNT1 A 35 ACS_NamedExecuteWithResult("SamsaraDecorate", 18, 1)
        stop

      Armor1:
      Armor1_WithYellow:
        TNT1 A 0 A_SpawnItemEx("YellowArmorNoDrop",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor1_Drop:
      Armor1_YellowDrop:
        TNT1 A 0 A_SpawnItemEx("SamsaraYellowArmor",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor2:
      Armor2_WithYellow:
        TNT1 A 0 A_SpawnItemEx("QYellowArmorNoDrop",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor2_Drop:
      Armor2_YellowDrop:
        TNT1 A 0 A_SpawnItemEx("QuakeYellowArmor",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor3:
      Armor3_WithYellow:
        TNT1 A 0 A_SpawnItemEx("QRedArmorNoDrop",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor3_Drop:
      Armor3_YellowDrop:
        TNT1 A 0 A_SpawnItemEx("QuakeRedArmor",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor4:
      Armor4_WithYellow:
        TNT1 A 0 A_SpawnItemEx("MarathonYellowArmorNoDrop",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor4_Drop:
      Armor4_YellowDrop:
        TNT1 A 0 A_SpawnItemEx("MarathonYellowArmor",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor5:
      Armor5_WithYellow:
      Armor5_Drop:
      Armor5_YellowDrop:
        TNT1 A 0 A_SpawnItemEx("NoArmor",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop
    }
}
        


actor BlueArmorPickup replaces BlueArmor
{
    +NOINTERACTION

    States
    {
      Spawn:
        RMR2 A 0 bright
	    TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",29,0,0) == 1, "Armor5")
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate", 19), "Armor5")
        TNT1 A 35 ACS_NamedExecuteWithResult("SamsaraDecorate", 18, 2)
        stop

      Armor1:
      Armor1_WithYellow:
        TNT1 A 0 A_SpawnItemEx("BlueArmorNoDrop",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor1_Drop:
      Armor1_YellowDrop:
        TNT1 A 0 A_SpawnItemEx("ArmorPack2",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop


      Armor2:
        TNT1 A 0 A_SpawnItemEx("QYellowArmorNoDrop",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor2_WithYellow:
        TNT1 A 0 A_SpawnItemEx("QRedArmorNoDrop",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor2_Drop:
        TNT1 A 0 A_SpawnItemEx("QuakeYellowArmor",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop
      
      Armor2_YellowDrop:
        TNT1 A 0 A_SpawnItemEx("QuakeRedArmor",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor3:
        TNT1 A 0 A_SpawnItemEx("QRedArmorNoDrop",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor3_WithYellow:
        TNT1 A 0 A_SpawnItemEx("SilverArmorNoDrop",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor3_Drop:
        TNT1 A 0 A_SpawnItemEx("QuakeRedArmor",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor3_YellowDrop:
        TNT1 A 0 A_SpawnItemEx("SamsaraSilverArmor",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor4:
      Armor4_WithYellow:
        TNT1 A 0 A_SpawnItemEx("MarathonBlueArmorNoDrop",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor4_Drop:
      Armor4_YellowDrop:
        TNT1 A 0 A_SpawnItemEx("MarathonBlueArmor",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor5:
      Armor5_WithYellow:
      Armor5_Drop:
      Armor5_YellowDrop:
        TNT1 A 0 A_SpawnItemEx("NoArmor",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop
    }
}

actor RedArmor 5040
{
    +NOINTERACTION

    States
    {
      Spawn:
        RMR3 A 0 bright
	    TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate",29,0,0) == 1, "Armor5")
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("SamsaraDecorate", 19), "Armor5")
        TNT1 A 35 ACS_NamedExecuteWithResult("SamsaraDecorate", 18, 3)
        stop

      Armor1:
      Armor1_WithYellow:
        TNT1 A 0 A_SpawnItemEx("RedArmorNoDrop",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor1_Drop:
      Armor1_YellowDrop:
        TNT1 A 0 A_SpawnItemEx("ArmorPack3",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop


      Armor2:
        TNT1 A 0 A_SpawnItemEx("QRedArmorNoDrop",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor2_WithYellow:
        TNT1 A 0 A_SpawnItemEx("SilverArmorNoDrop",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor2_Drop:
        TNT1 A 0 A_SpawnItemEx("QuakeRedArmor",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor2_YellowDrop:
        TNT1 A 0 A_SpawnItemEx("SamsaraSilverArmor",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor3:
      Armor3_WithYellow:
        TNT1 A 0 A_SpawnItemEx("SilverArmorNoDrop",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor3_Drop:
      Armor3_YellowDrop:
        TNT1 A 0 A_SpawnItemEx("SamsaraSilverArmor",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor4:
      Armor4_WithYellow:
        TNT1 A 0 A_SpawnItemEx("MarathonRedArmorNoDrop",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor4_Drop:
      Armor4_YellowDrop:
        TNT1 A 0 A_SpawnItemEx("MarathonRedArmor",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop

      Armor5:
      Armor5_WithYellow:
      Armor5_Drop:
      Armor5_YellowDrop:
        TNT1 A 0 A_SpawnItemEx("NoArmor",0,0,0,0,0,0,0,SXF_TRANSFERSPECIAL)
        stop
    }
}

actor GreenArmorNoDrop: ArmorPack1
{
    States
    {
      Spawn:
        TNT1 A 0
        TNT1 A 0 A_ChangeFlag("DROPPED", 0)
        goto Super::Spawn
    }
}

actor YellowArmorNoDrop: SamsaraYellowArmor
{
    States
    {
      Spawn:
        TNT1 A 0
        TNT1 A 0 A_ChangeFlag("DROPPED", 0)
        goto Super::Spawn
    }
}

actor BlueArmorNoDrop: ArmorPack2
{
    States
    {
      Spawn:
        TNT1 A 0
        TNT1 A 0 A_ChangeFlag("DROPPED", 0)
        goto Super::Spawn
    }
}

actor RedArmorNoDrop: ArmorPack3
{
    States
    {
      Spawn:
        TNT1 A 0
        TNT1 A 0 A_ChangeFlag("DROPPED", 0)
        goto Super::Spawn
    }
}



actor QGreenArmorNoDrop: QuakeGreenArmor
{
    States
    {
      Spawn:
        TNT1 A 0
        TNT1 A 0 A_ChangeFlag("DROPPED", 0)
        goto Super::Spawn
    }
}

actor QYellowArmorNoDrop: QuakeYellowArmor
{
    States
    {
      Spawn:
        TNT1 A 0
        TNT1 A 0 A_ChangeFlag("DROPPED", 0)
        goto Super::Spawn
    }
}

actor QRedArmorNoDrop: QuakeRedArmor
{
    States
    {
      Spawn:
        TNT1 A 0
        TNT1 A 0 A_ChangeFlag("DROPPED", 0)
        goto Super::Spawn
    }
}

actor SilverArmorNoDrop: SamsaraSilverArmor
{
    States
    {
      Spawn:
        TNT1 A 0
        TNT1 A 0 A_ChangeFlag("DROPPED", 0)
        goto Super::Spawn
    }
}


actor MarathonGreenArmorNoDrop: MarathonGreenArmor
{
    States
    {
      Spawn:
        TNT1 A 0
        TNT1 A 0 A_ChangeFlag("DROPPED", 0)
        goto Super::Spawn
    }
}

actor MarathonYellowArmorNoDrop: MarathonYellowArmor
{
    States
    {
      Spawn:
        TNT1 A 0
        TNT1 A 0 A_ChangeFlag("DROPPED", 0)
        goto Super::Spawn
    }
}

actor MarathonBlueArmorNoDrop: MarathonBlueArmor
{
    States
    {
      Spawn:
        TNT1 A 0
        TNT1 A 0 A_ChangeFlag("DROPPED", 0)
        goto Super::Spawn
    }
}

actor MarathonRedArmorNoDrop: MarathonRedArmor
{
    States
    {
      Spawn:
        TNT1 A 0
        TNT1 A 0 A_ChangeFlag("DROPPED", 0)
        goto Super::Spawn
    }
}

actor NoArmor: BasicArmorPickup
{
    Armor.SaveAmount 0
    Armor.SavePercent 0

    States
    {
      States:
        TNT1 A 0
        stop
    }
}
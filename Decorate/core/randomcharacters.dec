Actor DetermineValidCell
{
	+VULNERABLE
	+CANPASS
	States
	{
		Spawn:
			TNT1 A 0 NoDelay A_GiveInventory("isCellCheckerToken",1)
			TNT1 A 0 A_RadiusGive("DetermineValidCellBroadcast",1024,RGF_PLAYERS|RGF_MONSTERS|RGF_NOSIGHT|RGF_CUBE)
			TNT1 A 4
			Stop
	}
}

Actor DetermineValidCellBroadcast : Trigger
{
	States
	{
		Pickup:	
			TNT1 A 0 A_RadiusGive("IsValidCellBroadcast",1024,RGF_OBJECTS|RGF_NOSIGHT|RGF_CUBE)
			Stop
	}
}

Actor IsValidCellBroadcast : Trigger
{
	States
	{
		Pickup:
			TNT1 A 0 A_JumpIfInventory("isCellCheckerToken",1,1)
			fail
			TNT1 A 0 ACS_NamedExecuteWithResult("CellDoneScanning")
			TNT1 A 0 Thing_Remove(0)
			Stop
	}
}

Actor DetermineValidSpawn
{
	Height 56
	Radius 32
	+VULNERABLE
	+SOLID
	States
	{
		Spawn:
			TNT1 A 0 NoDelay A_GiveInventory("isSpawnCheckerToken",1)
			TNT1 A 0 A_RadiusGive("DetermineValidSpawnBroadcast",1024,RGF_PLAYERS|RGF_MONSTERS|RGF_CUBE)
			TNT1 A 0 A_UnsetSolid
			TNT1 A 35
			TNT1 A 0 Thing_Remove(0)
			Stop
	}
}

Actor DetermineValidSpawnBroadcast : Trigger
{
	States
	{
		Pickup:	
			TNT1 A 0 A_RadiusGive("IsValidSpawnBroadcast",1024,RGF_OBJECTS|RGF_CUBE)
			Stop
	}
}

Actor IsValidSpawnBroadcast : Trigger
{
	States
	{
		Pickup:
			TNT1 A 0 A_JumpIfInventory("isSpawnCheckerToken",1,1)
			fail
			TNT1 A 0 A_JumpIfInventory("ValidSpawnToken",1,"Failure")
			TNT1 A 0 A_GiveInventory("ValidSpawnToken",1)
			TNT1 A 0 ACS_NamedExecuteWithResult("Samsara2689")
			Stop
		Failure:
			TNT1 A 0
			fail
	}
}

Actor isCellCheckerToken : Inventory { Inventory.MaxAmount 1 }
Actor isSpawnCheckerToken : Inventory { Inventory.MaxAmount 1 }
Actor ValidSpawnToken : Inventory { Inventory.MaxAmount 1 }

Actor DetermineValidSpawnTestObject
{
	Height 4
	Radius 4
	States
	{
		Spawn:
			TNT1 A 5
			Stop
	}
}

Actor DetermineValidCellItems
{
	+VULNERABLE
	+CANPASS
	States
	{
		Spawn:
			TNT1 A 0 NoDelay A_GiveInventory("isCellCheckerToken",1)
			TNT1 A 0 A_RadiusGive("DetermineValidCellBroadcastItems",1024,RGF_PLAYERS|RGF_MONSTERS|RGF_NOSIGHT|RGF_CUBE)
			TNT1 A 4
			Stop
	}
}

Actor DetermineValidCellBroadcastItems : Trigger
{
	States
	{
		Pickup:	
			TNT1 A 0 A_RadiusGive("IsValidCellBroadcastItems",1024,RGF_OBJECTS|RGF_NOSIGHT|RGF_CUBE)
			Stop
	}
}

Actor IsValidCellBroadcastItems : Trigger
{
	States
	{
		Pickup:
			TNT1 A 0 A_JumpIfInventory("isCellCheckerToken",1,1)
			fail
			TNT1 A 0 ACS_NamedExecuteWithResult("CellDoneScanningItems")
			TNT1 A 0 Thing_Remove(0)
			Stop
	}
}

Actor DetermineValidSpawnItems
{
	Height 56
	Radius 32
	+VULNERABLE
	+SOLID
	States
	{
		Spawn:
			TNT1 A 0 NoDelay A_GiveInventory("isSpawnCheckerToken",1)
			TNT1 A 0 A_RadiusGive("DetermineValidSpawnBroadcastItems",1024,RGF_PLAYERS|RGF_MONSTERS|RGF_CUBE)
			TNT1 A 0 A_UnsetSolid
			TNT1 A 35
			TNT1 A 0 Thing_Remove(0)
			Stop
	}
}

Actor DetermineValidSpawnBroadcastItems : Trigger
{
	States
	{
		Pickup:	
			TNT1 A 0 A_RadiusGive("IsValidSpawnBroadcastItems",1024,RGF_OBJECTS|RGF_CUBE)
			Stop
	}
}

Actor IsValidSpawnBroadcastItems : Trigger
{
	States
	{
		Pickup:
			TNT1 A 0 A_JumpIfInventory("isSpawnCheckerToken",1,1)
			fail
			TNT1 A 0 A_JumpIfInventory("ValidSpawnToken",1,"Failure")
			TNT1 A 0 A_GiveInventory("ValidSpawnToken",1)
			TNT1 A 0 ACS_NamedExecuteWithResult("Samsara2689_Items")
			Stop
		Failure:
			TNT1 A 0
			fail
	}
}

actor SamsaraRandomItemSpawnerDoom : RandomSpawner
{
    // Health pickups
	dropitem "HealPack0", 255, 100
    dropitem "HealPack1", 255, 50
    dropitem "HealPack2", 255, 40
	dropitem "SuperHealth", 255, 8
	dropitem "MegaPack", 255, 2
	
	// Armor pickups
    dropitem "ArmorScrap", 255, 100
	dropitem "ArmorPack1", 255, 15
	dropitem "ArmorPack3", 255, 10
	
	// Ammo pickups
	dropitem "Ammo1Small", 255, 50
	dropitem "Ammo2Small", 255, 50
	dropitem "Ammo3Small", 255, 30
	dropitem "Ammo4Small", 255, 30
	dropitem "Ammo1Big", 255, 15
	dropitem "Ammo2Big", 255, 15
	dropitem "Ammo3Big", 255, 10
	dropitem "Ammo4Big", 255, 10
	dropitem "AmmoBackpack", 255, 5
	
	// Weapon pickups
	dropitem "SamsaraSlotOneDrop", 255, 5
	dropitem "SamsaraSlotTwoDrop", 255, 5
	dropitem "SamsaraSlotThreeDrop", 255, 4
	dropitem "SamsaraSlotFourDrop", 255, 4
	dropitem "SamsaraSlotFourSkulltagDrop", 255, 4
	dropitem "SamsaraSlotFiveDrop", 255, 3
	dropitem "SamsaraSlotFiveSkulltagDrop", 255, 3
	dropitem "SamsaraSlotSixDrop", 255, 2
	dropitem "SamsaraSlotSixSkulltagDrop", 255, 2
	dropitem "SamsaraSlotSevenDrop", 255, 1
	dropitem "SamsaraSlotSevenSkulltagDrop", 255, 1
	dropitem "SamsaraUniquePickup", 255, 2
	
	// Powerups
	dropitem "PartialInvisibility", 255, 6
	dropitem "BioSuit", 255, 6
	dropitem "Visor", 255, 6
	dropitem "SamsaraAllMap", 255, 6
	dropitem "InvulnPowerup", 255, 1
}

actor SamsaraRandomItemSpawnerChex : RandomSpawner
{
    // Health pickups
	dropitem "HealPack0", 255, 100
    dropitem "HealPack1", 255, 50
    dropitem "HealPack2", 255, 40
	dropitem "SuperHealth", 255, 10
	
	// Armor pickups
    dropitem "ArmorScrap", 255, 100
	dropitem "ArmorPack1", 255, 15
	dropitem "ArmorPack3", 255, 10
	
	// Ammo pickups
	dropitem "Ammo1Small", 255, 50
	dropitem "Ammo2Small", 255, 50
	dropitem "Ammo3Small", 255, 30
	dropitem "Ammo4Small", 255, 30
	dropitem "Ammo1Big", 255, 15
	dropitem "Ammo2Big", 255, 15
	dropitem "Ammo3Big", 255, 10
	dropitem "Ammo4Big", 255, 10
	dropitem "AmmoBackpack", 255, 5
	
	// Weapon pickups
	dropitem "SamsaraSlotOneDrop", 255, 5
	dropitem "SamsaraSlotTwoDrop", 255, 5
	dropitem "SamsaraSlotThreeDrop", 255, 4
	dropitem "SamsaraSlotFourDrop", 255, 4
	dropitem "SamsaraSlotFourSkulltagDrop", 255, 4
	dropitem "SamsaraSlotFiveDrop", 255, 3
	dropitem "SamsaraSlotFiveSkulltagDrop", 255, 3
	dropitem "SamsaraSlotSixDrop", 255, 2
	dropitem "SamsaraSlotSixSkulltagDrop", 255, 2
	dropitem "SamsaraSlotSevenDrop", 255, 1
	dropitem "SamsaraSlotSevenSkulltagDrop", 255, 1
	
	// Powerups
	dropitem "ChexBioSuit", 255, 10
	dropitem "ChexVisor", 255, 10
	dropitem "ChexAutomap", 255, 5
}

actor SamsaraRandomItemSpawnerHeretic : RandomSpawner
{
    // Health pickups
	dropitem "HereticHealPack0", 255, 125
	dropitem "HereticStuffDump", 255, 100
    dropitem "HereticHealPack1", 255, 50
    dropitem "HereticHealPack2", 255, 40
	dropitem "HereticSuperHealth", 255, 10
	
	// Armor pickups
	dropitem "HereticArmorDump", 255, 50
	dropitem "HereticArmorPack1", 255, 15
	dropitem "HereticArmorPack3", 255, 10
	
	// Ammo pickups
	dropitem "HereticAmmo1Small", 255, 50
	dropitem "HereticAmmo2Small", 255, 50
	dropitem "HereticAmmo3Small", 255, 30
	dropitem "HereticAmmo4Small", 255, 30
	dropitem "HereticAmmo1Big", 255, 15
	dropitem "HereticAmmo2Big", 255, 15
	dropitem "HereticAmmo3Big", 255, 10
	dropitem "HereticAmmo4Big", 255, 10
	dropitem "HereticAmmoBackpack", 255, 5
	
	// Weapon pickups
	dropitem "SamsaraSlotOneDrop", 255, 5
	dropitem "SamsaraSlotTwoDrop", 255, 5
	dropitem "SamsaraSlotThreeDrop", 255, 4
	dropitem "SamsaraSlotFourDrop", 255, 4
	dropitem "SamsaraSlotFourSkulltagDrop", 255, 4
	dropitem "SamsaraSlotFiveDrop", 255, 3
	dropitem "SamsaraSlotFiveSkulltagDrop", 255, 3
	dropitem "SamsaraSlotSixDrop", 255, 2
	dropitem "SamsaraSlotSixSkulltagDrop", 255, 2
	dropitem "SamsaraSlotSevenDrop", 255, 1
	dropitem "SamsaraSlotSevenSkulltagDrop", 255, 1
	dropitem "SamsaraUniquePickup_Heretic", 255, 2
	
	// Powerups
	dropitem "HereticInvisibility", 255, 5
	dropitem "HereticVisor", 255, 5
	dropitem "HereticAutomap", 255, 5
	dropitem "HereticInvulnerability", 255, 1
	dropitem "HereticFlightPickup", 255, 3
	dropitem "HereticTeleportPickup", 255, 3
	dropitem "HereticLesserTome", 255, 3
}

actor SamsaraRandomItemSpawnerHexen : RandomSpawner
{
    // Health pickups
    dropitem "HexenHealPack0" , 255, 50
	dropitem "HereticHealPack1", 255, 50
    dropitem "HereticHealPack2", 255, 40
	dropitem "HereticSuperHealth", 255, 10
	
	// Armor pickups
	dropitem "HexenArmorDump", 255, 50
	dropitem "HexenArmor1", 255, 20
	dropitem "HexenArmor5", 255, 5
	
	// Ammo pickups
	dropitem "HexenAmmo12Small", 255, 40
	dropitem "HexenAmmo34Small", 255, 40
	dropitem "HexenEverythingAmmo", 255, 15
	dropitem "HexenAmmoBackpack", 255, 5
	
	// Weapon pickups
	dropitem "SamsaraSlotOneDrop", 255, 5
	dropitem "SamsaraSlotTwoDrop", 255, 5
	dropitem "SamsaraSlotThreeDrop", 255, 4
	dropitem "SamsaraSlotFourDrop", 255, 4
	dropitem "SamsaraSlotFourSkulltagDrop", 255, 4
	dropitem "SamsaraSlotFiveDrop", 255, 3
	dropitem "SamsaraSlotFiveSkulltagDrop", 255, 3
	dropitem "SamsaraSlotSixDrop", 255, 2
	dropitem "SamsaraSlotSixSkulltagDrop", 255, 2
	dropitem "SamsaraSlotSevenDrop", 255, 1
	dropitem "SamsaraSlotSevenSkulltagDrop", 255, 1
	dropitem "SamsaraUniquePickup_Hexen", 255, 2
	
	// Powerups
	dropitem "HereticVisor", 255, 7
	dropitem "HexenInvulnerability", 255, 1
	dropitem "HexenBootsPickup", 255, 7
	dropitem "HexenTeleportPickup", 255, 7
}

actor SamsaraRandomItemSpawnerStrife : RandomSpawner
{
    // Health pickups
	dropitem "StrifeStimpack", 255, 125
    dropitem "StrifeMedikit", 255, 70
    dropitem "StrifeSoulsphere", 255, 5
	
	// Armor pickups
    dropitem "SamsaraLeatherArmorPickup", 255, 40
	dropitem "SamsaraMetalArmorPickup", 255, 10
	
	// Ammo pickups
	dropitem "Ammo1Small", 255, 35
	dropitem "StrifeElectricBolts", 255, 35
	dropitem "Ammo3Small", 255, 35
	dropitem "Ammo4Small", 255, 35
	dropitem "Ammo1Big", 255, 10
	dropitem "Ammo2Big", 255, 10
	dropitem "Ammo3Big", 255, 5
	dropitem "Ammo4Big", 255, 5
	dropitem "StrifeMiniMissiles", 255, 25
	dropitem "StrifeCrateOfMissiles", 255, 25
	dropitem "StrifeHEGrenades", 255, 25
	dropitem "AmmoBackpack", 255, 5
	
	// Weapon pickups
	dropitem "SamsaraSlotOneDrop", 255, 5
	dropitem "SamsaraSlotTwoDrop", 255, 5
	dropitem "SamsaraSlotThreeDrop", 255, 4
	dropitem "SamsaraSlotFourDrop", 255, 4
	dropitem "SamsaraSlotFourSkulltagDrop", 255, 4
	dropitem "SamsaraSlotFiveDrop", 255, 3
	dropitem "SamsaraSlotFiveSkulltagDrop", 255, 3
	dropitem "SamsaraSlotSixDrop", 255, 2
	dropitem "SamsaraSlotSixSkulltagDrop", 255, 2
	dropitem "SamsaraSlotSevenDrop", 255, 1
	dropitem "SamsaraSlotSevenSkulltagDrop", 255, 1
	
	// Powerups
	dropitem "ShadowArmor", 255, 7
	dropitem "EnvironmentalSuit", 255, 7
	dropitem "Scanner", 255, 7
	dropitem "StrifeMap", 255, 4
}

// Hacx doesn't need its own item spawner

actor SamsaraRandomItemSpawnerHarmony : RandomSpawner
{
    // Health pickups
    dropitem "HealPack1", 255, 75
    dropitem "HealPack2", 255, 65
	dropitem "SuperHealth", 255, 10
	
	// Armor pickups
	dropitem "ArmorPack1", 255, 15
	dropitem "ArmorPack3", 255, 10
	
	// Ammo pickups
	dropitem "Ammo1Big", 255, 60
	dropitem "Ammo2Big", 255, 60
	dropitem "Ammo3Big", 255, 40
	dropitem "Ammo4Big", 255, 30
	dropitem "Ammo4Small", 255, 50
	dropitem "AmmoBackpack", 255, 10
	
	// Weapon pickups
	dropitem "SamsaraSlotOneDrop", 255, 5
	dropitem "SamsaraSlotTwoDrop", 255, 5
	dropitem "SamsaraSlotThreeDrop", 255, 4
	dropitem "SamsaraSlotFourDrop", 255, 4
	dropitem "SamsaraSlotFourSkulltagDrop", 255, 4
	dropitem "SamsaraSlotFiveDrop", 255, 3
	dropitem "SamsaraSlotFiveSkulltagDrop", 255, 3
	dropitem "SamsaraSlotSixDrop", 255, 2
	dropitem "SamsaraSlotSixSkulltagDrop", 255, 2
	dropitem "SamsaraSlotSevenDrop", 255, 1
	dropitem "SamsaraSlotSevenSkulltagDrop", 255, 1
	
	// Powerups
	dropitem "SamsaraAllMap", 255, 25
}